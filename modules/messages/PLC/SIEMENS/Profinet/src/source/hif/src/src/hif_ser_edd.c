/*****************************************************************************/
/*  Copyright (C) 2015 Siemens Aktiengesellschaft. All rights reserved.      */
/*****************************************************************************/
/*  This program is protected by German copyright law and international      */
/*  treaties. The use of this software including but not limited to its      */
/*  Source Code is subject to restrictions as agreed in the license          */
/*  agreement between you and Siemens.                                       */
/*  Copying or distribution is not allowed unless expressly permitted        */
/*  according to your license agreement with Siemens.                        */
/*****************************************************************************/
/*                                                                           */
/*  P r o j e c t         &P: PROFINET IO Runtime Software              :P&  */
/*                                                                           */
/*  P a c k a g e         &W: PROFINET IO Runtime Software              :W&  */
/*                                                                           */
/*  C o m p o n e n t     &C: HIF (Host Interface)                      :C&  */
/*                                                                           */
/*  F i l e               &F: hif_ser_edd.c                             :F&  */
/*                                                                           */
/*  V e r s i o n         &V: BC_PNRUN_P05.04.00.00_00.02.00.40         :V&  */
/*                                                                           */
/*  D a t e  (YYYY-MM-DD) &D: 2015-07-28                                :D&  */
/*                                                                           */
/*****************************************************************************/
/*                                                                           */
/*  D e s c r i p t i o n :                                                  */
/*                                                                           */
/*  Automatically generated with HIF Code Generator v2.1.0                   */
/*                                                                           */
/*                                                                           */
/*  !!!ATTENTION: Do not edit this file.                                     */
/*                Please use the HIF Code Generator to generate this file.   */
/*                                                                           */
/*  The hash value was automatically calculated by HIF Code Generator!       */
/*  HASH-VALUE: 45kRAa/N1WlIRaU+GfbCmG6ygw8I01PBEQzWyPoeA7k=                 */
/*****************************************************************************/

#if defined( TOOL_CHAIN_MICROSOFT ) /* Microsoft Visual C++ */
#pragma component(browser, off, references)
#endif

#define HIF_MODULE_ID		23
#define LTRC_ACT_MODUL_ID	23

#include "hif_int.h"		

HIF_FILE_SYSTEM_EXTENSION(HIF_MODULE_ID)

#if ( (HIF_CFG_COMPILE_SERIALIZATION == 1) && (HIF_CFG_USE_EDD == 1) )


/* Prototypes */


/* Helper Functions */

/****************************************************************************
*  Name:        hif_edd_serialize_upper()
*  Purpose:     Function serializes the RQB to the HIF shared memory - 
*               according to the component ID and OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB, stored in the hosts local memory
*               pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the HIF shared memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16  hif_edd_serialize_upper (
    HIF_SYS_HANDLE hSysDev,
    LSA_VOID*      pHifPipeHandle,
    LSA_INT        hShmPool,
    LSA_VOID*      pRqbSrc,
    LSA_VOID**     ppRqbDest,
    LSA_UINT32*    pSerRqbLen )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_UINT32 rqb_size = 0;
    LSA_OPCODE_TYPE opcode = 0;
    EDD_RQB_TYPE* ptr_rqb_src = (EDD_RQB_TYPE*)pRqbSrc;
    LSA_VOID** ptr_ptr_rqb_dest = ppRqbDest;
    EDD_SERVICE service = ptr_rqb_src->Service;
    LSA_UINT32 i=0,j=0;
    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_rqb_src)); /*#5*/
    opcode=HIF_RQB_GET_OPCODE(ptr_rqb_src);

    if (opcode==EDD_OPC_OPEN_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF_SYS_PATH_TYPE();            /* SysPath */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_SYS_PATH_HTSHM((LSA_UINT32**)&help_ptr,((EDD_UPPER_OPEN_CHANNEL_PTR_TYPE)(ptr_rqb_src->pParam))->SysPath);                        /* SysPath */
        }
    }
    else if (opcode==EDD_OPC_CLOSE_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_RECV) )
    {
        /* !!!SPECIAL CASE!!! hif_edd_serialize_upper_EDD_UPPER_NRT_RECV_PTR_TYPE_EDD_OPC_REQUEST###EDD_SRV_NRT_RECV*/

    rqb_size+=HIF_SER_SIZEOF(4);    /* original upper RQB pointer */
    rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();    /* _opcode */
    rqb_size+=HIF_SER_SIZEOF(4);    /* Service */
    rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();    /* _comp_id */
    rqb_size+=HIF_SER_SIZEOF(4);    /* serialize "pParam" pointer itself */
    if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
    {
      rqb_size+=HIF_SER_SIZEOF(4);      /* serialize "pBuffer" pointer itself */
      // pBuffer is not sent down, just received
      //if (HIF_IS_NOT_NULL(((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer /* #8*/))
      //{
      //  rqb_size+=HIF_SER_SIZEOF(((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->IOCount);      /* size of: pBuffer */
      //}
      rqb_size+=HIF_SER_SIZEOF(4);      /* RequestID */
      rqb_size+=HIF_SER_SIZEOF(1);      /* Tag */
      rqb_size+=HIF_SER_SIZEOF(4);      /* Status */
      rqb_size+=HIF_SER_SIZEOF(1);      /* TE_Event */
      rqb_size+=HIF_SER_SIZEOF(1);      /* SE_Event */
    }
    HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
    HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

    if (HIF_IS_NULL(help_ptr))
    {
      return HIF_ERR_RESOURCE;
    }

    *ptr_ptr_rqb_dest = help_ptr;
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);        /* original upper RQB pointer */

    HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);        /* _opcode */
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);        /* Service */
    HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));        /* _comp_id */
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);    /* serialize pointer info itself */
    if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
    {
      HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer);      /* serialize pointer info itself */
      // pBuffer itself is not sent down, just allocated on lower side and the content received afterwards
      //if (HIF_IS_NOT_NULL(((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer /*#11*/))
      //{
      //  HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer),((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->IOCount);      /* pBuffer */
      //}
      HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->RequestID);            /* RequestID */
      HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->Tag);            /* Tag */
      HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->Status);            /* Status */
      HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->TE_Event);            /* TE_Event */
      HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->SE_Event);            /* SE_Event */
    }
    
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SEND) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* Length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pBuffer" pointer itself */
            if (HIF_IS_NOT_NULL(((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->Length);            /* size of: pBuffer */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* Priority */
            rqb_size+=HIF_SER_SIZEOF(2);            /* PortID */
            rqb_size+=HIF_SER_SIZEOF(2);            /* FrameID */
            rqb_size+=HIF_SER_SIZEOF(1);            /* TxTimePresent */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TxTime */
            rqb_size+=HIF_SER_SIZEOF(4);            /* LineDelayInTicksHardware */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TxFrmGroup */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->Length);                        /* Length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer),((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->Length);            /* pBuffer */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->Priority);                        /* Priority */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->PortID);                        /* PortID */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->FrameID);                        /* FrameID */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->TxTimePresent);                        /* TxTimePresent */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->TxTime);                        /* TxTime */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->LineDelayInTicksHardware);                        /* LineDelayInTicksHardware */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->TxFrmGroup);                        /* TxFrmGroup */
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_CANCEL) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* Mode */
            rqb_size+=HIF_SER_SIZEOF(4);            /* RequestID */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_CANCEL_PTR_TYPE)(ptr_rqb_src->pParam))->Mode);                        /* Mode */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_CANCEL_PTR_TYPE)(ptr_rqb_src->pParam))->RequestID);                        /* RequestID */
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LINK_STATUS_IND_PROVIDE) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* PortID */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortID);                        /* PortID */
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_SET_IP) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=(HIF_SER_SIZEOF(1) * EDD_IP_ADDR_SIZE);            /* IPAdr */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            for(i=0;i<EDD_IP_ADDR_SIZE;i++)                                    /* LocalIP*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_SET_IP_PTR_TYPE)(ptr_rqb_src->pParam))->LocalIP.IPAdr[i]);                        /* IPAdr */
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SET_ARP_FILTER) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* Mode */
            rqb_size+=HIF_SER_SIZEOF(1);            /* FilterCnt */
            for(i=0;i<EDD_MAX_ARP_FILTER;i++)            /* IPAddr*/
            {
                rqb_size+=(HIF_SER_SIZEOF(1) * EDD_IP_ADDR_SIZE);                /* IPAdr */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SET_ARP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->Mode);                        /* Mode */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SET_ARP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterCnt);                        /* FilterCnt */
            for(i=0;i<EDD_MAX_ARP_FILTER;i++)                                                /* IPAddr*/
            {
                for(j=0;j<EDD_IP_ADDR_SIZE;j++)                                                /* IPAddr*/
                {
                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SET_ARP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->IPAddr[i].IPAdr[j]);                                /* IPAdr */
                }
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SET_DCP_FILTER) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* Mode */
            rqb_size+=HIF_SER_SIZEOF(2);            /* FilterTLVCnt */
            for(i=0;i<((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLVCnt;i++)            /* FilterTLV*/
            {
                rqb_size+=HIF_SER_SIZEOF(4);                /* TLVLen */
                rqb_size+=HIF_SER_SIZEOF(4);                /* serialize "pTLV" pointer itself */
                if (HIF_IS_NOT_NULL(((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLV[i].pTLV /* #8*/))
                {
                    rqb_size+=HIF_SER_SIZEOF(((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLV[i].TLVLen);                /* size of: pTLV */
                }
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            /* INFO: serialize the array size right after the pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLVCnt);                        /* FilterTLVCnt */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->Mode);                        /* Mode */
            for(i=0;i<((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLVCnt;i++)                                                /* FilterTLV*/
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLV[i].TLVLen);                                /* TLVLen */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLV[i].pTLV);                /* serialize pointer info itself */
                if (HIF_IS_NOT_NULL(((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLV[i].pTLV /*#11*/))
                {
                    HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLV[i].pTLV),((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLV[i].TLVLen);                /* pTLV */
                }
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_PARAMS) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LINK_STATUS_IND_PROVIDE_EXT) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* PortID */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Autoneg */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Status */
            rqb_size+=HIF_SER_SIZEOF(1);            /* PhyStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Speed */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Mode */
            rqb_size+=HIF_SER_SIZEOF(1);            /* PortStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* IRTPortStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* RTClass2_PortStatus */
            rqb_size+=HIF_SER_SIZEOF(2);            /* PortState */
            rqb_size+=HIF_SER_SIZEOF(2);            /* MAUType */
            rqb_size+=HIF_SER_SIZEOF(1);            /* MediaType */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ShortPreamble */
            rqb_size+=HIF_SER_SIZEOF(1);            /* TxFragmentation */
            rqb_size+=HIF_SER_SIZEOF(4);            /* LineDelayInTicksMeasured */
            rqb_size+=HIF_SER_SIZEOF(4);            /* CableDelayInNsMeasured */
            rqb_size+=HIF_SER_SIZEOF(4);            /* PortTxDelay */
            rqb_size+=HIF_SER_SIZEOF(4);            /* PortRxDelay */
            rqb_size+=HIF_SER_SIZEOF(1);            /* SyncId0_TopoOk */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortID);                        /* PortID */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Autoneg);                        /* Autoneg */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Status);                        /* Status */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PhyStatus);                        /* PhyStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Speed);                        /* Speed */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Mode);                        /* Mode */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortStatus);                        /* PortStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->IRTPortStatus);                        /* IRTPortStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->RTClass2_PortStatus);                        /* RTClass2_PortStatus */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortState);                        /* PortState */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->MAUType);                        /* MAUType */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->MediaType);                        /* MediaType */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->ShortPreamble);                        /* ShortPreamble */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->TxFragmentation);                        /* TxFragmentation */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->LineDelayInTicksMeasured);                        /* LineDelayInTicksMeasured */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->CableDelayInNsMeasured);                        /* CableDelayInNsMeasured */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortTxDelay);                        /* PortTxDelay */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortRxDelay);                        /* PortRxDelay */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->SyncId0_TopoOk);                        /* SyncId0_TopoOk */
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_PORT_PARAMS) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* PortID */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->PortID);                        /* PortID */
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_MULTICAST) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* Mode */
            rqb_size+=(HIF_SER_SIZEOF(1) * EDD_MAC_ADDR_SIZE);            /* MacAdr */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_MULTICAST_PTR_TYPE)(ptr_rqb_src->pParam))->Mode);                        /* Mode */
            for(i=0;i<EDD_MAC_ADDR_SIZE;i++)                                    /* MACAddr*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_MULTICAST_PTR_TYPE)(ptr_rqb_src->pParam))->MACAddr.MacAdr[i]);                        /* MacAdr */
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LED_BLINK) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_SET_REMOTE_PORT_STATE) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* PortID */
            rqb_size+=HIF_SER_SIZEOF(4);            /* SyncId0_TopoState */
            rqb_size+=HIF_SER_SIZEOF(4);            /* RtClass2_TopoState */
            rqb_size+=HIF_SER_SIZEOF(4);            /* RtClass3_TopoState */
            rqb_size+=HIF_SER_SIZEOF(4);            /* RtClass3_PDEVTopoState */
            rqb_size+=HIF_SER_SIZEOF(4);            /* RtClass3_RemoteState */
            rqb_size+=HIF_SER_SIZEOF(4);            /* Neighbour_TopoState */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(ptr_rqb_src->pParam))->PortID);                        /* PortID */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(ptr_rqb_src->pParam))->SyncId0_TopoState);                        /* SyncId0_TopoState */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(ptr_rqb_src->pParam))->RtClass2_TopoState);                        /* RtClass2_TopoState */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(ptr_rqb_src->pParam))->RtClass3_TopoState);                        /* RtClass3_TopoState */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(ptr_rqb_src->pParam))->RtClass3_PDEVTopoState);                        /* RtClass3_PDEVTopoState */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(ptr_rqb_src->pParam))->RtClass3_RemoteState);                        /* RtClass3_RemoteState */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(ptr_rqb_src->pParam))->Neighbour_TopoState);                        /* Neighbour_TopoState */
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_STATISTICS_ALL) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* Reset */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_upper() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->Reset);                        /* Reset */
        }
    }
    else
    {
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"hif_edd_serialize_upper(). RQB-Opcode:0x%x / Service:0x%x is not valid! pRQB(0x%08x)",opcode,service,ptr_rqb_src+4);
        HIF_FATAL(0);
    }

    *pSerRqbLen = rqb_size;

    HIF_ASSERT(HIF_IS_NOT_NULL(help_ptr)); /*#4*/

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_SERIALIZE(service, *ptr_ptr_rqb_dest, rqb_size, help_ptr, "hif_edd_serialize_upper");

    return HIF_OK;
}

/****************************************************************************
*  Name:        hif_edd_serialize_lower()
*  Purpose:     Function serializes the RQB to the HIF shared memory - 
*               according to the component ID and OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB, stored in the hosts local memory
*               pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the HIF shared memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16  hif_edd_serialize_lower (
    HIF_SYS_HANDLE hSysDev,
    LSA_VOID*      pHifPipeHandle,
    LSA_INT        hShmPool,
    LSA_VOID*      pRqbSrc,
    LSA_VOID**     ppRqbDest,
    LSA_UINT32*    pSerRqbLen )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_UINT32 rqb_size = 0;
    LSA_OPCODE_TYPE opcode = 0;
    EDD_RQB_TYPE* ptr_rqb_src = (EDD_RQB_TYPE*)pRqbSrc;
    LSA_VOID** ptr_ptr_rqb_dest = ppRqbDest;
    EDD_SERVICE service = ptr_rqb_src->Service;
    LSA_UINT16 freeRes = 0;
    LSA_UINT32 i=0;
    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_rqb_src)); /*#5*/
    opcode=HIF_RQB_GET_OPCODE(ptr_rqb_src);

    if (opcode==EDD_OPC_OPEN_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF_SYS_PATH_TYPE();            /* SysPath */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_SYS_PATH_HTSHM((LSA_UINT32**)&help_ptr,((EDD_UPPER_OPEN_CHANNEL_PTR_TYPE)(ptr_rqb_src->pParam))->SysPath);                        /* SysPath */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==EDD_OPC_CLOSE_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_RECV) )
    {
        /* !!!SPECIAL CASE!!! hif_edd_serialize_lower_EDD_UPPER_NRT_RECV_PTR_TYPE_EDD_OPC_REQUEST###EDD_SRV_NRT_RECV*/

    rqb_size+=HIF_SER_SIZEOF(4);     /* original upper RQB pointer */
    rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();     /* _opcode */
    rqb_size+=HIF_SER_SIZEOF(4);     /* Service */
    rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();     /* _comp_id */
    rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();     /* _response */
    rqb_size+=HIF_SER_SIZEOF(4);     /* serialize "pParam" pointer itself */
    if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))
    {
      rqb_size+=HIF_SER_SIZEOF(2);     /* IOCount */
      rqb_size+=HIF_SER_SIZEOF(4);     /* serialize "pBuffer" pointer itself */
      if (((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer != LSA_NULL  && ((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->IOCount <= EDD_FRAME_BUFFER_LENGTH)
      {
        rqb_size+=HIF_SER_SIZEOF(((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->IOCount);     /* size of: pBuffer */
      }
      rqb_size+=HIF_SER_SIZEOF(2);     /* UserDataLength */
      rqb_size+=HIF_SER_SIZEOF(2);     /* UserDataOffset */
      rqb_size+=HIF_SER_SIZEOF(2);     /* PortID */
      rqb_size+=HIF_SER_SIZEOF(4);     /* FrameFilter */
      rqb_size+=HIF_SER_SIZEOF(4);     /* FrameFilterInfo */
      rqb_size+=HIF_SER_SIZEOF(4);     /* RequestCnt */
      rqb_size+=HIF_SER_SIZEOF(4);     /* RxTime */
      rqb_size+=(HIF_SER_SIZEOF(1) * EDD_CFG_MAX_PORT_CNT);     /* doSwFwd */
      rqb_size+=HIF_SER_SIZEOF(1);     /* Tag */
      rqb_size+=HIF_SER_SIZEOF(4);     /* Status */
      rqb_size+=HIF_SER_SIZEOF(1);     /* TE_Event */
      rqb_size+=HIF_SER_SIZEOF(1);     /* SE_Event */
    }
    HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
    HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

    if (HIF_IS_NULL(help_ptr))
    {
      return HIF_ERR_RESOURCE;
    }

    *ptr_ptr_rqb_dest = help_ptr;
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));        /* original upper RQB pointer */

    HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);        /* _opcode */
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);        /* Service */
    service=ptr_rqb_src->Service;
    HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));        /* _comp_id */
    HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,EDD_RQB_GET_RESPONSE(ptr_rqb_src));        /* _response */
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);     /* serialize pointer info itself */
    if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))
    {
      HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->IOCount);          /* IOCount */
      HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer);     /* serialize pointer info itself */
      if (((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer != LSA_NULL && ((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->IOCount <= EDD_FRAME_BUFFER_LENGTH)
      {
        HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer),((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->IOCount);     /* pBuffer */
      }
      HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->UserDataLength);            /* UserDataLength */
      HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->UserDataOffset);            /* UserDataOffset */
      HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->PortID);            /* PortID */
      HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->FrameFilter);            /* FrameFilter */
      HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->FrameFilterInfo);            /* FrameFilterInfo */
      HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->RequestCnt);            /* RequestCnt */
      HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->RxTime);            /* RxTime */
      for(i=0;i<EDD_CFG_MAX_PORT_CNT;i++)                  /* pParam*/
      {
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->doSwFwd[i]);            /* doSwFwd */
      }
      HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->Tag);            /* Tag */
      HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->Status);            /* Status */
      HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->TE_Event);            /* TE_Event */
      HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->SE_Event);            /* SE_Event */
    }

    /* Delete lower RQB after lower serialization */
    if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))
    {
      if(HIF_IS_NOT_NULL(((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer))
      {
        HIF_NRT_FREE_RX_MEM(&freeRes,((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer, ((HIF_PIPE_PTR_TYPE)pHifPipeHandle)->hd_id);
        if (freeRes != LSA_RET_OK)
        {
          return HIF_ERR_RESOURCE;
        }
        ((EDD_UPPER_NRT_RECV_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer = LSA_NULL;
      }
    }
    if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))
    {
      HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
      if (freeRes != LSA_RET_OK)
      {
        return HIF_ERR_RESOURCE;
      }
    }
    HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
    if (freeRes != LSA_RET_OK)
    {
      return HIF_ERR_RESOURCE;
    }
    
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SEND) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* TxTimePresent */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TxTime */
            rqb_size+=HIF_SER_SIZEOF(4);            /* LineDelayInTicksHardware */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TxFrmGroup */
            rqb_size+=HIF_SER_SIZEOF(4);            /* Status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->TxTimePresent);                        /* TxTimePresent */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->TxTime);                        /* TxTime */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->LineDelayInTicksHardware);                        /* LineDelayInTicksHardware */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->TxFrmGroup);                        /* TxFrmGroup */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->Status);                        /* Status */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer)) /*#13*/
                {
                    HIF_NRT_FREE_TX_MEM(&freeRes,((EDD_UPPER_NRT_SEND_PTR_TYPE)(ptr_rqb_src->pParam))->pBuffer, ((HIF_PIPE_PTR_TYPE)pHifPipeHandle)->hd_id);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_CANCEL) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LINK_STATUS_IND_PROVIDE) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* Autoneg */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Status */
            rqb_size+=HIF_SER_SIZEOF(1);            /* PhyStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Speed */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Mode */
            rqb_size+=HIF_SER_SIZEOF(1);            /* PortStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* IRTPortStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* RTClass2_PortStatus */
            rqb_size+=HIF_SER_SIZEOF(2);            /* PortState */
            rqb_size+=HIF_SER_SIZEOF(2);            /* MAUType */
            rqb_size+=HIF_SER_SIZEOF(1);            /* MediaType */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ShortPreamble */
            rqb_size+=HIF_SER_SIZEOF(1);            /* TxFragmentation */
            rqb_size+=HIF_SER_SIZEOF(4);            /* LineDelayInTicksMeasured */
            rqb_size+=HIF_SER_SIZEOF(4);            /* CableDelayInNsMeasured */
            rqb_size+=HIF_SER_SIZEOF(4);            /* PortTxDelay */
            rqb_size+=HIF_SER_SIZEOF(4);            /* PortRxDelay */
            rqb_size+=HIF_SER_SIZEOF(1);            /* SyncId0_TopoOk */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Autoneg);                        /* Autoneg */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Status);                        /* Status */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PhyStatus);                        /* PhyStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Speed);                        /* Speed */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Mode);                        /* Mode */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortStatus);                        /* PortStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->IRTPortStatus);                        /* IRTPortStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->RTClass2_PortStatus);                        /* RTClass2_PortStatus */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortState);                        /* PortState */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->MAUType);                        /* MAUType */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->MediaType);                        /* MediaType */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->ShortPreamble);                        /* ShortPreamble */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->TxFragmentation);                        /* TxFragmentation */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->LineDelayInTicksMeasured);                        /* LineDelayInTicksMeasured */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->CableDelayInNsMeasured);                        /* CableDelayInNsMeasured */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortTxDelay);                        /* PortTxDelay */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortRxDelay);                        /* PortRxDelay */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->SyncId0_TopoOk);                        /* SyncId0_TopoOk */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_SET_IP) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SET_ARP_FILTER) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SET_DCP_FILTER) )
    {
        /* !!!SPECIAL CASE!!! hif_edd_serialize_lower_EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE_EDD_OPC_REQUEST###EDD_SRV_NRT_SET_DCP_FILTER*/

    rqb_size+=HIF_SER_SIZEOF(4);    /* original upper RQB pointer */
    rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();    /* _opcode */
    rqb_size+=HIF_SER_SIZEOF(4);    /* Service */
    rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();    /* _comp_id */
    rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();    /* _response */
    rqb_size+=HIF_SER_SIZEOF(4);    /* serialize "pParam" pointer itself */
    HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
    HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

    if (HIF_IS_NULL(help_ptr))
    {
      return HIF_ERR_RESOURCE;
    }

    *ptr_ptr_rqb_dest = help_ptr;
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));        /* original upper RQB pointer */

    HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);        /* _opcode */
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);        /* Service */
    HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));        /* _comp_id */
    HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));        /* _response */
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);    /* serialize pointer info itself */

    for(i=0;i<((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLVCnt;i++)     /* FilterTLV*/
    {
      if(HIF_IS_NOT_NULL(((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLV[i].pTLV))
      {
        HIF_FREE_LOCAL_MEM(&freeRes,((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLV[i].pTLV);
        ((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(ptr_rqb_src->pParam))->FilterTLV[0].pTLV = LSA_NULL;
        if (freeRes != LSA_RET_OK)
        {
          return HIF_ERR_RESOURCE;
        }
      }
    }

    /* Delete lower RQB after lower serialization */
    if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
    {
      HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
      if (freeRes != LSA_RET_OK)
      {
        return HIF_ERR_RESOURCE;
      }
    }
    HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
    if (freeRes != LSA_RET_OK)
    {
      return HIF_ERR_RESOURCE;
    }
    
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_PARAMS) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* InterfaceID */
            rqb_size+=HIF_SER_SIZEOF(4);            /* HardwareType */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TraceIdx */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TimeResolutionInNs */
            rqb_size+=(HIF_SER_SIZEOF(1) * EDD_MAC_ADDR_SIZE);            /* MacAdr */
            rqb_size+=(HIF_SER_SIZEOF(1) * EDD_IP_ADDR_SIZE);            /* IPAdr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* MaxPortCnt */
            rqb_size+=HIF_SER_SIZEOF(2);            /* MaxPortCntOfAllEDD */
            rqb_size+=HIF_SER_SIZEOF(2);            /* MaxInterfaceCntOfAllEDD */
            rqb_size+=HIF_SER_SIZEOF(1);            /* MaxMRP_Instances */
            rqb_size+=HIF_SER_SIZEOF(1);            /* MRPDefaultRoleInstance0 */
            rqb_size+=HIF_SER_SIZEOF(1);            /* MRPSupportedRole */
            rqb_size+=HIF_SER_SIZEOF(1);            /* MRPSupportedMultipleRole */
            rqb_size+=HIF_SER_SIZEOF(2);            /* CycleBaseFactor */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ConsumerFrameIDBaseClass3 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ConsumerCntClass3 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ConsumerFrameIDBaseClass2 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ConsumerCntClass2 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ConsumerFrameIDBaseClass1 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ConsumerCntClass1 */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ConsumerCntClass12Combined */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ProviderCnt */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ProviderCntClass3 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ProviderGroupCnt */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DataLenMin */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DataLenMax */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DataLenMinUDP */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DataLenMaxUDP */
            rqb_size+=HIF_SER_SIZEOF(4);            /* ProviderCyclePhaseMaxByteCnt */
            rqb_size+=HIF_SER_SIZEOF(4);            /* ProviderCyclePhaseMaxCnt */
            rqb_size+=HIF_SER_SIZEOF(4);            /* KRAMBaseAddr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* offset_ProcessImageStart */
            rqb_size+=HIF_SER_SIZEOF(4);            /* offset_async_in_start */
            rqb_size+=HIF_SER_SIZEOF(4);            /* size_async_in */
            rqb_size+=HIF_SER_SIZEOF(4);            /* offset_async_out_start */
            rqb_size+=HIF_SER_SIZEOF(4);            /* size_async_out */
            rqb_size+=HIF_SER_SIZEOF(4);            /* offset_ProcessImageEnd */
            rqb_size+=HIF_SER_SIZEOF(4);            /* RxEndNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* RxLocalTransferEndNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TxEndNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TxLocalTransferStartNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TxLocalTransferEndNs */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->InterfaceID);                        /* InterfaceID */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->HardwareType);                        /* HardwareType */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->TraceIdx);                        /* TraceIdx */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->TimeResolutionInNs);                        /* TimeResolutionInNs */
            for(i=0;i<EDD_MAC_ADDR_SIZE;i++)                                    /* MACAddr*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->MACAddr.MacAdr[i]);                        /* MacAdr */
            }
            for(i=0;i<EDD_IP_ADDR_SIZE;i++)                                    /* LocalIP*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->LocalIP.IPAdr[i]);                        /* IPAdr */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->MaxPortCnt);                        /* MaxPortCnt */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->MaxPortCntOfAllEDD);                        /* MaxPortCntOfAllEDD */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->MaxInterfaceCntOfAllEDD);                        /* MaxInterfaceCntOfAllEDD */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->MaxMRP_Instances);                        /* MaxMRP_Instances */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->MRPDefaultRoleInstance0);                        /* MRPDefaultRoleInstance0 */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->MRPSupportedRole);                        /* MRPSupportedRole */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->MRPSupportedMultipleRole);                        /* MRPSupportedMultipleRole */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->CycleBaseFactor);                        /* CycleBaseFactor */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ConsumerFrameIDBaseClass3);                        /* ConsumerFrameIDBaseClass3 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ConsumerCntClass3);                        /* ConsumerCntClass3 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ConsumerFrameIDBaseClass2);                        /* ConsumerFrameIDBaseClass2 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ConsumerCntClass2);                        /* ConsumerCntClass2 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ConsumerFrameIDBaseClass1);                        /* ConsumerFrameIDBaseClass1 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ConsumerCntClass1);                        /* ConsumerCntClass1 */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ConsumerCntClass12Combined);                        /* ConsumerCntClass12Combined */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ProviderCnt);                        /* ProviderCnt */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ProviderCntClass3);                        /* ProviderCntClass3 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ProviderGroupCnt);                        /* ProviderGroupCnt */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->DataLenMin);                        /* DataLenMin */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->DataLenMax);                        /* DataLenMax */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->DataLenMinUDP);                        /* DataLenMinUDP */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->DataLenMaxUDP);                        /* DataLenMaxUDP */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ProviderCyclePhaseMaxByteCnt);                        /* ProviderCyclePhaseMaxByteCnt */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ProviderCyclePhaseMaxCnt);                        /* ProviderCyclePhaseMaxCnt */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->KRAMInfo.KRAMBaseAddr);                        /* KRAMBaseAddr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->KRAMInfo.offset_ProcessImageStart);                        /* offset_ProcessImageStart */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->KRAMInfo.offset_async_in_start);                        /* offset_async_in_start */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->KRAMInfo.size_async_in);                        /* size_async_in */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->KRAMInfo.offset_async_out_start);                        /* offset_async_out_start */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->KRAMInfo.size_async_out);                        /* size_async_out */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->KRAMInfo.offset_ProcessImageEnd);                        /* offset_ProcessImageEnd */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.RxEndNs);                        /* RxEndNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.RxLocalTransferEndNs);                        /* RxLocalTransferEndNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.TxEndNs);                        /* TxEndNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.TxLocalTransferStartNs);                        /* TxLocalTransferStartNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.TxLocalTransferEndNs);                        /* TxLocalTransferEndNs */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LINK_STATUS_IND_PROVIDE_EXT) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* Autoneg */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Status */
            rqb_size+=HIF_SER_SIZEOF(1);            /* PhyStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Speed */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Mode */
            rqb_size+=HIF_SER_SIZEOF(1);            /* PortStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* IRTPortStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* RTClass2_PortStatus */
            rqb_size+=HIF_SER_SIZEOF(2);            /* PortState */
            rqb_size+=HIF_SER_SIZEOF(2);            /* MAUType */
            rqb_size+=HIF_SER_SIZEOF(1);            /* MediaType */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ShortPreamble */
            rqb_size+=HIF_SER_SIZEOF(1);            /* TxFragmentation */
            rqb_size+=HIF_SER_SIZEOF(4);            /* LineDelayInTicksMeasured */
            rqb_size+=HIF_SER_SIZEOF(4);            /* CableDelayInNsMeasured */
            rqb_size+=HIF_SER_SIZEOF(4);            /* PortTxDelay */
            rqb_size+=HIF_SER_SIZEOF(4);            /* PortRxDelay */
            rqb_size+=HIF_SER_SIZEOF(1);            /* SyncId0_TopoOk */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Autoneg);                        /* Autoneg */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Status);                        /* Status */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PhyStatus);                        /* PhyStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Speed);                        /* Speed */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->Mode);                        /* Mode */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortStatus);                        /* PortStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->IRTPortStatus);                        /* IRTPortStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->RTClass2_PortStatus);                        /* RTClass2_PortStatus */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortState);                        /* PortState */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->MAUType);                        /* MAUType */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->MediaType);                        /* MediaType */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->ShortPreamble);                        /* ShortPreamble */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->TxFragmentation);                        /* TxFragmentation */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->LineDelayInTicksMeasured);                        /* LineDelayInTicksMeasured */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->CableDelayInNsMeasured);                        /* CableDelayInNsMeasured */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortTxDelay);                        /* PortTxDelay */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->PortRxDelay);                        /* PortRxDelay */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(ptr_rqb_src->pParam))->SyncId0_TopoOk);                        /* SyncId0_TopoOk */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_PORT_PARAMS) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* MediaType */
            rqb_size+=(HIF_SER_SIZEOF(1) * EDD_MAC_ADDR_SIZE);            /* MacAdr */
            rqb_size+=HIF_SER_SIZEOF(1);            /* PortStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* PhyStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* IRTPortStatus */
            rqb_size+=HIF_SER_SIZEOF(4);            /* LineDelayInTicksMeasured */
            rqb_size+=HIF_SER_SIZEOF(4);            /* CableDelayInNsMeasured */
            rqb_size+=HIF_SER_SIZEOF(1);            /* RTClass2_PortStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* MRPRingPort */
            rqb_size+=HIF_SER_SIZEOF(1);            /* LinkSpeedModeConfigured */
            rqb_size+=HIF_SER_SIZEOF(4);            /* AutonegCapAdvertised */
            rqb_size+=HIF_SER_SIZEOF(4);            /* BeginNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* EndNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* EndLocalNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* LastLocalFrameLen */
            rqb_size+=HIF_SER_SIZEOF(4);            /* BeginNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* EndNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* EndLocalNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* LastLocalFrameLen */
            rqb_size+=HIF_SER_SIZEOF(4);            /* BeginNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* EndNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* BeginNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* EndNs */
            rqb_size+=HIF_SER_SIZEOF(1);            /* IsWireless */
            rqb_size+=HIF_SER_SIZEOF(1);            /* IsMDIX */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ShortPreamble */
            rqb_size+=HIF_SER_SIZEOF(1);            /* TxFragmentation */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->MediaType);                        /* MediaType */
            for(i=0;i<EDD_MAC_ADDR_SIZE;i++)                                    /* MACAddr*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->MACAddr.MacAdr[i]);                        /* MacAdr */
            }
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->PortStatus);                        /* PortStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->PhyStatus);                        /* PhyStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->IRTPortStatus);                        /* IRTPortStatus */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->LineDelayInTicksMeasured);                        /* LineDelayInTicksMeasured */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->CableDelayInNsMeasured);                        /* CableDelayInNsMeasured */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RTClass2_PortStatus);                        /* RTClass2_PortStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->MRPRingPort);                        /* MRPRingPort */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->LinkSpeedModeConfigured);                        /* LinkSpeedModeConfigured */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->AutonegCapAdvertised);                        /* AutonegCapAdvertised */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.Rx.BeginNs);                        /* BeginNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.Rx.EndNs);                        /* EndNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.Rx.EndLocalNs);                        /* EndLocalNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.Rx.LastLocalFrameLen);                        /* LastLocalFrameLen */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.Tx.BeginNs);                        /* BeginNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.Tx.EndNs);                        /* EndNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.Tx.EndLocalNs);                        /* EndLocalNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalRed.Tx.LastLocalFrameLen);                        /* LastLocalFrameLen */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalOrange.Rx.BeginNs);                        /* BeginNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalOrange.Rx.EndNs);                        /* EndNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalOrange.Tx.BeginNs);                        /* BeginNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->RsvIntervalOrange.Tx.EndNs);                        /* EndNs */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->IsWireless);                        /* IsWireless */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->IsMDIX);                        /* IsMDIX */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->ShortPreamble);                        /* ShortPreamble */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(ptr_rqb_src->pParam))->TxFragmentation);                        /* TxFragmentation */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_MULTICAST) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* RefCnt */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_MULTICAST_PTR_TYPE)(ptr_rqb_src->pParam))->RefCnt);                        /* RefCnt */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LED_BLINK) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_SET_REMOTE_PORT_STATE) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_STATISTICS_ALL) )
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Service */
        rqb_size+=HIF_SER_SIZEOF_COMP_ID_TYPE();        /* _comp_id */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pParam" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* Reset */
            for(i=0;i<EDD_CFG_MAX_PORT_CNT+1;i++)            /* sMIB*/
            {
                rqb_size+=HIF_SER_SIZEOF(4);                /* InOctets */
                rqb_size+=HIF_SER_SIZEOF(4);                /* InUcastPkts */
                rqb_size+=HIF_SER_SIZEOF(4);                /* InNUcastPkts */
                rqb_size+=HIF_SER_SIZEOF(4);                /* InNUcastPkts */
                rqb_size+=HIF_SER_SIZEOF(4);                /* InNUcastPkts */
                rqb_size+=HIF_SER_SIZEOF(4);                /* InUnknownProtos */
                rqb_size+=HIF_SER_SIZEOF(4);                /* OutOctets */
                rqb_size+=HIF_SER_SIZEOF(4);                /* OutOctets */
                rqb_size+=HIF_SER_SIZEOF(4);                /* OutNUcastPkts */
                rqb_size+=HIF_SER_SIZEOF(4);                /* OutNUcastPkts */
                rqb_size+=HIF_SER_SIZEOF(4);                /* OutErrors */
                rqb_size+=HIF_SER_SIZEOF(4);                /* OutQLen */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_serialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->Service);                /* Service */
        HIF_SER_COMP_ID_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_COMP_ID(ptr_rqb_src));                /* _comp_id */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->pParam);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->Reset);                        /* Reset */
            for(i=0;i<EDD_CFG_MAX_PORT_CNT+1;i++)                                                /* sMIB*/
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].InOctets);                                /* InOctets */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].InUcastPkts);                                /* InUcastPkts */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].InNUcastPkts);                                /* InNUcastPkts */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].InNUcastPkts);                                /* InNUcastPkts */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].InNUcastPkts);                                /* InNUcastPkts */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].InUnknownProtos);                                /* InUnknownProtos */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].OutOctets);                                /* OutOctets */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].OutOctets);                                /* OutOctets */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].OutNUcastPkts);                                /* OutNUcastPkts */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].OutNUcastPkts);                                /* OutNUcastPkts */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].OutErrors);                                /* OutErrors */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(ptr_rqb_src->pParam))->sMIB[i].OutQLen);                                /* OutQLen */
            }
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->pParam)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->pParam);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else
    {
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"hif_edd_serialize_lower(). RQB-Opcode:0x%x / Service:0x%x is not valid! pRQB(0x%08x)",opcode,service,ptr_rqb_src+4);
        HIF_FATAL(0);
    }

    *pSerRqbLen = rqb_size;

    HIF_ASSERT(HIF_IS_NOT_NULL(help_ptr)); /*#4*/

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_SERIALIZE(service, *ptr_ptr_rqb_dest, rqb_size, help_ptr, "hif_edd_serialize_lower");

    return HIF_OK;
}

/****************************************************************************
*  Name:        hif_edd_deserialize_upper()
*  Purpose:     De-serializes the RQB from the HIF shared memory into the
*               hosts local memory - according to the component ID and
*               OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB in shared memory
                pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the hosts local memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16      hif_edd_deserialize_upper (
        HIF_SYS_HANDLE hSysDev,
        LSA_VOID* pHifPipeHandle,
        LSA_VOID* pRqbSrc,
        LSA_VOID** ppRqbDest )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_OPCODE_TYPE opcode = 0;
    LSA_VOID* ptr_rqb_src = (LSA_VOID*)pRqbSrc;
    EDD_RQB_TYPE** ptr_ptr_rqb_dest = (EDD_RQB_TYPE**)ppRqbDest;
    EDD_SERVICE service = 0;
    LSA_COMP_ID_TYPE comp_id = 0;
    LSA_RESPONSE_TYPE response = 0;
    EDD_RQB_TYPE* new_rqb  = LSA_NULL;
    LSA_UINT32 i=0;

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_ptr_rqb_dest)); /*#17*/
    HIF_DESER_GET_OPCODE(ptr_rqb_src, opcode);

    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    if (opcode==EDD_OPC_REQUEST)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src+8;
        HIF_SER_COPY_SHMTH_32(&service,(LSA_UINT32**)&help_ptr);
    }

    if (opcode==EDD_OPC_OPEN_CHANNEL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->pParam) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: EDD_UPPER_OPEN_CHANNEL_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_SYS_PATH_SHMTH(&((EDD_UPPER_OPEN_CHANNEL_PTR_TYPE)(new_rqb->pParam))->SysPath,(LSA_UINT32**)&help_ptr);                /* SysPath */
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==EDD_OPC_CLOSE_CHANNEL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_RECV) )
    {
        /* !!!SPECIAL CASE!!! hif_edd_deserialize_upper_EDD_UPPER_NRT_RECV_PTR_TYPE_EDD_OPC_REQUEST###EDD_SRV_NRT_RECV*/

    help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);     /* start deserialization after the original upper RQB pointer */

    if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
    {
      return HIF_ERR_RESOURCE;
    }
    else
    {
      new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
      HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%x) pRQB(0x%x)",opcode,service,ptr_rqb_src,new_rqb+4);
      *ptr_ptr_rqb_dest = new_rqb;

      /* restore the Upper RQB */
      HIF_RQB_SET_OPCODE(new_rqb,opcode);            /* _opcode */
      help_ptr+=4;          /* skip opcode on shared-mem */
      HIF_SER_COPY_SHMTH_32(&new_rqb->Service,(LSA_UINT32**)&help_ptr);      /* Service */
      HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);          /* _comp_id */
      HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                   /* _comp_id */
      HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);          /* _response */
      HIF_RQB_SET_RESPONSE(new_rqb,response);                        /* _response */

      if(HIF_IS_NOT_NULL(new_rqb->pParam) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))
      {
        /* INFO: no need to deserialize hif-upper pointer: EDD_UPPER_NRT_RECV_PTR_TYPE */
        help_ptr+=HIF_SER_SIZEOF(4);
        HIF_SER_COPY_SHMTH_16(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->IOCount,(LSA_UINT32**)&help_ptr);       /* IOCount */
        if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && ((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->IOCount <= EDD_FRAME_BUFFER_LENGTH)
        {
          help_ptr+=4;      /* skip buffer-pointer */
          if (HIF_IS_NOT_NULL(((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->pBuffer))
          {
            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->pBuffer),(LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->IOCount);
          }
        }
        else
        {
          help_ptr+=4;      /* skip buffer-pointer */
        }
        HIF_SER_COPY_SHMTH_16(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->UserDataLength,(LSA_UINT32**)&help_ptr);        /* UserDataLength */
        HIF_SER_COPY_SHMTH_16(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->UserDataOffset,(LSA_UINT32**)&help_ptr);        /* UserDataOffset */
        HIF_SER_COPY_SHMTH_16(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->PortID,(LSA_UINT32**)&help_ptr);        /* PortID */
        HIF_SER_COPY_SHMTH_32(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->FrameFilter,(LSA_UINT32**)&help_ptr);        /* FrameFilter */
        HIF_SER_COPY_SHMTH_32(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->FrameFilterInfo,(LSA_UINT32**)&help_ptr);        /* FrameFilterInfo */
        HIF_SER_COPY_SHMTH_32(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->RequestCnt,(LSA_UINT32**)&help_ptr);        /* RequestCnt */
        HIF_SER_COPY_SHMTH_32(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->RxTime,(LSA_UINT32**)&help_ptr);        /* RxTime */
        for(i=0;i<EDD_CFG_MAX_PORT_CNT;i++)                        /* doSwFwd*/
        {
          HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->doSwFwd[i],(LSA_UINT32**)&help_ptr);        /* doSwFwd */
        }
      HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->Tag,(LSA_UINT32**)&help_ptr);        /* Tag */
      HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->Status,(LSA_UINT32**)&help_ptr);        /* Status */
      HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->TE_Event,(LSA_UINT32**)&help_ptr);        /* TE_Event */
      HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->SE_Event,(LSA_UINT32**)&help_ptr);        /* SE_Event */
      }
      else
      {
        new_rqb->pParam = LSA_NULL;
        help_ptr+=HIF_SER_SIZEOF(4);
      }
    }
    
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SEND) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->pParam) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: EDD_UPPER_NRT_SEND_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->TxTimePresent,(LSA_UINT32**)&help_ptr);                /* TxTimePresent */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->TxTime,(LSA_UINT32**)&help_ptr);                /* TxTime */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->LineDelayInTicksHardware,(LSA_UINT32**)&help_ptr);                /* LineDelayInTicksHardware */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->TxFrmGroup,(LSA_UINT32**)&help_ptr);                /* TxFrmGroup */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->Status,(LSA_UINT32**)&help_ptr);                /* Status */
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_CANCEL) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LINK_STATUS_IND_PROVIDE) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->pParam) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Autoneg,(LSA_UINT32**)&help_ptr);                /* Autoneg */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Status,(LSA_UINT32**)&help_ptr);                /* Status */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PhyStatus,(LSA_UINT32**)&help_ptr);                /* PhyStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Speed,(LSA_UINT32**)&help_ptr);                /* Speed */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Mode,(LSA_UINT32**)&help_ptr);                /* Mode */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortStatus,(LSA_UINT32**)&help_ptr);                /* PortStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->IRTPortStatus,(LSA_UINT32**)&help_ptr);                /* IRTPortStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->RTClass2_PortStatus,(LSA_UINT32**)&help_ptr);                /* RTClass2_PortStatus */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortState,(LSA_UINT32**)&help_ptr);                /* PortState */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->MAUType,(LSA_UINT32**)&help_ptr);                /* MAUType */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->MediaType,(LSA_UINT32**)&help_ptr);                /* MediaType */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->ShortPreamble,(LSA_UINT32**)&help_ptr);                /* ShortPreamble */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->TxFragmentation,(LSA_UINT32**)&help_ptr);                /* TxFragmentation */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->LineDelayInTicksMeasured,(LSA_UINT32**)&help_ptr);                /* LineDelayInTicksMeasured */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->CableDelayInNsMeasured,(LSA_UINT32**)&help_ptr);                /* CableDelayInNsMeasured */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortTxDelay,(LSA_UINT32**)&help_ptr);                /* PortTxDelay */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortRxDelay,(LSA_UINT32**)&help_ptr);                /* PortRxDelay */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->SyncId0_TopoOk,(LSA_UINT32**)&help_ptr);                /* SyncId0_TopoOk */
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_SET_IP) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SET_ARP_FILTER) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SET_DCP_FILTER) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_PARAMS) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->pParam) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: EDD_UPPER_GET_PARAMS_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->InterfaceID,(LSA_UINT32**)&help_ptr);                /* InterfaceID */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->HardwareType,(LSA_UINT32**)&help_ptr);                /* HardwareType */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->TraceIdx,(LSA_UINT32**)&help_ptr);                /* TraceIdx */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->TimeResolutionInNs,(LSA_UINT32**)&help_ptr);                /* TimeResolutionInNs */
                for(i=0;i<EDD_MAC_ADDR_SIZE;i++)                                                /* MacAdr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->MACAddr.MacAdr[i],(LSA_UINT32**)&help_ptr);                /* MacAdr */
                }
                for(i=0;i<EDD_IP_ADDR_SIZE;i++)                                                /* IPAdr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->LocalIP.IPAdr[i],(LSA_UINT32**)&help_ptr);                /* IPAdr */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->MaxPortCnt,(LSA_UINT32**)&help_ptr);                /* MaxPortCnt */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->MaxPortCntOfAllEDD,(LSA_UINT32**)&help_ptr);                /* MaxPortCntOfAllEDD */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->MaxInterfaceCntOfAllEDD,(LSA_UINT32**)&help_ptr);                /* MaxInterfaceCntOfAllEDD */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->MaxMRP_Instances,(LSA_UINT32**)&help_ptr);                /* MaxMRP_Instances */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->MRPDefaultRoleInstance0,(LSA_UINT32**)&help_ptr);                /* MRPDefaultRoleInstance0 */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->MRPSupportedRole,(LSA_UINT32**)&help_ptr);                /* MRPSupportedRole */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->MRPSupportedMultipleRole,(LSA_UINT32**)&help_ptr);                /* MRPSupportedMultipleRole */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->CycleBaseFactor,(LSA_UINT32**)&help_ptr);                /* CycleBaseFactor */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ConsumerFrameIDBaseClass3,(LSA_UINT32**)&help_ptr);                /* ConsumerFrameIDBaseClass3 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ConsumerCntClass3,(LSA_UINT32**)&help_ptr);                /* ConsumerCntClass3 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ConsumerFrameIDBaseClass2,(LSA_UINT32**)&help_ptr);                /* ConsumerFrameIDBaseClass2 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ConsumerCntClass2,(LSA_UINT32**)&help_ptr);                /* ConsumerCntClass2 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ConsumerFrameIDBaseClass1,(LSA_UINT32**)&help_ptr);                /* ConsumerFrameIDBaseClass1 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ConsumerCntClass1,(LSA_UINT32**)&help_ptr);                /* ConsumerCntClass1 */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ConsumerCntClass12Combined,(LSA_UINT32**)&help_ptr);                /* ConsumerCntClass12Combined */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ProviderCnt,(LSA_UINT32**)&help_ptr);                /* ProviderCnt */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ProviderCntClass3,(LSA_UINT32**)&help_ptr);                /* ProviderCntClass3 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ProviderGroupCnt,(LSA_UINT32**)&help_ptr);                /* ProviderGroupCnt */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->DataLenMin,(LSA_UINT32**)&help_ptr);                /* DataLenMin */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->DataLenMax,(LSA_UINT32**)&help_ptr);                /* DataLenMax */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->DataLenMinUDP,(LSA_UINT32**)&help_ptr);                /* DataLenMinUDP */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->DataLenMaxUDP,(LSA_UINT32**)&help_ptr);                /* DataLenMaxUDP */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ProviderCyclePhaseMaxByteCnt,(LSA_UINT32**)&help_ptr);                /* ProviderCyclePhaseMaxByteCnt */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->ProviderCyclePhaseMaxCnt,(LSA_UINT32**)&help_ptr);                /* ProviderCyclePhaseMaxCnt */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->KRAMInfo.KRAMBaseAddr,(LSA_UINT32**)&help_ptr);                /* KRAMBaseAddr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->KRAMInfo.offset_ProcessImageStart,(LSA_UINT32**)&help_ptr);                /* offset_ProcessImageStart */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->KRAMInfo.offset_async_in_start,(LSA_UINT32**)&help_ptr);                /* offset_async_in_start */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->KRAMInfo.size_async_in,(LSA_UINT32**)&help_ptr);                /* size_async_in */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->KRAMInfo.offset_async_out_start,(LSA_UINT32**)&help_ptr);                /* offset_async_out_start */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->KRAMInfo.size_async_out,(LSA_UINT32**)&help_ptr);                /* size_async_out */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->KRAMInfo.offset_ProcessImageEnd,(LSA_UINT32**)&help_ptr);                /* offset_ProcessImageEnd */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.RxEndNs,(LSA_UINT32**)&help_ptr);                /* RxEndNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.RxLocalTransferEndNs,(LSA_UINT32**)&help_ptr);                /* RxLocalTransferEndNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.TxEndNs,(LSA_UINT32**)&help_ptr);                /* TxEndNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.TxLocalTransferStartNs,(LSA_UINT32**)&help_ptr);                /* TxLocalTransferStartNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.TxLocalTransferEndNs,(LSA_UINT32**)&help_ptr);                /* TxLocalTransferEndNs */
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LINK_STATUS_IND_PROVIDE_EXT) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->pParam) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Autoneg,(LSA_UINT32**)&help_ptr);                /* Autoneg */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Status,(LSA_UINT32**)&help_ptr);                /* Status */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PhyStatus,(LSA_UINT32**)&help_ptr);                /* PhyStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Speed,(LSA_UINT32**)&help_ptr);                /* Speed */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Mode,(LSA_UINT32**)&help_ptr);                /* Mode */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortStatus,(LSA_UINT32**)&help_ptr);                /* PortStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->IRTPortStatus,(LSA_UINT32**)&help_ptr);                /* IRTPortStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->RTClass2_PortStatus,(LSA_UINT32**)&help_ptr);                /* RTClass2_PortStatus */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortState,(LSA_UINT32**)&help_ptr);                /* PortState */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->MAUType,(LSA_UINT32**)&help_ptr);                /* MAUType */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->MediaType,(LSA_UINT32**)&help_ptr);                /* MediaType */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->ShortPreamble,(LSA_UINT32**)&help_ptr);                /* ShortPreamble */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->TxFragmentation,(LSA_UINT32**)&help_ptr);                /* TxFragmentation */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->LineDelayInTicksMeasured,(LSA_UINT32**)&help_ptr);                /* LineDelayInTicksMeasured */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->CableDelayInNsMeasured,(LSA_UINT32**)&help_ptr);                /* CableDelayInNsMeasured */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortTxDelay,(LSA_UINT32**)&help_ptr);                /* PortTxDelay */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortRxDelay,(LSA_UINT32**)&help_ptr);                /* PortRxDelay */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->SyncId0_TopoOk,(LSA_UINT32**)&help_ptr);                /* SyncId0_TopoOk */
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_PORT_PARAMS) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->pParam) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->MediaType,(LSA_UINT32**)&help_ptr);                /* MediaType */
                for(i=0;i<EDD_MAC_ADDR_SIZE;i++)                                                /* MacAdr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->MACAddr.MacAdr[i],(LSA_UINT32**)&help_ptr);                /* MacAdr */
                }
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->PortStatus,(LSA_UINT32**)&help_ptr);                /* PortStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->PhyStatus,(LSA_UINT32**)&help_ptr);                /* PhyStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->IRTPortStatus,(LSA_UINT32**)&help_ptr);                /* IRTPortStatus */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->LineDelayInTicksMeasured,(LSA_UINT32**)&help_ptr);                /* LineDelayInTicksMeasured */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->CableDelayInNsMeasured,(LSA_UINT32**)&help_ptr);                /* CableDelayInNsMeasured */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RTClass2_PortStatus,(LSA_UINT32**)&help_ptr);                /* RTClass2_PortStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->MRPRingPort,(LSA_UINT32**)&help_ptr);                /* MRPRingPort */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->LinkSpeedModeConfigured,(LSA_UINT32**)&help_ptr);                /* LinkSpeedModeConfigured */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->AutonegCapAdvertised,(LSA_UINT32**)&help_ptr);                /* AutonegCapAdvertised */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.Rx.BeginNs,(LSA_UINT32**)&help_ptr);                /* BeginNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.Rx.EndNs,(LSA_UINT32**)&help_ptr);                /* EndNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.Rx.EndLocalNs,(LSA_UINT32**)&help_ptr);                /* EndLocalNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.Rx.LastLocalFrameLen,(LSA_UINT32**)&help_ptr);                /* LastLocalFrameLen */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.Tx.BeginNs,(LSA_UINT32**)&help_ptr);                /* BeginNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.Tx.EndNs,(LSA_UINT32**)&help_ptr);                /* EndNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.Tx.EndLocalNs,(LSA_UINT32**)&help_ptr);                /* EndLocalNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalRed.Tx.LastLocalFrameLen,(LSA_UINT32**)&help_ptr);                /* LastLocalFrameLen */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalOrange.Rx.BeginNs,(LSA_UINT32**)&help_ptr);                /* BeginNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalOrange.Rx.EndNs,(LSA_UINT32**)&help_ptr);                /* EndNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalOrange.Tx.BeginNs,(LSA_UINT32**)&help_ptr);                /* BeginNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->RsvIntervalOrange.Tx.EndNs,(LSA_UINT32**)&help_ptr);                /* EndNs */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->IsWireless,(LSA_UINT32**)&help_ptr);                /* IsWireless */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->IsMDIX,(LSA_UINT32**)&help_ptr);                /* IsMDIX */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->ShortPreamble,(LSA_UINT32**)&help_ptr);                /* ShortPreamble */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->TxFragmentation,(LSA_UINT32**)&help_ptr);                /* TxFragmentation */
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_MULTICAST) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->pParam) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: EDD_UPPER_MULTICAST_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_MULTICAST_PTR_TYPE)(new_rqb->pParam))->RefCnt,(LSA_UINT32**)&help_ptr);                /* RefCnt */
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LED_BLINK) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_SET_REMOTE_PORT_STATE) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_STATISTICS_ALL) )
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (EDD_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_upper() RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->pParam) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->Reset,(LSA_UINT32**)&help_ptr);                /* Reset */
                for(i=0;i<EDD_CFG_MAX_PORT_CNT+1;i++)                                                /* sMIB*/
                {
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].InOctets,(LSA_UINT32**)&help_ptr);                    /* InOctets */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].InUcastPkts,(LSA_UINT32**)&help_ptr);                    /* InUcastPkts */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].InNUcastPkts,(LSA_UINT32**)&help_ptr);                    /* InNUcastPkts */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].InNUcastPkts,(LSA_UINT32**)&help_ptr);                    /* InNUcastPkts */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].InNUcastPkts,(LSA_UINT32**)&help_ptr);                    /* InNUcastPkts */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].InUnknownProtos,(LSA_UINT32**)&help_ptr);                    /* InUnknownProtos */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].OutOctets,(LSA_UINT32**)&help_ptr);                    /* OutOctets */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].OutOctets,(LSA_UINT32**)&help_ptr);                    /* OutOctets */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].OutNUcastPkts,(LSA_UINT32**)&help_ptr);                    /* OutNUcastPkts */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].OutNUcastPkts,(LSA_UINT32**)&help_ptr);                    /* OutNUcastPkts */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].OutErrors,(LSA_UINT32**)&help_ptr);                    /* OutErrors */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->sMIB[i].OutQLen,(LSA_UINT32**)&help_ptr);                    /* OutQLen */
                }
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else
    {
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_FATAL,"hif_edd_deserialize_upper(). RQB-Opcode:0x%x / Service:0x%x is not valid! shm_addr(0x%08x) pRQB(0x%08x)", opcode, service, ptr_rqb_src, new_rqb+4);
        HIF_FATAL(0);
    }
    HIF_ASSERT(HIF_IS_NOT_NULL(new_rqb)); /*#16*/
    *ptr_ptr_rqb_dest = new_rqb;

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_DESERIALIZE(ptr_rqb_src, service, help_ptr, "hif_edd_deserialize_upper");

    return HIF_OK;
}

/****************************************************************************
*  Name:        hif_edd_deserialize_lower()
*  Purpose:     De-serializes the RQB from the HIF shared memory into the
*               hosts local memory - according to the component ID and
*               OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB in shared memory
                pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the hosts local memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16      hif_edd_deserialize_lower (
        HIF_SYS_HANDLE hSysDev,
        LSA_VOID* pHifPipeHandle,
        LSA_VOID* pRqbSrc,
        LSA_VOID** ppRqbDest )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_OPCODE_TYPE opcode = 0;
    LSA_VOID* ptr_rqb_src = (LSA_VOID*)pRqbSrc;
    EDD_RQB_TYPE** ptr_ptr_rqb_dest = (EDD_RQB_TYPE**)ppRqbDest;
    EDD_SERVICE service = 0;
    LSA_COMP_ID_TYPE comp_id = 0;
    EDD_RQB_TYPE* new_rqb  = LSA_NULL;
    LSA_UINT32 rqb_size = 0;
    LSA_UINT32 i=0,j=0;

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_ptr_rqb_dest)); /*#17*/
    HIF_DESER_GET_OPCODE(ptr_rqb_src, opcode);

    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    if (opcode==EDD_OPC_REQUEST)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src+8;
        HIF_SER_COPY_SHMTH_32(&service,(LSA_UINT32**)&help_ptr);
    }

    if (opcode==EDD_OPC_OPEN_CHANNEL)
    {
        /* !!!SPECIAL CASE!!! hif_edd_deserialize_lower_EDD_UPPER_OPEN_CHANNEL_PTR_TYPE_EDD_OPC_CLOSE_CHANNEL###EDD_OPC_OPEN_CHANNEL*/

    /* calculate rqb-size */
    rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);     /* RQB-size + original upper RQB pointer */
    help_ptr = (LSA_UINT8*)ptr_rqb_src;

    HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
    HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
    if (HIF_IS_NULL(new_rqb))
    {
      return HIF_ERR_RESOURCE;
    }
    else
    {
      HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);     /* orig. upper RQB pointer */
      new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));              /* real lower rqb src without orig. upper RQB pointer */
      *ptr_ptr_rqb_dest = new_rqb;               /* return real lower rqb src without orig. upper RQB pointer */

      /* restore Lower RQB */
      EDD_RQB_SET_OPCODE(new_rqb,opcode);          /* _opcode */
      help_ptr+=4;          /* skip opcode on shared-mem */
      HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&(new_rqb->Service),(LSA_UINT32**)&help_ptr);     /* Service */
      HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);          /* _comp_id */
      HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                   /* _comp_id */

      if(*((EDD_UPPER_OPEN_CHANNEL_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL)     /* => pointer "pParam" on shared-mem */
      {
         HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_OPEN_CHANNEL_PTR_TYPE)(new_rqb->pParam)));
         if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
         {
           return HIF_ERR_RESOURCE;
         }
         help_ptr+=HIF_SER_SIZEOF(4);
      }
      else
      {
         new_rqb->pParam = LSA_NULL;
         help_ptr+=HIF_SER_SIZEOF(4);
      }
      if(new_rqb->pParam!=LSA_NULL)
      {
         HIF_SER_SYS_PATH_SHMTH(&((EDD_UPPER_OPEN_CHANNEL_PTR_TYPE)(new_rqb->pParam))->SysPath,(LSA_UINT32**)&help_ptr);     /* sys_path */
      }
    }
    
    }
    else if (opcode==EDD_OPC_CLOSE_CHANNEL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_RECV) )
    {
        /* !!!SPECIAL CASE!!! hif_edd_deserialize_lower_EDD_UPPER_NRT_RECV_PTR_TYPE_EDD_OPC_REQUEST###EDD_SRV_NRT_RECV*/

    /* calculate rqb-size */
    rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);     /* RQB-size + original upper RQB pointer */
    help_ptr = (LSA_UINT8*)ptr_rqb_src;

    HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
    HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
    if (HIF_IS_NULL(new_rqb))
    {
      return HIF_ERR_RESOURCE;
    }
    else
    {
      HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);     /* orig. upper RQB pointer */
      new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));              /* real lower rqb src without orig. upper RQB pointer */
      *ptr_ptr_rqb_dest = new_rqb;               /* return real lower rqb src without orig. upper RQB pointer */

      /* restore Lower RQB */
      HIF_RQB_SET_OPCODE(new_rqb,opcode);            /* _opcode */
      help_ptr+=4;          /* skip opcode on shared-mem */
      HIF_SER_COPY_SHMTH_32(&new_rqb->Service,(LSA_UINT32**)&help_ptr);     /* Service */
      service = EDD_RQB_GET_SERVICE(new_rqb);
      HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);          /* _comp_id */
      HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                   /* _comp_id */

      if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))     /* check pointer "pParam" on shared-mem */
      {
        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam)));
        if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
        {
          return HIF_ERR_RESOURCE;
        }
        help_ptr+=HIF_SER_SIZEOF(4);
      }
      else
      {
        new_rqb->pParam = LSA_NULL;
        help_ptr+=HIF_SER_SIZEOF(4);
      }
      if(new_rqb->pParam!=LSA_NULL)
      {
        LSA_UINT32 enumStatus;

        if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))
        {
          help_ptr+=4;      /* skip buffer pointer */
          HIF_NRT_ALLOC_RX_MEM((LSA_VOID**)&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->pBuffer,EDD_FRAME_BUFFER_LENGTH, ((HIF_PIPE_PTR_TYPE)pHifPipeHandle)->hd_id);
          HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() allocate buffer buffer_size(%d) RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%x) pRQB(0x%x)",EDD_FRAME_BUFFER_LENGTH,opcode,service,help_ptr,new_rqb+4);
        }
        else
        {
          help_ptr+=4;      /* skip buffer-pointer */
        }
        HIF_SER_COPY_SHMTH_32(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->RequestID,(LSA_UINT32**)&help_ptr);        /* RequestID */
        HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->Tag,(LSA_UINT32**)&help_ptr);        /* Tag */
        /* ENUM Status*/
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&enumStatus,(LSA_UINT32**)&help_ptr);                            /* Status */
        ((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->Status = (EDD_NRT_RX_STATUS_TYPE)enumStatus;                /* Status */
        HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->TE_Event,(LSA_UINT32**)&help_ptr);        /* TE_Event */
        HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_NRT_RECV_PTR_TYPE)(new_rqb->pParam))->SE_Event,(LSA_UINT32**)&help_ptr);        /* SE_Event */
      }
      else
      {
        new_rqb->pParam = LSA_NULL;
        help_ptr+=HIF_SER_SIZEOF(4);
      }
    }
    
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SEND) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->pParam!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->Length,(LSA_UINT32**)&help_ptr);                /* Length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && ((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->Length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_NRT_ALLOC_TX_MEM((LSA_VOID**)&(((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->pBuffer),((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->Length, ((HIF_PIPE_PTR_TYPE)pHifPipeHandle)->hd_id);
                    HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() allocate buffer buffer_size(%d) RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%08x) pRQB(0x%08x)",((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->Length,opcode,service,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->pBuffer)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->pBuffer),(LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->Length);                /* pBuffer */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    ((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->pBuffer = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->Priority,(LSA_UINT32**)&help_ptr);                /* Priority */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->PortID,(LSA_UINT32**)&help_ptr);                /* PortID */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->FrameID,(LSA_UINT32**)&help_ptr);                /* FrameID */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->TxTimePresent,(LSA_UINT32**)&help_ptr);                /* TxTimePresent */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->TxTime,(LSA_UINT32**)&help_ptr);                /* TxTime */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->LineDelayInTicksHardware,(LSA_UINT32**)&help_ptr);                /* LineDelayInTicksHardware */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_SEND_PTR_TYPE)(new_rqb->pParam))->TxFrmGroup,(LSA_UINT32**)&help_ptr);                /* TxFrmGroup */
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_CANCEL) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_NRT_CANCEL_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->pParam!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_NRT_CANCEL_PTR_TYPE)(new_rqb->pParam))->Mode,(LSA_UINT32**)&help_ptr);                /* Mode */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_CANCEL_PTR_TYPE)(new_rqb->pParam))->RequestID,(LSA_UINT32**)&help_ptr);                /* RequestID */
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LINK_STATUS_IND_PROVIDE) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->pParam!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortID,(LSA_UINT32**)&help_ptr);                /* PortID */
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_SET_IP) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_SET_IP_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->pParam!=LSA_NULL) /*#if1*/
            {
                for(i=0;i<EDD_IP_ADDR_SIZE;i++)                                                /* IPAdr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&((EDD_UPPER_SET_IP_PTR_TYPE)(new_rqb->pParam))->LocalIP.IPAdr[i],(LSA_UINT32**)&help_ptr);                /* IPAdr */
                }
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SET_ARP_FILTER) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_NRT_SET_ARP_FILTER_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->pParam!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_NRT_SET_ARP_FILTER_PTR_TYPE)(new_rqb->pParam))->Mode,(LSA_UINT32**)&help_ptr);                /* Mode */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_NRT_SET_ARP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterCnt,(LSA_UINT32**)&help_ptr);                /* FilterCnt */
                for(i=0;i<EDD_MAX_ARP_FILTER;i++)                                                /* IPAddr*/
                {
                    for(j=0;j<EDD_IP_ADDR_SIZE;j++)                                                            /* IPAdr*/
                    {
                        HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&((EDD_UPPER_NRT_SET_ARP_FILTER_PTR_TYPE)(new_rqb->pParam))->IPAddr[i].IPAdr[j],(LSA_UINT32**)&help_ptr);                    /* IPAdr */
                    }
                }
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_NRT_SET_DCP_FILTER) )
    {
        /* !!!SPECIAL CASE!!! hif_edd_deserialize_lower_EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE_EDD_OPC_REQUEST###EDD_SRV_NRT_SET_DCP_FILTER*/

    /* calculate rqb-size */
    rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);     /* RQB-size + original upper RQB pointer */
    help_ptr = (LSA_UINT8*)ptr_rqb_src;

    HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
    HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
    if (HIF_IS_NULL(new_rqb))
    {
      return HIF_ERR_RESOURCE;
    }
    else
    {
      HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);     /* orig. upper RQB pointer */
      new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));              /* real lower rqb src without orig. upper RQB pointer */
      *ptr_ptr_rqb_dest = new_rqb;               /* return real lower rqb src without orig. upper RQB pointer */

      /* restore Lower RQB */
      HIF_RQB_SET_OPCODE(new_rqb,opcode);            /* _opcode */
      help_ptr+=4;          /* skip opcode on shared-mem */
      HIF_SER_COPY_SHMTH_32(&new_rqb->Service,(LSA_UINT32**)&help_ptr);     /* Service */
      service = EDD_RQB_GET_SERVICE(new_rqb);
      HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);          /* _comp_id */
      HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                   /* _comp_id */

      if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))     /* check pointer "pParam" on shared-mem */
      {
        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam)));
        if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
        {
          return HIF_ERR_RESOURCE;
        }
        help_ptr+=HIF_SER_SIZEOF(4);
      }
      else
      {
        new_rqb->pParam = LSA_NULL;
        help_ptr+=HIF_SER_SIZEOF(4);
      }
      if(new_rqb->pParam!=LSA_NULL)
      {
        HIF_SER_COPY_SHMTH_16(&((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLVCnt,(LSA_UINT32**)&help_ptr);       /* FilterTLVCnt */
        HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->Mode,(LSA_UINT32**)&help_ptr);       /* Mode */

        if (((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLVCnt == 0)
        {
          ((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLV[0].pTLV = LSA_NULL;
        }
        else
        {
          for(i=0;i<((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLVCnt;i++)
          {                        /* FilterTLV*/
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLV[i].TLVLen,(LSA_UINT32**)&help_ptr);          /* TLVLen */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && (((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLV[i].TLVLen))
            {
              help_ptr+=4;      /* skip buffer pointer */
              HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLV[i].pTLV,((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLV[i].TLVLen);
              HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() allocate buffer buffer_size(%d) RQB-Opcode:0x%x / Service:0x%x, shm_addr(0x%x) pRQB(0x%x)",((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLV[i].TLVLen,opcode,service,help_ptr,new_rqb+4);
              if (HIF_IS_NOT_NULL(((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLV[i].pTLV))
              {
                HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLV[i].pTLV),(LSA_UINT32**)&help_ptr,((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLV[i].TLVLen);          /* pTLV */
              }
              else
              {
                return HIF_ERR_RESOURCE;
              }
            }
            else
            {
              ((EDD_UPPER_NRT_SET_DCP_FILTER_PTR_TYPE)(new_rqb->pParam))->FilterTLV[i].pTLV = LSA_NULL;
              help_ptr+=4;      /* skip buffer-pointer */
            }
          }
        }
      }
      else
      {
        new_rqb->pParam = LSA_NULL;
        help_ptr+=HIF_SER_SIZEOF(4);
      }
    }
    
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_PARAMS) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_GET_PARAMS_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LINK_STATUS_IND_PROVIDE_EXT) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->pParam!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortID,(LSA_UINT32**)&help_ptr);                /* PortID */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Autoneg,(LSA_UINT32**)&help_ptr);                /* Autoneg */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Status,(LSA_UINT32**)&help_ptr);                /* Status */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PhyStatus,(LSA_UINT32**)&help_ptr);                /* PhyStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Speed,(LSA_UINT32**)&help_ptr);                /* Speed */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->Mode,(LSA_UINT32**)&help_ptr);                /* Mode */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortStatus,(LSA_UINT32**)&help_ptr);                /* PortStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->IRTPortStatus,(LSA_UINT32**)&help_ptr);                /* IRTPortStatus */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->RTClass2_PortStatus,(LSA_UINT32**)&help_ptr);                /* RTClass2_PortStatus */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortState,(LSA_UINT32**)&help_ptr);                /* PortState */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->MAUType,(LSA_UINT32**)&help_ptr);                /* MAUType */
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->MediaType,(LSA_UINT32**)&help_ptr);                /* MediaType */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->ShortPreamble,(LSA_UINT32**)&help_ptr);                /* ShortPreamble */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->TxFragmentation,(LSA_UINT32**)&help_ptr);                /* TxFragmentation */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->LineDelayInTicksMeasured,(LSA_UINT32**)&help_ptr);                /* LineDelayInTicksMeasured */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->CableDelayInNsMeasured,(LSA_UINT32**)&help_ptr);                /* CableDelayInNsMeasured */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortTxDelay,(LSA_UINT32**)&help_ptr);                /* PortTxDelay */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->PortRxDelay,(LSA_UINT32**)&help_ptr);                /* PortRxDelay */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_LINK_STATUS_IND_PROVIDE_PTR_TYPE)(new_rqb->pParam))->SyncId0_TopoOk,(LSA_UINT32**)&help_ptr);                /* SyncId0_TopoOk */
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_PORT_PARAMS) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->pParam!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_GET_PORT_PARAMS_PTR_TYPE)(new_rqb->pParam))->PortID,(LSA_UINT32**)&help_ptr);                /* PortID */
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_MULTICAST) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_MULTICAST_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->pParam!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_8(&((EDD_UPPER_MULTICAST_PTR_TYPE)(new_rqb->pParam))->Mode,(LSA_UINT32**)&help_ptr);                /* Mode */
                for(i=0;i<EDD_MAC_ADDR_SIZE;i++)                                                /* MacAdr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&((EDD_UPPER_MULTICAST_PTR_TYPE)(new_rqb->pParam))->MACAddr.MacAdr[i],(LSA_UINT32**)&help_ptr);                /* MacAdr */
                }
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_LED_BLINK) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_LED_BLINK_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_SET_REMOTE_PORT_STATE) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->pParam!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(new_rqb->pParam))->PortID,(LSA_UINT32**)&help_ptr);                /* PortID */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(new_rqb->pParam))->SyncId0_TopoState,(LSA_UINT32**)&help_ptr);                /* SyncId0_TopoState */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(new_rqb->pParam))->RtClass2_TopoState,(LSA_UINT32**)&help_ptr);                /* RtClass2_TopoState */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(new_rqb->pParam))->RtClass3_TopoState,(LSA_UINT32**)&help_ptr);                /* RtClass3_TopoState */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(new_rqb->pParam))->RtClass3_PDEVTopoState,(LSA_UINT32**)&help_ptr);                /* RtClass3_PDEVTopoState */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(new_rqb->pParam))->RtClass3_RemoteState,(LSA_UINT32**)&help_ptr);                /* RtClass3_RemoteState */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&((EDD_UPPER_SET_REMOTE_PORT_STATE_PTR_TYPE)(new_rqb->pParam))->Neighbour_TopoState,(LSA_UINT32**)&help_ptr);                /* Neighbour_TopoState */
            }
        }
    }
    else if ( (opcode==EDD_OPC_REQUEST) && (service == EDD_SRV_GET_STATISTICS_ALL) )
    {
        /* calculate rqb-size */
        rqb_size=sizeof(EDD_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_05(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_edd_deserialize_lower() RQB-Opcode:0x%x / Service:0x%x, rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,service,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(EDD_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->Service,(LSA_UINT32**)&help_ptr);            /* Service */
            HIF_SER_COMP_ID_SHMTH(&comp_id,(LSA_UINT32**)&help_ptr);                        /* _comp_id */
            HIF_RQB_SET_COMP_ID(new_rqb,comp_id);                                                 /* _comp_id */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pParam" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(new_rqb->pParam)), sizeof(*(EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam)));
                if (HIF_IS_NULL(((EDD_RQB_TYPE*)new_rqb)->pParam))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->pParam = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->pParam!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_LSA_BOOL(&((EDD_UPPER_GET_STATISTICS_ALL_PTR_TYPE)(new_rqb->pParam))->Reset,(LSA_UINT32**)&help_ptr);                /* Reset */
            }
        }
    }
    else
    {
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_FATAL,"hif_edd_deserialize_lower(). RQB-Opcode:0x%x / Service:0x%x is not valid! shm_addr(0x%08x) pRQB(0x%08x)", opcode, service, ptr_rqb_src, new_rqb+4);
        HIF_FATAL(0);
    }
    HIF_ASSERT(HIF_IS_NOT_NULL(new_rqb)); /*#16*/
    *ptr_ptr_rqb_dest = new_rqb;

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_DESERIALIZE(ptr_rqb_src, service, help_ptr, "hif_edd_deserialize_lower");

    return HIF_OK;
}



#endif /* of HIF_CFG_USE_EDD */
#if defined( TOOL_CHAIN_MICROSOFT ) /* Microsoft Visual C++ */
#pragma component(browser, on, references)
#endif
/*****************************************************************************/
/* End of File                                                               */
/*****************************************************************************/
