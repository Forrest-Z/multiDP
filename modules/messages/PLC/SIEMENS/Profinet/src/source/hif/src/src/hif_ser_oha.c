/*****************************************************************************/
/*  Copyright (C) 2015 Siemens Aktiengesellschaft. All rights reserved.      */
/*****************************************************************************/
/*  This program is protected by German copyright law and international      */
/*  treaties. The use of this software including but not limited to its      */
/*  Source Code is subject to restrictions as agreed in the license          */
/*  agreement between you and Siemens.                                       */
/*  Copying or distribution is not allowed unless expressly permitted        */
/*  according to your license agreement with Siemens.                        */
/*****************************************************************************/
/*                                                                           */
/*  P r o j e c t         &P: PROFINET IO Runtime Software              :P&  */
/*                                                                           */
/*  P a c k a g e         &W: PROFINET IO Runtime Software              :W&  */
/*                                                                           */
/*  C o m p o n e n t     &C: HIF (Host Interface)                      :C&  */
/*                                                                           */
/*  F i l e               &F: hif_ser_oha.c                             :F&  */
/*                                                                           */
/*  V e r s i o n         &V: BC_PNRUN_P05.04.00.00_00.02.00.40         :V&  */
/*                                                                           */
/*  D a t e  (YYYY-MM-DD) &D: 2015-07-28                                :D&  */
/*                                                                           */
/*****************************************************************************/
/*                                                                           */
/*  D e s c r i p t i o n :                                                  */
/*                                                                           */
/*  Automatically generated with HIF Code Generator v2.1.0                   */
/*                                                                           */
/*                                                                           */
/*  !!!ATTENTION: Do not edit this file.                                     */
/*                Please use the HIF Code Generator to generate this file.   */
/*                                                                           */
/*  The hash value was automatically calculated by HIF Code Generator!       */
/*  HASH-VALUE: FSl2zlP8K5cg3QH2wDGecqZekk1FatnSge/MQtj6Xa4=                 */
/*****************************************************************************/

#if defined( TOOL_CHAIN_MICROSOFT ) /* Microsoft Visual C++ */
#pragma component(browser, off, references)
#endif

#define HIF_MODULE_ID		28
#define LTRC_ACT_MODUL_ID	28

#include "hif_int.h"		

HIF_FILE_SYSTEM_EXTENSION(HIF_MODULE_ID)

#if ( (HIF_CFG_COMPILE_SERIALIZATION == 1) && (HIF_CFG_USE_OHA == 1) )


/* Prototypes */


/* Helper Functions */

/****************************************************************************
*  Name:        hif_oha_serialize_upper()
*  Purpose:     Function serializes the RQB to the HIF shared memory - 
*               according to the component ID and OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB, stored in the hosts local memory
*               pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the HIF shared memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16  hif_oha_serialize_upper (
    HIF_SYS_HANDLE hSysDev,
    LSA_VOID*      pHifPipeHandle,
    LSA_INT        hShmPool,
    LSA_VOID*      pRqbSrc,
    LSA_VOID**     ppRqbDest,
    LSA_UINT32*    pSerRqbLen )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_UINT32 rqb_size = 0;
    LSA_OPCODE_TYPE opcode = 0;
    OHA_RQB_TYPE* ptr_rqb_src = (OHA_RQB_TYPE*)pRqbSrc;
    LSA_VOID** ptr_ptr_rqb_dest = ppRqbDest;
    LSA_UINT32 i=0;
    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_rqb_src)); /*#5*/
    opcode=HIF_RQB_GET_OPCODE(ptr_rqb_src);

    if (opcode==OHA_OPC_OPEN_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_SYS_PATH_TYPE();        /* sys_path */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_SYS_PATH_HTSHM((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.sys_path);                /* sys_path */
    }
    else if (opcode==OHA_OPC_CLOSE_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
    }
    else if (opcode==OHA_OPC_GET_CONFIG)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
    }
    else if (opcode==OHA_OPC_SET_IDENT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(2);        /* OEMVendorID */
        rqb_size+=HIF_SER_SIZEOF(2);        /* OEMDeviceID */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Ident.Options);                /* Options */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Ident.OEMVendorID);                /* OEMVendorID */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Ident.OEMDeviceID);                /* OEMDeviceID */
    }
    else if (opcode==OHA_OPC_GET_ADDRESS)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pStationData" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* StationTypeLen */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationType" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationType /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.Address.pStationData->StationTypeLen);            /* size of: pStationType */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* StationNameLen */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationName" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationName /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.Address.pStationData->StationNameLen);            /* size of: pStationName */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.Options);                /* Options */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->StationTypeLen);                        /* StationTypeLen */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->pStationType);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationType /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Address.pStationData->pStationType),ptr_rqb_src->args.Address.pStationData->StationTypeLen);            /* pStationType */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->StationNameLen);                        /* StationNameLen */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->pStationName);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationName /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Address.pStationData->pStationName),ptr_rqb_src->args.Address.pStationData->StationNameLen);            /* pStationName */
            }
        }
    }
    else if  ((opcode==OHA_OPC_SET_ADDRESS)
            ||(opcode==OHA_OPC_SET_EMERGENCY))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(1);        /* CheckIpEnabled */
        rqb_size+=HIF_SER_SIZEOF(1);        /* AccessMode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Remanent */
        rqb_size+=HIF_SER_SIZEOF(4);        /* UserLockStatus */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pStationData" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData)) /*#6*/
        {
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_MAC_ADDR_SIZE);            /* LocalMacAddr */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* LocalIpAddr */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* LocalSubnetMask */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* DefaultRouterAddr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* StationTypeLen */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationType" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationType /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.Address.pStationData->StationTypeLen);            /* size of: pStationType */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* StationNameLen */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationName" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationName /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.Address.pStationData->StationNameLen);            /* size of: pStationName */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* VendorId */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DeviceId */
            rqb_size+=HIF_SER_SIZEOF(2);            /* TcpIpStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ProfinetRole */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DeviceInstance */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.Options);                /* Options */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.CheckIpEnabled);                /* CheckIpEnabled */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.AccessMode);                /* AccessMode */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.Remanent);                /* Remanent */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.UserLockStatus);                /* UserLockStatus */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData))  /*#9*/
        {
            for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->LocalMacAddr[i]);                        /* LocalMacAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->LocalIpAddr[i]);                        /* LocalIpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->LocalSubnetMask[i]);                        /* LocalSubnetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->DefaultRouterAddr[i]);                        /* DefaultRouterAddr */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->StationTypeLen);                        /* StationTypeLen */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->pStationType);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationType /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Address.pStationData->pStationType),ptr_rqb_src->args.Address.pStationData->StationTypeLen);            /* pStationType */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->StationNameLen);                        /* StationNameLen */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->pStationName);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationName /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Address.pStationData->pStationName),ptr_rqb_src->args.Address.pStationData->StationNameLen);            /* pStationName */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->VendorId);                        /* VendorId */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->DeviceId);                        /* DeviceId */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->TcpIpStatus);                        /* TcpIpStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->ProfinetRole);                        /* ProfinetRole */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->DeviceInstance);                        /* DeviceInstance */
        }
    }
    else if (opcode==OHA_OPC_DCP_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Mode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Type */
        rqb_size+=HIF_SER_SIZEOF(1);        /* SubType */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pAddrInfo" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpControl.pAddrInfo)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pName" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.pName /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_NAME_LEN);            /* size of: pName */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* Length */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Remanent */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.Mode);                /* Mode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.Options);                /* Options */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.Type);                /* Type */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.SubType);                /* SubType */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpControl.pAddrInfo))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.pName);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.pName /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.pName),OHA_MAX_STATION_NAME_LEN);            /* pName */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.Length);                        /* Length */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.Remanent);                        /* Remanent */
        }
    }
    else if (opcode==OHA_OPC_DCP_INDICATION)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* CheckIpEnabled */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pStationData" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationType" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData->pStationType /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_TYPE_LEN);            /* size of: pStationType */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationName" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData->pStationName /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_NAME_LEN);            /* size of: pStationName */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.CheckIpEnabled);                /* CheckIpEnabled */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->pStationType);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData->pStationType /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.DcpInd.pStationData->pStationType),OHA_MAX_STATION_TYPE_LEN);            /* pStationType */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->pStationName);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData->pStationName /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.DcpInd.pStationData->pStationName),OHA_MAX_STATION_NAME_LEN);            /* pStationName */
            }
        }
    }
    else if (opcode==OHA_OPC_DCP_RESPONSE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Event */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Reason */
        rqb_size+=HIF_SER_SIZEOF(1);        /* CheckIpEnabled */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.Event);                /* Event */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.Reason);                /* Reason */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.CheckIpEnabled);                /* CheckIpEnabled */
    }
    else if (opcode==OHA_OPC_TEST_LLDP_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Mode */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpControl.Mode);                /* Mode */
    }
    else if (opcode==OHA_OPC_LLDP_INDICATION)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
    }
    else if (opcode==OHA_OPC_GET_NEIGHBOUR)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* PortId */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pLLDPDU" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pNameOfChassis" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfChassis /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(OHA_MAX_CHASSIS_STRLEN);            /* size of: pNameOfChassis */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pNameOfPort" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfPort /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(OHA_MAX_PORT_STRLEN);            /* size of: pNameOfPort */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.PortId);                /* PortId */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.pLLDPDU);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfChassis);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfChassis /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfChassis),OHA_MAX_CHASSIS_STRLEN);            /* pNameOfChassis */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfPort);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfPort /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfPort),OHA_MAX_PORT_STRLEN);            /* pNameOfPort */
            }
        }
    }
    else if  ((opcode==OHA_OPC_LLDP_CONTROL_OID)
            ||(opcode==OHA_OPC_MRP_CONTROL_OID))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* MessageType */
        rqb_size+=HIF_SER_SIZEOF(4);        /* SnmpVersion */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pOidName" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.SnmpOid.pOidName /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_OID_LEN);        /* size of: pOidName */
        }
        rqb_size+=HIF_SER_SIZEOF(4);        /* OidNameLen */
        rqb_size+=HIF_SER_SIZEOF(1);        /* VarType */
        rqb_size+=HIF_SER_SIZEOF(4);        /* VarLength */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pVarValue" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.SnmpOid.pVarValue /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_NAME_LEN);        /* size of: pVarValue */
        }
        rqb_size+=HIF_SER_SIZEOF(2);        /* AccessControl */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.MessageType);                /* MessageType */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.SnmpVersion);                /* SnmpVersion */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.pOidName);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.SnmpOid.pOidName /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.SnmpOid.pOidName),OHA_MAX_OID_LEN);        /* pOidName */
        }
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.OidNameLen);                /* OidNameLen */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.VarType);                /* VarType */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.VarLength);                /* VarLength */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.pVarValue);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.SnmpOid.pVarValue /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.SnmpOid.pVarValue),OHA_MAX_STATION_NAME_LEN);        /* pVarValue */
        }
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.AccessControl);                /* AccessControl */
    }
    else if  ((opcode==OHA_OPC_DCP_READ_ELEMENT)
            ||(opcode==OHA_OPC_DCP_WRITE_ELEMENT))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Type */
        rqb_size+=HIF_SER_SIZEOF(1);        /* SubType */
        rqb_size+=HIF_SER_SIZEOF(2);        /* Length */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pVariable" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpElem.pVariable /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.DcpElem.Length);        /* size of: pVariable */
        }
        rqb_size+=HIF_SER_SIZEOF(1);        /* AccCtrl */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Remanent */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpElem.Type);                /* Type */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpElem.SubType);                /* SubType */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpElem.Length);                /* Length */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpElem.pVariable);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpElem.pVariable /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.DcpElem.pVariable),ptr_rqb_src->args.DcpElem.Length);        /* pVariable */
        }
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpElem.AccCtrl);                /* AccCtrl */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpElem.Remanent);                /* Remanent */
    }
    else if (opcode==OHA_OPC_LLDP_READ_ELEMENT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* PortId */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Type */
        rqb_size+=HIF_SER_SIZEOF(1);        /* SubType */
        rqb_size+=HIF_SER_SIZEOF(4);        /* OUI */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pVarBuffer" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpElem.pVarBuffer /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_TLV_DATA_SIZE);        /* size of: pVarBuffer */
        }
        rqb_size+=HIF_SER_SIZEOF(2);        /* Count */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        /* INFO: serialize the array size right after the pointer */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.Count);                /* Count */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.PortId);                /* PortId */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.Type);                /* Type */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.SubType);                /* SubType */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.OUI);                /* OUI */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.pVarBuffer);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpElem.pVarBuffer /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.LldpElem.pVarBuffer),OHA_MAX_TLV_DATA_SIZE);        /* pVarBuffer */
        }
    }
    else if (opcode==OHA_OPC_WRITE_PTCP_DATA)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* DoSync */
        rqb_size+=HIF_SER_SIZEOF(1);        /* IsSync */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_MAC_ADDR_SIZE);        /* MasterSourceAddress */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PtcpData.DoSync);                /* DoSync */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PtcpData.IsSync);                /* IsSync */
        for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                        /* PtcpData*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PtcpData.MasterSourceAddress[i]);                /* MasterSourceAddress */
        }
    }
    else if (opcode==OHA_OPC_READ_QUERY_ELEMENTS)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* Count */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pVarBuffer" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.QueryElem.pVarBuffer /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_TLV_DATA_SIZE);        /* size of: pVarBuffer */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        /* INFO: serialize the array size right after the pointer */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.QueryElem.Count);                /* Count */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.QueryElem.pVarBuffer);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.QueryElem.pVarBuffer /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.QueryElem.pVarBuffer),OHA_MAX_TLV_DATA_SIZE);        /* pVarBuffer */
        }
    }
    else if (opcode==OHA_OPC_HELLO_INDICATION)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* FilterID */
        rqb_size+=HIF_SER_SIZEOF(2);        /* StationNameLen */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pStationName" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.HelloInd.pStationName /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_NAME_LEN);        /* size of: pStationName */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.HelloInd.FilterID);                /* FilterID */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.HelloInd.StationNameLen);                /* StationNameLen */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.HelloInd.pStationName);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.HelloInd.pStationName /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.HelloInd.pStationName),OHA_MAX_STATION_NAME_LEN);        /* pStationName */
        }
    }
    else if (opcode==OHA_OPC_ADDR_INFO_IND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pName" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.AddrInfo.NoS.pName /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_NAME_LEN);        /* size of: pName */
        }
        rqb_size+=HIF_SER_SIZEOF(2);        /* Length */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Remanent */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* IpAddr */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* NetMask */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* Gateway */
        rqb_size+=HIF_SER_SIZEOF(1);        /* CurrentIPSuiteIsEmergency */
        rqb_size+=HIF_SER_SIZEOF(1);        /* IpSuiteRemanent */
        rqb_size+=HIF_SER_SIZEOF(1);        /* CurrentIPSuiteConflictDetected */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* IpAddr */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* NetMask */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* Gateway */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* IpAddr */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* NetMask */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* Gateway */
        rqb_size+=HIF_SER_SIZEOF(1);        /* FactoryReset */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.NoS.pName);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.AddrInfo.NoS.pName /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.AddrInfo.NoS.pName),OHA_MAX_STATION_NAME_LEN);        /* pName */
        }
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.NoS.Length);                /* Length */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.NoS.Remanent);                /* Remanent */
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* CurrentIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.CurrentIPSuite.IpAddr[i]);                /* IpAddr */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* CurrentIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.CurrentIPSuite.NetMask[i]);                /* NetMask */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* CurrentIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.CurrentIPSuite.Gateway[i]);                /* Gateway */
        }
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.CurrentIPSuiteIsEmergency);                /* CurrentIPSuiteIsEmergency */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.IpSuiteRemanent);                /* IpSuiteRemanent */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.CurrentIPSuiteConflictDetected);                /* CurrentIPSuiteConflictDetected */
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* ExpectedIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.ExpectedIPSuite.IpAddr[i]);                /* IpAddr */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* ExpectedIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.ExpectedIPSuite.NetMask[i]);                /* NetMask */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* ExpectedIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.ExpectedIPSuite.Gateway[i]);                /* Gateway */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* EmergencyIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.EmergencyIPSuite.IpAddr[i]);                /* IpAddr */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* EmergencyIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.EmergencyIPSuite.NetMask[i]);                /* NetMask */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* EmergencyIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.EmergencyIPSuite.Gateway[i]);                /* Gateway */
        }
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.FactoryReset);                /* FactoryReset */
    }
    else if  ((opcode==OHA_OPC_PRM_PREPARE)
            ||(opcode==OHA_OPC_PRM_END)
            ||(opcode==OHA_OPC_PRM_COMMIT))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* is_local */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmControl.is_local);                /* is_local */
    }
    else if  ((opcode==OHA_OPC_PRM_READ)
            ||(opcode==OHA_OPC_PRM_WRITE))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* slot_number */
        rqb_size+=HIF_SER_SIZEOF(2);        /* subslot_number */
        rqb_size+=HIF_SER_SIZEOF(2);        /* edd_port_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* record_index */
        rqb_size+=HIF_SER_SIZEOF(4);        /* record_data_length */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "record_data" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.PrmData.record_data /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.PrmData.record_data_length);        /* size of: record_data */
        }
        rqb_size+=HIF_SER_SIZEOF(1);        /* mk_rema */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmData.slot_number);                /* slot_number */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmData.subslot_number);                /* subslot_number */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmData.edd_port_id);                /* edd_port_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmData.record_index);                /* record_index */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmData.record_data_length);                /* record_data_length */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmData.record_data);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.PrmData.record_data /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.PrmData.record_data),ptr_rqb_src->args.PrmData.record_data_length);        /* record_data */
        }
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmData.mk_rema);                /* mk_rema */
    }
    else if (opcode==OHA_OPC_PRM_INDICATION)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* edd_port_id */
        rqb_size+=HIF_SER_SIZEOF(4);        /* diag_ptr pointer */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmInd.edd_port_id);                /* edd_port_id */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmInd.diag_ptr);        /* serialize pointer info itself */
    }
    else if  ((opcode==OHA_OPC_REMA_INDICATION)
            ||(opcode==OHA_OPC_REMA_READ))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* index */
        rqb_size+=HIF_SER_SIZEOF(4);        /* data_length */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "data" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.RemaData.data /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.RemaData.data_length);        /* size of: data */
        }
        rqb_size+=HIF_SER_SIZEOF(2);        /* data_tag */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.RemaData.index);                /* index */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.RemaData.data_length);                /* data_length */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.RemaData.data);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.RemaData.data /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.RemaData.data),ptr_rqb_src->args.RemaData.data_length);        /* data */
        }
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.RemaData.data_tag);                /* data_tag */
    }
    else if (opcode==OHA_OPC_REMA_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Mode */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.RemaControl.Mode);                /* Mode */
    }
    else if (opcode==OHA_OPC_LLDP_WRITE_OPTION)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* PortId */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Type */
        rqb_size+=HIF_SER_SIZEOF(1);        /* SubType */
        rqb_size+=HIF_SER_SIZEOF(4);        /* OUI */
        rqb_size+=HIF_SER_SIZEOF(2);        /* Length */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pVariable" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOption.pVariable /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.LldpOption.Length);        /* size of: pVariable */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOption.PortId);                /* PortId */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOption.Type);                /* Type */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOption.SubType);                /* SubType */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOption.OUI);                /* OUI */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOption.Length);                /* Length */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOption.pVariable);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOption.pVariable /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.LldpOption.pVariable),ptr_rqb_src->args.LldpOption.Length);        /* pVariable */
        }
    }
    else if (opcode==OHA_OPC_LLDP_READ_OPTIONS)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* PortId */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Type */
        rqb_size+=HIF_SER_SIZEOF(4);        /* OUI */
        rqb_size+=HIF_SER_SIZEOF(1);        /* SubType */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pVarBuffer" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOptions.pVarBuffer /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_TLV_DATA_SIZE);        /* size of: pVarBuffer */
        }
        rqb_size+=HIF_SER_SIZEOF(2);        /* Count */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        /* INFO: serialize the array size right after the pointer */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.Count);                /* Count */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.PortId);                /* PortId */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.Type);                /* Type */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.OUI);                /* OUI */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.SubType);                /* SubType */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.pVarBuffer);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOptions.pVarBuffer /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.LldpOptions.pVarBuffer),OHA_MAX_TLV_DATA_SIZE);        /* pVarBuffer */
        }
    }
    else if (opcode==OHA_OPC_PORT_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* Mode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* PortId */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PortControl.Mode);                /* Mode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PortControl.PortId);                /* PortId */
    }
    else if (opcode==OHA_OPC_TCIP_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* TimeOption */
        rqb_size+=HIF_SER_SIZEOF(4);        /* KeepAliveTime */
        rqb_size+=HIF_SER_SIZEOF(4);        /* ConnectionTimeout */
        rqb_size+=HIF_SER_SIZEOF(4);        /* RetransmitTimeout */
        rqb_size+=HIF_SER_SIZEOF(4);        /* RetransmitCount */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.TcipData.TimeOption);                /* TimeOption */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.TcipData.KeepAliveTime);                /* KeepAliveTime */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.TcipData.ConnectionTimeout);                /* ConnectionTimeout */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.TcipData.RetransmitTimeout);                /* RetransmitTimeout */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.TcipData.RetransmitCount);                /* RetransmitCount */
    }
    else if (opcode==OHA_OPC_LLDP_ACCESS_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* PortId */
        rqb_size+=HIF_SER_SIZEOF(1);        /* AccessMode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(4);        /* PortOptions */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpAccess.PortId);                /* PortId */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpAccess.AccessMode);                /* AccessMode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpAccess.Options);                /* Options */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpAccess.PortOptions);                /* PortOptions */
    }
    else if  ((opcode==OHA_OPC_LLDP_CONFIG_INDICATION)
            ||(opcode==OHA_OPC_LLDP_CONFIG_RESPONSE))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Mode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(2);        /* RemaOptions */
        rqb_size+=HIF_SER_SIZEOF(2);        /* TxInterval */
        rqb_size+=HIF_SER_SIZEOF(2);        /* TxHoldMultiplier */
        rqb_size+=HIF_SER_SIZEOF(2);        /* ReinitDelay */
        rqb_size+=HIF_SER_SIZEOF(2);        /* TxDelay */
        rqb_size+=HIF_SER_SIZEOF(2);        /* NotificationInterval */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Mode);                /* Mode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Options);                /* Options */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.RemaOptions);                /* RemaOptions */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Config.TxInterval);                /* TxInterval */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Config.TxHoldMultiplier);                /* TxHoldMultiplier */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Config.ReinitDelay);                /* ReinitDelay */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Config.TxDelay);                /* TxDelay */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Config.NotificationInterval);                /* NotificationInterval */
    }
    else if  ((opcode==OHA_OPC_LLDP_PORT_CONFIG_INDICATION)
            ||(opcode==OHA_OPC_LLDP_PORT_CONFIG_RESPONSE))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* PortID */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Mode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* PortOptions */
        rqb_size+=HIF_SER_SIZEOF(4);        /* PortOptionsRema */
        rqb_size+=HIF_SER_SIZEOF(1);        /* AdminStatus */
        rqb_size+=HIF_SER_SIZEOF(1);        /* NotificationEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* TLVsTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* ManAddrTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* PnoDelayTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* PnoPortStatusTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* PnoAliasTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* PnoMrpTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* PnoPtcpTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Dot1VlanIdTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Dot1VlanNameTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Dot1PortProtoVlanTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Dot1ProtocolTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Dot3TLVsTxEnable */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortID);                /* PortID */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.Mode);                /* Mode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortOptions);                /* PortOptions */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortOptionsRema);                /* PortOptionsRema */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.AdminStatus);                /* AdminStatus */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.NotificationEnable);                /* NotificationEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.TLVsTxEnable);                /* TLVsTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.ManAddrTxEnable);                /* ManAddrTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.PnoDelayTxEnable);                /* PnoDelayTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.PnoPortStatusTxEnable);                /* PnoPortStatusTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.PnoAliasTxEnable);                /* PnoAliasTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.PnoMrpTxEnable);                /* PnoMrpTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.PnoPtcpTxEnable);                /* PnoPtcpTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.Dot1VlanIdTxEnable);                /* Dot1VlanIdTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.Dot1VlanNameTxEnable);                /* Dot1VlanNameTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.Dot1PortProtoVlanTxEnable);                /* Dot1PortProtoVlanTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.Dot1ProtocolTxEnable);                /* Dot1ProtocolTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.Dot3TLVsTxEnable);                /* Dot3TLVsTxEnable */
    }
    else
    {
        HIF_PROGRAM_TRACE_02(0,LSA_TRACE_LEVEL_FATAL,"hif_oha_serialize_upper(). RQB-Opcode:0x%x is not valid! pRQB(0x%08x)",opcode,ptr_rqb_src+4);
        HIF_FATAL(0);
    }

    *pSerRqbLen = rqb_size;

    HIF_ASSERT(HIF_IS_NOT_NULL(help_ptr)); /*#4*/

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_SERIALIZE(opcode, *ptr_ptr_rqb_dest, rqb_size, help_ptr, "hif_oha_serialize_upper");

    return HIF_OK;
}

/****************************************************************************
*  Name:        hif_oha_serialize_lower()
*  Purpose:     Function serializes the RQB to the HIF shared memory - 
*               according to the component ID and OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB, stored in the hosts local memory
*               pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the HIF shared memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16  hif_oha_serialize_lower (
    HIF_SYS_HANDLE hSysDev,
    LSA_VOID*      pHifPipeHandle,
    LSA_INT        hShmPool,
    LSA_VOID*      pRqbSrc,
    LSA_VOID**     ppRqbDest,
    LSA_UINT32*    pSerRqbLen )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_UINT32 rqb_size = 0;
    LSA_OPCODE_TYPE opcode = 0;
    OHA_RQB_TYPE* ptr_rqb_src = (OHA_RQB_TYPE*)pRqbSrc;
    LSA_VOID** ptr_ptr_rqb_dest = ppRqbDest;
    LSA_UINT16 freeRes = 0;
    LSA_UINT32 i=0,j=0;
    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_rqb_src)); /*#5*/
    opcode=HIF_RQB_GET_OPCODE(ptr_rqb_src);

    if (opcode==OHA_OPC_OPEN_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_CLOSE_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_GET_CONFIG)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(2);        /* NicId */
        rqb_size+=HIF_SER_SIZEOF(4);        /* InterfaceID */
        rqb_size+=HIF_SER_SIZEOF(2);        /* PortCnt */
        rqb_size+=HIF_SER_SIZEOF(2);        /* MaxSender */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Config.NicId);                /* NicId */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Config.InterfaceID);                /* InterfaceID */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Config.PortCnt);                /* PortCnt */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Config.MaxSender);                /* MaxSender */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_SET_IDENT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Ident.Options);                /* Options */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_GET_ADDRESS)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pStationData" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData)) /*#6*/
        {
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_MAC_ADDR_SIZE);            /* LocalMacAddr */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* LocalIpAddr */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* LocalSubnetMask */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* DefaultRouterAddr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* StationTypeLen */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationType" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationType /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.Address.pStationData->StationTypeLen);            /* size of: pStationType */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* StationNameLen */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationName" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationName /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.Address.pStationData->StationNameLen);            /* size of: pStationName */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* VendorId */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DeviceId */
            rqb_size+=HIF_SER_SIZEOF(2);            /* TcpIpStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ProfinetRole */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DeviceInstance */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.Options);                /* Options */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData))  /*#9*/
        {
            for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->LocalMacAddr[i]);                        /* LocalMacAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->LocalIpAddr[i]);                        /* LocalIpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->LocalSubnetMask[i]);                        /* LocalSubnetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->DefaultRouterAddr[i]);                        /* DefaultRouterAddr */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->StationTypeLen);                        /* StationTypeLen */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->pStationType);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationType /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Address.pStationData->pStationType),ptr_rqb_src->args.Address.pStationData->StationTypeLen);            /* pStationType */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->StationNameLen);                        /* StationNameLen */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->pStationName);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationName /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Address.pStationData->pStationName),ptr_rqb_src->args.Address.pStationData->StationNameLen);            /* pStationName */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->VendorId);                        /* VendorId */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->DeviceId);                        /* DeviceId */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->TcpIpStatus);                        /* TcpIpStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->ProfinetRole);                        /* ProfinetRole */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->DeviceInstance);                        /* DeviceInstance */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationType)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.Address.pStationData->pStationType);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationName)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.Address.pStationData->pStationName);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.Address.pStationData);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==OHA_OPC_SET_ADDRESS)
            ||(opcode==OHA_OPC_SET_EMERGENCY))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(1);        /* CheckIpEnabled */
        rqb_size+=HIF_SER_SIZEOF(1);        /* AccessMode */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Remanent */
        rqb_size+=HIF_SER_SIZEOF(4);        /* UserLockStatus */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pStationData" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData)) /*#6*/
        {
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_MAC_ADDR_SIZE);            /* LocalMacAddr */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* LocalIpAddr */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* LocalSubnetMask */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* DefaultRouterAddr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* StationTypeLen */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationType" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationType /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.Address.pStationData->StationTypeLen);            /* size of: pStationType */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* StationNameLen */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationName" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationName /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.Address.pStationData->StationNameLen);            /* size of: pStationName */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* VendorId */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DeviceId */
            rqb_size+=HIF_SER_SIZEOF(2);            /* TcpIpStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ProfinetRole */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.Options);                /* Options */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.CheckIpEnabled);                /* CheckIpEnabled */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.AccessMode);                /* AccessMode */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.Remanent);                /* Remanent */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.UserLockStatus);                /* UserLockStatus */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData))  /*#9*/
        {
            for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->LocalMacAddr[i]);                        /* LocalMacAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->LocalIpAddr[i]);                        /* LocalIpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->LocalSubnetMask[i]);                        /* LocalSubnetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->DefaultRouterAddr[i]);                        /* DefaultRouterAddr */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->StationTypeLen);                        /* StationTypeLen */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->pStationType);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationType /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Address.pStationData->pStationType),ptr_rqb_src->args.Address.pStationData->StationTypeLen);            /* pStationType */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->StationNameLen);                        /* StationNameLen */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->pStationName);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationName /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Address.pStationData->pStationName),ptr_rqb_src->args.Address.pStationData->StationNameLen);            /* pStationName */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->VendorId);                        /* VendorId */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->DeviceId);                        /* DeviceId */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->TcpIpStatus);                        /* TcpIpStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Address.pStationData->ProfinetRole);                        /* ProfinetRole */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationType)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.Address.pStationData->pStationType);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData->pStationName)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.Address.pStationData->pStationName);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Address.pStationData)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.Address.pStationData);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_DCP_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pAddrInfo" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpControl.pAddrInfo)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pName" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.pName /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_NAME_LEN);            /* size of: pName */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* Length */
            rqb_size+=HIF_SER_SIZEOF(1);            /* Remanent */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* IpAddr */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* NetMask */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* Gateway */
            rqb_size+=HIF_SER_SIZEOF(1);            /* CurrentIPSuiteIsEmergency */
            rqb_size+=HIF_SER_SIZEOF(1);            /* IpSuiteRemanent */
            rqb_size+=HIF_SER_SIZEOF(1);            /* CurrentIPSuiteConflictDetected */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* IpAddr */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* NetMask */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* Gateway */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* IpAddr */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* NetMask */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* Gateway */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.Options);                /* Options */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpControl.pAddrInfo))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.pName);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.pName /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.pName),OHA_MAX_STATION_NAME_LEN);            /* pName */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.Length);                        /* Length */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.Remanent);                        /* Remanent */
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* CurrentIPSuite*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->CurrentIPSuite.IpAddr[i]);                        /* IpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* CurrentIPSuite*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->CurrentIPSuite.NetMask[i]);                        /* NetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* CurrentIPSuite*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->CurrentIPSuite.Gateway[i]);                        /* Gateway */
            }
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->CurrentIPSuiteIsEmergency);                        /* CurrentIPSuiteIsEmergency */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->IpSuiteRemanent);                        /* IpSuiteRemanent */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->CurrentIPSuiteConflictDetected);                        /* CurrentIPSuiteConflictDetected */
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* ExpectedIPSuite*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->ExpectedIPSuite.IpAddr[i]);                        /* IpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* ExpectedIPSuite*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->ExpectedIPSuite.NetMask[i]);                        /* NetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* ExpectedIPSuite*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->ExpectedIPSuite.Gateway[i]);                        /* Gateway */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* EmergencyIPSuite*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->EmergencyIPSuite.IpAddr[i]);                        /* IpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* EmergencyIPSuite*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->EmergencyIPSuite.NetMask[i]);                        /* NetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* EmergencyIPSuite*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpControl.pAddrInfo->EmergencyIPSuite.Gateway[i]);                        /* Gateway */
            }
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpControl.pAddrInfo))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.pName)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.DcpControl.pAddrInfo->NoS.pName);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpControl.pAddrInfo)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.DcpControl.pAddrInfo);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_DCP_INDICATION)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Event */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Type */
        rqb_size+=HIF_SER_SIZEOF(1);        /* SubType */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(4);        /* RemaOptions */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_MAC_ADDR_SIZE);        /* SenderMACAddr */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pStationData" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData)) /*#6*/
        {
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_MAC_ADDR_SIZE);            /* LocalMacAddr */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* LocalIpAddr */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* LocalSubnetMask */
            rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);            /* DefaultRouterAddr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationType" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData->pStationType /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_TYPE_LEN);            /* size of: pStationType */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* StationTypeLen */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pStationName" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData->pStationName /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_NAME_LEN);            /* size of: pStationName */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* StationNameLen */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DeviceInstance */
            rqb_size+=HIF_SER_SIZEOF(2);            /* VendorId */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DeviceId */
            rqb_size+=HIF_SER_SIZEOF(2);            /* TcpIpStatus */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ProfinetRole */
            rqb_size+=HIF_SER_SIZEOF(2);            /* DeviceInstance */
        }
        rqb_size+=HIF_SER_SIZEOF(2);        /* Count */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.Event);                /* Event */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.Type);                /* Type */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.SubType);                /* SubType */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.Options);                /* Options */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.RemaOptions);                /* RemaOptions */
        for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                        /* DcpInd*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.SenderMACAddr[i]);                /* SenderMACAddr */
        }
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData))  /*#9*/
        {
            for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->LocalMacAddr[i]);                        /* LocalMacAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->LocalIpAddr[i]);                        /* LocalIpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->LocalSubnetMask[i]);                        /* LocalSubnetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* pStationData*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->DefaultRouterAddr[i]);                        /* DefaultRouterAddr */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->pStationType);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData->pStationType /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.DcpInd.pStationData->pStationType),OHA_MAX_STATION_TYPE_LEN);            /* pStationType */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->StationTypeLen);                        /* StationTypeLen */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->pStationName);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData->pStationName /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.DcpInd.pStationData->pStationName),OHA_MAX_STATION_NAME_LEN);            /* pStationName */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->StationNameLen);                        /* StationNameLen */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->DeviceInstance);                        /* DeviceInstance */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->VendorId);                        /* VendorId */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->DeviceId);                        /* DeviceId */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->TcpIpStatus);                        /* TcpIpStatus */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->ProfinetRole);                        /* ProfinetRole */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.pStationData->DeviceInstance);                        /* DeviceInstance */
        }
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.Count);                /* Count */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData->pStationType)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.DcpInd.pStationData->pStationType);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData->pStationName)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.DcpInd.pStationData->pStationName);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpInd.pStationData)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.DcpInd.pStationData);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_DCP_RESPONSE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Type */
        rqb_size+=HIF_SER_SIZEOF(1);        /* SubType */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(4);        /* RemaOptions */
        rqb_size+=HIF_SER_SIZEOF(2);        /* Count */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.Type);                /* Type */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.SubType);                /* SubType */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.Options);                /* Options */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.RemaOptions);                /* RemaOptions */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpInd.Count);                /* Count */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_TEST_LLDP_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_LLDP_INDICATION)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Status */
        rqb_size+=HIF_SER_SIZEOF(2);        /* PortId */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_MAC_ADDR_SIZE);        /* SenderMacAddr */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpInd.Status);                /* Status */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpInd.PortId);                /* PortId */
        for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                        /* LldpInd*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpInd.SenderMacAddr[i]);                /* SenderMacAddr */
        }

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_GET_NEIGHBOUR)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Status */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_MAC_ADDR_SIZE);        /* SenderMacAddr */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pLLDPDU" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pNameOfChassis" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfChassis /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(OHA_MAX_CHASSIS_STRLEN);            /* size of: pNameOfChassis */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* ChassisNameLen */
            rqb_size+=HIF_SER_SIZEOF(1);            /* TypeOfChassis */
            rqb_size+=HIF_SER_SIZEOF(2);            /* PortNameLen */
            rqb_size+=HIF_SER_SIZEOF(1);            /* TypeOfPort */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "pNameOfPort" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfPort /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(OHA_MAX_PORT_STRLEN);            /* size of: pNameOfPort */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* TimeToLive */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.Status);                /* Status */
        for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                        /* Neighbour*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.SenderMacAddr[i]);                /* SenderMacAddr */
        }
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.pLLDPDU);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfChassis);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfChassis /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfChassis),OHA_MAX_CHASSIS_STRLEN);            /* pNameOfChassis */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.pLLDPDU->ChassisNameLen);                        /* ChassisNameLen */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.pLLDPDU->TypeOfChassis);                        /* TypeOfChassis */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.pLLDPDU->PortNameLen);                        /* PortNameLen */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.pLLDPDU->TypeOfPort);                        /* TypeOfPort */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfPort);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfPort /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfPort),OHA_MAX_PORT_STRLEN);            /* pNameOfPort */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.Neighbour.pLLDPDU->TimeToLive);                        /* TimeToLive */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfChassis)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfChassis);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfPort)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.Neighbour.pLLDPDU->pNameOfPort);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.Neighbour.pLLDPDU)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.Neighbour.pLLDPDU);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==OHA_OPC_LLDP_CONTROL_OID)
            ||(opcode==OHA_OPC_MRP_CONTROL_OID))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pOidName" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.SnmpOid.pOidName /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_OID_LEN);        /* size of: pOidName */
        }
        rqb_size+=HIF_SER_SIZEOF(4);        /* OidNameLen */
        rqb_size+=HIF_SER_SIZEOF(1);        /* VarType */
        rqb_size+=HIF_SER_SIZEOF(4);        /* VarLength */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pVarValue" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.SnmpOid.pVarValue /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_NAME_LEN);        /* size of: pVarValue */
        }
        rqb_size+=HIF_SER_SIZEOF(2);        /* AccessControl */
        rqb_size+=HIF_SER_SIZEOF(4);        /* SnmpError */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.pOidName);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.SnmpOid.pOidName /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.SnmpOid.pOidName),OHA_MAX_OID_LEN);        /* pOidName */
        }
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.OidNameLen);                /* OidNameLen */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.VarType);                /* VarType */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.VarLength);                /* VarLength */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.pVarValue);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.SnmpOid.pVarValue /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.SnmpOid.pVarValue),OHA_MAX_STATION_NAME_LEN);        /* pVarValue */
        }
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.AccessControl);                /* AccessControl */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.SnmpOid.SnmpError);                /* SnmpError */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.SnmpOid.pOidName)) /*#13*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.SnmpOid.pOidName);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.SnmpOid.pVarValue)) /*#13*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.SnmpOid.pVarValue);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==OHA_OPC_DCP_READ_ELEMENT)
            ||(opcode==OHA_OPC_DCP_WRITE_ELEMENT))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(2);        /* Length */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pVariable" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpElem.pVariable /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.DcpElem.Length);        /* size of: pVariable */
        }
        rqb_size+=HIF_SER_SIZEOF(1);        /* AccCtrl */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Remanent */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpElem.Length);                /* Length */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpElem.pVariable);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpElem.pVariable /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.DcpElem.pVariable),ptr_rqb_src->args.DcpElem.Length);        /* pVariable */
        }
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpElem.AccCtrl);                /* AccCtrl */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.DcpElem.Remanent);                /* Remanent */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.DcpElem.pVariable)) /*#13*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.DcpElem.pVariable);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_LLDP_READ_ELEMENT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pVarBuffer" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpElem.pVarBuffer /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_TLV_DATA_SIZE);        /* size of: pVarBuffer */
        }
        rqb_size+=HIF_SER_SIZEOF(2);        /* Count */
        rqb_size+=HIF_SER_SIZEOF(4);        /* pElements pointer */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpElem.pElements))
        {
            for(i=0;i<ptr_rqb_src->args.LldpElem.Count;i++)            /* pElements*/
            {
                rqb_size+=HIF_SER_SIZEOF(1);                /* Type */
                rqb_size+=HIF_SER_SIZEOF(1);                /* SubType */
                rqb_size+=HIF_SER_SIZEOF(4);                /* OUI */
                rqb_size+=HIF_SER_SIZEOF(4);                /* serialize "pVariable" pointer-offset */
                rqb_size+=HIF_SER_SIZEOF(2);                /* Length */
                rqb_size+=HIF_SER_SIZEOF(1);                /* Remanent */
            }
        }
        rqb_size+=HIF_SER_SIZEOF(1);        /* Status */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_MAC_ADDR_SIZE);        /* SenderMacAddr */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.pVarBuffer);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpElem.pVarBuffer /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.LldpElem.pVarBuffer),OHA_MAX_TLV_DATA_SIZE);        /* pVarBuffer */
        }
    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.Count);        /* Count */
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.pElements);    /* serialize pointer info itself */
    if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpElem.pElements /*#10*/))
    {
        for(i=0;i<ptr_rqb_src->args.LldpElem.Count;i++)                                /* pElements*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.pElements[i].Type);                        /* Type */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.pElements[i].SubType);                        /* SubType */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.pElements[i].OUI);                        /* OUI */
            /* calculate offset for pVariable */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*(LSA_UINT32*)(ptr_rqb_src->args.LldpElem.pElements[i].pVariable - ptr_rqb_src->args.LldpElem.pVarBuffer));            /* serialize pointer-offset*/
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.pElements[i].Length);                        /* Length */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.pElements[i].Remanent);                        /* Remanent */
        }
    }
    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.Status);        /* Status */
    for(i=0;i<OHA_MAC_ADDR_SIZE;i++)            /* LldpElem*/
    {
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpElem.SenderMacAddr[i]);        /* SenderMacAddr */
    }

        /* Delete lower RQB after lower serialization */
            for(i=0;i<ptr_rqb_src->args.LldpElem.Count;i++)            /* free pointer in array pElements*/
            {
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpElem.pVarBuffer)) /*#12*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.LldpElem.pVarBuffer);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
    }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpElem.pVarBuffer)) /*#13*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.LldpElem.pVarBuffer);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpElem.pElements)) /*#15*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.LldpElem.pElements);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_WRITE_PTCP_DATA)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_READ_QUERY_ELEMENTS)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(2);        /* Count */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pVarBuffer" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.QueryElem.pVarBuffer /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_TLV_DATA_SIZE);        /* size of: pVarBuffer */
        }
        rqb_size+=HIF_SER_SIZEOF(4);        /* pElements pointer */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.QueryElem.pElements))
        {
            for(i=0;i<ptr_rqb_src->args.QueryElem.Count;i++)            /* pElements*/
            {
                rqb_size+=HIF_SER_SIZEOF(1);                /* Type */
                rqb_size+=HIF_SER_SIZEOF(1);                /* SubType */
                rqb_size+=HIF_SER_SIZEOF(4);                /* serialize "pVariable" pointer-offset */
                rqb_size+=HIF_SER_SIZEOF(2);                /* Length */
                rqb_size+=HIF_SER_SIZEOF(1);                /* AccCtrl */
                rqb_size+=HIF_SER_SIZEOF(1);                /* Remanent */
                rqb_size+=(HIF_SER_SIZEOF(2) * OHA_CFG_MAX_CHANNELS);                /* LockCnt */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.QueryElem.Count);                /* Count */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.QueryElem.pVarBuffer);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.QueryElem.pVarBuffer /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.QueryElem.pVarBuffer),OHA_MAX_TLV_DATA_SIZE);        /* pVarBuffer */
        }
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.QueryElem.pElements);    /* serialize pointer info itself */
    if (HIF_IS_NOT_NULL(ptr_rqb_src->args.QueryElem.pElements /*#10*/))
    {
        for(i=0;i<ptr_rqb_src->args.QueryElem.Count;i++)                                /* pElements*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.QueryElem.pElements[i].Type);                        /* Type */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.QueryElem.pElements[i].SubType);                        /* SubType */
            /* calculate offset for pVariable */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*(LSA_UINT32*)(ptr_rqb_src->args.QueryElem.pElements[i].pVariable - ptr_rqb_src->args.QueryElem.pVarBuffer));            /* serialize pointer-offset*/
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.QueryElem.pElements[i].Length);                        /* Length */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.QueryElem.pElements[i].AccCtrl);                        /* AccCtrl */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.QueryElem.pElements[i].Remanent);                        /* Remanent */
            for(j=0;j<OHA_CFG_MAX_CHANNELS;j++)                                    /* pElements*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.QueryElem.pElements[i].LockCnt[j]);                        /* LockCnt */
            }
        }
    }

        /* Delete lower RQB after lower serialization */
            for(i=0;i<ptr_rqb_src->args.QueryElem.Count;i++)            /* free pointer in array pElements*/
            {
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.QueryElem.pVarBuffer)) /*#12*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.QueryElem.pVarBuffer);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
    }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.QueryElem.pVarBuffer)) /*#13*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.QueryElem.pVarBuffer);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.QueryElem.pElements)) /*#15*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.QueryElem.pElements);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_HELLO_INDICATION)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* FilterID */
        rqb_size+=HIF_SER_SIZEOF(2);        /* StationNameLen */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pStationName" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.HelloInd.pStationName /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_NAME_LEN);        /* size of: pStationName */
        }
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* IPAddr */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* SubnetMask */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* DefaultRouterAddr */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_MAC_ADDR_SIZE);        /* MacAddr */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.HelloInd.FilterID);                /* FilterID */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.HelloInd.StationNameLen);                /* StationNameLen */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.HelloInd.pStationName);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.HelloInd.pStationName /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.HelloInd.pStationName),OHA_MAX_STATION_NAME_LEN);        /* pStationName */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* HelloInd*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.HelloInd.IPAddr[i]);                /* IPAddr */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* HelloInd*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.HelloInd.SubnetMask[i]);                /* SubnetMask */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* HelloInd*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.HelloInd.DefaultRouterAddr[i]);                /* DefaultRouterAddr */
        }
        for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                        /* HelloInd*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.HelloInd.MacAddr[i]);                /* MacAddr */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.HelloInd.pStationName)) /*#13*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.HelloInd.pStationName);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_ADDR_INFO_IND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pName" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.AddrInfo.NoS.pName /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_STATION_NAME_LEN);        /* size of: pName */
        }
        rqb_size+=HIF_SER_SIZEOF(2);        /* Length */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Remanent */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* IpAddr */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* NetMask */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* Gateway */
        rqb_size+=HIF_SER_SIZEOF(1);        /* CurrentIPSuiteIsEmergency */
        rqb_size+=HIF_SER_SIZEOF(1);        /* IpSuiteRemanent */
        rqb_size+=HIF_SER_SIZEOF(1);        /* CurrentIPSuiteConflictDetected */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* IpAddr */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* NetMask */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* Gateway */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* IpAddr */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* NetMask */
        rqb_size+=(HIF_SER_SIZEOF(1) * OHA_IP_ADDR_SIZE);        /* Gateway */
        rqb_size+=HIF_SER_SIZEOF(1);        /* FactoryReset */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.NoS.pName);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.AddrInfo.NoS.pName /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.AddrInfo.NoS.pName),OHA_MAX_STATION_NAME_LEN);        /* pName */
        }
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.NoS.Length);                /* Length */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.NoS.Remanent);                /* Remanent */
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* CurrentIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.CurrentIPSuite.IpAddr[i]);                /* IpAddr */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* CurrentIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.CurrentIPSuite.NetMask[i]);                /* NetMask */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* CurrentIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.CurrentIPSuite.Gateway[i]);                /* Gateway */
        }
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.CurrentIPSuiteIsEmergency);                /* CurrentIPSuiteIsEmergency */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.IpSuiteRemanent);                /* IpSuiteRemanent */
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.CurrentIPSuiteConflictDetected);                /* CurrentIPSuiteConflictDetected */
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* ExpectedIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.ExpectedIPSuite.IpAddr[i]);                /* IpAddr */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* ExpectedIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.ExpectedIPSuite.NetMask[i]);                /* NetMask */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* ExpectedIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.ExpectedIPSuite.Gateway[i]);                /* Gateway */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* EmergencyIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.EmergencyIPSuite.IpAddr[i]);                /* IpAddr */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* EmergencyIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.EmergencyIPSuite.NetMask[i]);                /* NetMask */
        }
        for(i=0;i<OHA_IP_ADDR_SIZE;i++)                        /* EmergencyIPSuite*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.EmergencyIPSuite.Gateway[i]);                /* Gateway */
        }
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.AddrInfo.FactoryReset);                /* FactoryReset */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.AddrInfo.NoS.pName)) /*#13*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.AddrInfo.NoS.pName);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==OHA_OPC_PRM_PREPARE)
            ||(opcode==OHA_OPC_PRM_END)
            ||(opcode==OHA_OPC_PRM_COMMIT))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==OHA_OPC_PRM_READ)
            ||(opcode==OHA_OPC_PRM_WRITE))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* record_data_length */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "record_data" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.PrmData.record_data /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.PrmData.record_data_length);        /* size of: record_data */
        }
        rqb_size+=HIF_SER_SIZEOF(1);        /* mk_rema */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmData.record_data_length);                /* record_data_length */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmData.record_data);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.PrmData.record_data /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.PrmData.record_data),ptr_rqb_src->args.PrmData.record_data_length);        /* record_data */
        }
        HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmData.mk_rema);                /* mk_rema */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.PrmData.record_data)) /*#13*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.PrmData.record_data);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_PRM_INDICATION)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(2);        /* diag_cnt */
        rqb_size+=HIF_SER_SIZEOF(4);        /* diag_ptr pointer */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.PrmInd.diag_ptr))
        {
            for(i=0;i<OHA_TOPO_MAX_IND_ENTRIES;i++)            /* diag_ptr*/
            {
                rqb_size+=HIF_SER_SIZEOF(2);                /* ChannelNumber */
                rqb_size+=HIF_SER_SIZEOF(2);                /* ChannelProperties */
                rqb_size+=HIF_SER_SIZEOF(2);                /* ChannelErrorType */
                rqb_size+=HIF_SER_SIZEOF(2);                /* ExtChannelErrorType */
                rqb_size+=HIF_SER_SIZEOF(4);                /* ExtChannelAddValue */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmInd.diag_cnt);                /* diag_cnt */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmInd.diag_ptr);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.PrmInd.diag_ptr /*#10*/))
        {
            for(i=0;i<OHA_TOPO_MAX_IND_ENTRIES;i++)                                                /* diag_ptr*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmInd.diag_ptr[i].ChannelNumber);                                /* ChannelNumber */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmInd.diag_ptr[i].ChannelProperties);                                /* ChannelProperties */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmInd.diag_ptr[i].ChannelErrorType);                                /* ChannelErrorType */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmInd.diag_ptr[i].ExtChannelErrorType);                                /* ExtChannelErrorType */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.PrmInd.diag_ptr[i].ExtChannelAddValue);                                /* ExtChannelAddValue */
            }
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.PrmInd.diag_ptr)) /*#15*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.PrmInd.diag_ptr);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==OHA_OPC_REMA_INDICATION)
            ||(opcode==OHA_OPC_REMA_READ))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* index */
        rqb_size+=HIF_SER_SIZEOF(4);        /* data_length */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "data" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.RemaData.data /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.RemaData.data_length);        /* size of: data */
        }
        rqb_size+=HIF_SER_SIZEOF(2);        /* data_tag */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.RemaData.index);                /* index */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.RemaData.data_length);                /* data_length */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.RemaData.data);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.RemaData.data /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.RemaData.data),ptr_rqb_src->args.RemaData.data_length);        /* data */
        }
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.RemaData.data_tag);                /* data_tag */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.RemaData.data)) /*#13*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.RemaData.data);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_REMA_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_LLDP_WRITE_OPTION)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOption.pVariable)) /*#13*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.LldpOption.pVariable);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_LLDP_READ_OPTIONS)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "pVarBuffer" pointer itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOptions.pVarBuffer /* #8*/))
        {
            rqb_size+=HIF_SER_SIZEOF(OHA_MAX_TLV_DATA_SIZE);        /* size of: pVarBuffer */
        }
        rqb_size+=HIF_SER_SIZEOF(2);        /* Count */
        rqb_size+=HIF_SER_SIZEOF(4);        /* pElements pointer */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOptions.pElements))
        {
            for(i=0;i<ptr_rqb_src->args.LldpOptions.Count;i++)            /* pElements*/
            {
                rqb_size+=HIF_SER_SIZEOF(1);                /* Type */
                rqb_size+=HIF_SER_SIZEOF(1);                /* SubType */
                rqb_size+=HIF_SER_SIZEOF(4);                /* OUI */
                rqb_size+=HIF_SER_SIZEOF(4);                /* serialize "pVariable" pointer-offset */
                rqb_size+=HIF_SER_SIZEOF(2);                /* Length */
                rqb_size+=HIF_SER_SIZEOF(1);                /* Remanent */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.pVarBuffer);        /* serialize pointer info itself */
        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOptions.pVarBuffer /*#11*/))
        {
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.LldpOptions.pVarBuffer),OHA_MAX_TLV_DATA_SIZE);        /* pVarBuffer */
        }
    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.Count);        /* Count */
    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.pElements);    /* serialize pointer info itself */
    if (HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOptions.pElements /*#10*/))
    {
        for(i=0;i<ptr_rqb_src->args.LldpOptions.Count;i++)                                /* pElements*/
        {
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.pElements[i].Type);                        /* Type */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.pElements[i].SubType);                        /* SubType */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.pElements[i].OUI);                        /* OUI */
            /* calculate offset for pVariable */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*(LSA_UINT32*)(ptr_rqb_src->args.LldpOptions.pElements[i].pVariable - ptr_rqb_src->args.LldpOptions.pVarBuffer));            /* serialize pointer-offset*/
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.pElements[i].Length);                        /* Length */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpOptions.pElements[i].Remanent);                        /* Remanent */
        }
    }

        /* Delete lower RQB after lower serialization */
            for(i=0;i<ptr_rqb_src->args.LldpOptions.Count;i++)            /* free pointer in array pElements*/
            {
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOptions.pVarBuffer)) /*#12*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.LldpOptions.pVarBuffer);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
    }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOptions.pVarBuffer)) /*#13*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.LldpOptions.pVarBuffer);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.LldpOptions.pElements)) /*#15*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.LldpOptions.pElements);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_PORT_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_TCIP_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* KeepAliveTime */
        rqb_size+=HIF_SER_SIZEOF(4);        /* ConnectionTimeout */
        rqb_size+=HIF_SER_SIZEOF(4);        /* RetransmitTimeout */
        rqb_size+=HIF_SER_SIZEOF(4);        /* RetransmitCount */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.TcipData.KeepAliveTime);                /* KeepAliveTime */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.TcipData.ConnectionTimeout);                /* ConnectionTimeout */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.TcipData.RetransmitTimeout);                /* RetransmitTimeout */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.TcipData.RetransmitCount);                /* RetransmitCount */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==OHA_OPC_LLDP_ACCESS_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(2);        /* PortId */
        rqb_size+=HIF_SER_SIZEOF(1);        /* AccessMode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(4);        /* PortOptions */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpAccess.PortId);                /* PortId */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpAccess.AccessMode);                /* AccessMode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpAccess.Options);                /* Options */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpAccess.PortOptions);                /* PortOptions */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==OHA_OPC_LLDP_CONFIG_INDICATION)
            ||(opcode==OHA_OPC_LLDP_CONFIG_RESPONSE))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Mode */
        rqb_size+=HIF_SER_SIZEOF(2);        /* Options */
        rqb_size+=HIF_SER_SIZEOF(2);        /* RemaOptions */
        rqb_size+=HIF_SER_SIZEOF(2);        /* TxInterval */
        rqb_size+=HIF_SER_SIZEOF(2);        /* TxHoldMultiplier */
        rqb_size+=HIF_SER_SIZEOF(2);        /* ReinitDelay */
        rqb_size+=HIF_SER_SIZEOF(2);        /* TxDelay */
        rqb_size+=HIF_SER_SIZEOF(2);        /* NotificationInterval */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Mode);                /* Mode */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Options);                /* Options */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.RemaOptions);                /* RemaOptions */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Config.TxInterval);                /* TxInterval */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Config.TxHoldMultiplier);                /* TxHoldMultiplier */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Config.ReinitDelay);                /* ReinitDelay */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Config.TxDelay);                /* TxDelay */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpConfig.Config.NotificationInterval);                /* NotificationInterval */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==OHA_OPC_LLDP_PORT_CONFIG_INDICATION)
            ||(opcode==OHA_OPC_LLDP_PORT_CONFIG_RESPONSE))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(2);        /* PortID */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Mode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* PortOptions */
        rqb_size+=HIF_SER_SIZEOF(4);        /* PortOptionsRema */
        rqb_size+=HIF_SER_SIZEOF(1);        /* AdminStatus */
        rqb_size+=HIF_SER_SIZEOF(1);        /* NotificationEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* TLVsTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* ManAddrTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* PnoDelayTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* PnoPortStatusTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* PnoAliasTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* PnoMrpTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* PnoPtcpTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Dot1VlanIdTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Dot1VlanNameTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Dot1PortProtoVlanTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Dot1ProtocolTxEnable */
        rqb_size+=HIF_SER_SIZEOF(1);        /* Dot3TLVsTxEnable */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortID);                /* PortID */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.Mode);                /* Mode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortOptions);                /* PortOptions */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortOptionsRema);                /* PortOptionsRema */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.AdminStatus);                /* AdminStatus */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.NotificationEnable);                /* NotificationEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.TLVsTxEnable);                /* TLVsTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.ManAddrTxEnable);                /* ManAddrTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.PnoDelayTxEnable);                /* PnoDelayTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.PnoPortStatusTxEnable);                /* PnoPortStatusTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.PnoAliasTxEnable);                /* PnoAliasTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.PnoMrpTxEnable);                /* PnoMrpTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.PnoPtcpTxEnable);                /* PnoPtcpTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.Dot1VlanIdTxEnable);                /* Dot1VlanIdTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.Dot1VlanNameTxEnable);                /* Dot1VlanNameTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.Dot1PortProtoVlanTxEnable);                /* Dot1PortProtoVlanTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.Dot1ProtocolTxEnable);                /* Dot1ProtocolTxEnable */
        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.LldpPortConfig.PortConfig.Dot3TLVsTxEnable);                /* Dot3TLVsTxEnable */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else
    {
        HIF_PROGRAM_TRACE_02(0,LSA_TRACE_LEVEL_FATAL,"hif_oha_serialize_lower(). RQB-Opcode:0x%x is not valid! pRQB(0x%08x)",opcode,ptr_rqb_src+4);
        HIF_FATAL(0);
    }

    *pSerRqbLen = rqb_size;

    HIF_ASSERT(HIF_IS_NOT_NULL(help_ptr)); /*#4*/

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_SERIALIZE(opcode, *ptr_ptr_rqb_dest, rqb_size, help_ptr, "hif_oha_serialize_lower");

    return HIF_OK;
}

/****************************************************************************
*  Name:        hif_oha_deserialize_upper()
*  Purpose:     De-serializes the RQB from the HIF shared memory into the
*               hosts local memory - according to the component ID and
*               OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB in shared memory
                pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the hosts local memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16      hif_oha_deserialize_upper (
        HIF_SYS_HANDLE hSysDev,
        LSA_VOID* pHifPipeHandle,
        LSA_VOID* pRqbSrc,
        LSA_VOID** ppRqbDest )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_OPCODE_TYPE opcode = 0;
    LSA_VOID* ptr_rqb_src = (LSA_VOID*)pRqbSrc;
    OHA_RQB_TYPE** ptr_ptr_rqb_dest = (OHA_RQB_TYPE**)ppRqbDest;
    LSA_RESPONSE_TYPE response = 0;
    OHA_RQB_TYPE* new_rqb  = LSA_NULL;
    LSA_UINT32 i=0,j=0;

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_ptr_rqb_dest)); /*#17*/
    HIF_DESER_GET_OPCODE(ptr_rqb_src, opcode);

    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    if (opcode==OHA_OPC_OPEN_CHANNEL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if (opcode==OHA_OPC_CLOSE_CHANNEL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if (opcode==OHA_OPC_GET_CONFIG)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Config.NicId,(LSA_UINT32**)&help_ptr);            /* NicId */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.Config.InterfaceID,(LSA_UINT32**)&help_ptr);            /* InterfaceID */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Config.PortCnt,(LSA_UINT32**)&help_ptr);            /* PortCnt */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Config.MaxSender,(LSA_UINT32**)&help_ptr);            /* MaxSender */
        }
    }
    else if (opcode==OHA_OPC_SET_IDENT)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.Ident.Options,(LSA_UINT32**)&help_ptr);            /* Options */
        }
    }
    else if (opcode==OHA_OPC_GET_ADDRESS)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.Address.Options,(LSA_UINT32**)&help_ptr);            /* Options */

            if(HIF_IS_NOT_NULL(new_rqb->args.Address.pStationData) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: OHA_UPPER_STATION_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                                /* LocalMacAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->LocalMacAddr[i],(LSA_UINT32**)&help_ptr);                /* LocalMacAddr */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* LocalIpAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->LocalIpAddr[i],(LSA_UINT32**)&help_ptr);                /* LocalIpAddr */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* LocalSubnetMask*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->LocalSubnetMask[i],(LSA_UINT32**)&help_ptr);                /* LocalSubnetMask */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* DefaultRouterAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->DefaultRouterAddr[i],(LSA_UINT32**)&help_ptr);                /* DefaultRouterAddr */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->StationTypeLen,(LSA_UINT32**)&help_ptr);                /* StationTypeLen */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.Address.pStationData->StationTypeLen > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.Address.pStationData->pStationType)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Address.pStationData->pStationType),(LSA_UINT32**)&help_ptr,new_rqb->args.Address.pStationData->StationTypeLen);                /* pStationType */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->StationNameLen,(LSA_UINT32**)&help_ptr);                /* StationNameLen */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.Address.pStationData->StationNameLen > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.Address.pStationData->pStationName)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Address.pStationData->pStationName),(LSA_UINT32**)&help_ptr,new_rqb->args.Address.pStationData->StationNameLen);                /* pStationName */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->VendorId,(LSA_UINT32**)&help_ptr);                /* VendorId */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->DeviceId,(LSA_UINT32**)&help_ptr);                /* DeviceId */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->TcpIpStatus,(LSA_UINT32**)&help_ptr);                /* TcpIpStatus */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.Address.pStationData->ProfinetRole,(LSA_UINT32**)&help_ptr);                /* ProfinetRole */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->DeviceInstance,(LSA_UINT32**)&help_ptr);                /* DeviceInstance */
            }
            else
            {
                new_rqb->args.Address.pStationData = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if  ((opcode==OHA_OPC_SET_ADDRESS)
            ||(opcode==OHA_OPC_SET_EMERGENCY))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.Address.Options,(LSA_UINT32**)&help_ptr);            /* Options */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.Address.CheckIpEnabled,(LSA_UINT32**)&help_ptr);            /* CheckIpEnabled */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.Address.AccessMode,(LSA_UINT32**)&help_ptr);            /* AccessMode */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.Address.Remanent,(LSA_UINT32**)&help_ptr);            /* Remanent */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.Address.UserLockStatus,(LSA_UINT32**)&help_ptr);            /* UserLockStatus */

            if(HIF_IS_NOT_NULL(new_rqb->args.Address.pStationData) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: OHA_UPPER_STATION_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                                /* LocalMacAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->LocalMacAddr[i],(LSA_UINT32**)&help_ptr);                /* LocalMacAddr */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* LocalIpAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->LocalIpAddr[i],(LSA_UINT32**)&help_ptr);                /* LocalIpAddr */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* LocalSubnetMask*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->LocalSubnetMask[i],(LSA_UINT32**)&help_ptr);                /* LocalSubnetMask */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* DefaultRouterAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->DefaultRouterAddr[i],(LSA_UINT32**)&help_ptr);                /* DefaultRouterAddr */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->StationTypeLen,(LSA_UINT32**)&help_ptr);                /* StationTypeLen */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.Address.pStationData->StationTypeLen > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.Address.pStationData->pStationType)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Address.pStationData->pStationType),(LSA_UINT32**)&help_ptr,new_rqb->args.Address.pStationData->StationTypeLen);                /* pStationType */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->StationNameLen,(LSA_UINT32**)&help_ptr);                /* StationNameLen */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.Address.pStationData->StationNameLen > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.Address.pStationData->pStationName)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Address.pStationData->pStationName),(LSA_UINT32**)&help_ptr,new_rqb->args.Address.pStationData->StationNameLen);                /* pStationName */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->VendorId,(LSA_UINT32**)&help_ptr);                /* VendorId */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->DeviceId,(LSA_UINT32**)&help_ptr);                /* DeviceId */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->TcpIpStatus,(LSA_UINT32**)&help_ptr);                /* TcpIpStatus */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.Address.pStationData->ProfinetRole,(LSA_UINT32**)&help_ptr);                /* ProfinetRole */
            }
            else
            {
                new_rqb->args.Address.pStationData = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==OHA_OPC_DCP_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.DcpControl.Options,(LSA_UINT32**)&help_ptr);            /* Options */

            if(HIF_IS_NOT_NULL(new_rqb->args.DcpControl.pAddrInfo) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: OHA_UPPER_ADDR_INFO_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_NAME_LEN > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.DcpControl.pAddrInfo->NoS.pName)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.DcpControl.pAddrInfo->NoS.pName),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_NAME_LEN);                /* pName */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpControl.pAddrInfo->NoS.Length,(LSA_UINT32**)&help_ptr);                /* Length */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.DcpControl.pAddrInfo->NoS.Remanent,(LSA_UINT32**)&help_ptr);                /* Remanent */
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* IpAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpControl.pAddrInfo->CurrentIPSuite.IpAddr[i],(LSA_UINT32**)&help_ptr);                /* IpAddr */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* NetMask*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpControl.pAddrInfo->CurrentIPSuite.NetMask[i],(LSA_UINT32**)&help_ptr);                /* NetMask */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* Gateway*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpControl.pAddrInfo->CurrentIPSuite.Gateway[i],(LSA_UINT32**)&help_ptr);                /* Gateway */
                }
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.DcpControl.pAddrInfo->CurrentIPSuiteIsEmergency,(LSA_UINT32**)&help_ptr);                /* CurrentIPSuiteIsEmergency */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.DcpControl.pAddrInfo->IpSuiteRemanent,(LSA_UINT32**)&help_ptr);                /* IpSuiteRemanent */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.DcpControl.pAddrInfo->CurrentIPSuiteConflictDetected,(LSA_UINT32**)&help_ptr);                /* CurrentIPSuiteConflictDetected */
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* IpAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpControl.pAddrInfo->ExpectedIPSuite.IpAddr[i],(LSA_UINT32**)&help_ptr);                /* IpAddr */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* NetMask*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpControl.pAddrInfo->ExpectedIPSuite.NetMask[i],(LSA_UINT32**)&help_ptr);                /* NetMask */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* Gateway*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpControl.pAddrInfo->ExpectedIPSuite.Gateway[i],(LSA_UINT32**)&help_ptr);                /* Gateway */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* IpAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpControl.pAddrInfo->EmergencyIPSuite.IpAddr[i],(LSA_UINT32**)&help_ptr);                /* IpAddr */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* NetMask*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpControl.pAddrInfo->EmergencyIPSuite.NetMask[i],(LSA_UINT32**)&help_ptr);                /* NetMask */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* Gateway*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpControl.pAddrInfo->EmergencyIPSuite.Gateway[i],(LSA_UINT32**)&help_ptr);                /* Gateway */
                }
            }
            else
            {
                new_rqb->args.DcpControl.pAddrInfo = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==OHA_OPC_DCP_INDICATION)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpInd.Event,(LSA_UINT32**)&help_ptr);            /* Event */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpInd.Type,(LSA_UINT32**)&help_ptr);            /* Type */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpInd.SubType,(LSA_UINT32**)&help_ptr);            /* SubType */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.DcpInd.Options,(LSA_UINT32**)&help_ptr);            /* Options */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.DcpInd.RemaOptions,(LSA_UINT32**)&help_ptr);            /* RemaOptions */
            for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                    /* SenderMACAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpInd.SenderMACAddr[i],(LSA_UINT32**)&help_ptr);            /* SenderMACAddr */
            }

            if(HIF_IS_NOT_NULL(new_rqb->args.DcpInd.pStationData) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: OHA_UPPER_STATION_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                                /* LocalMacAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpInd.pStationData->LocalMacAddr[i],(LSA_UINT32**)&help_ptr);                /* LocalMacAddr */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* LocalIpAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpInd.pStationData->LocalIpAddr[i],(LSA_UINT32**)&help_ptr);                /* LocalIpAddr */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* LocalSubnetMask*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpInd.pStationData->LocalSubnetMask[i],(LSA_UINT32**)&help_ptr);                /* LocalSubnetMask */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* DefaultRouterAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.DcpInd.pStationData->DefaultRouterAddr[i],(LSA_UINT32**)&help_ptr);                /* DefaultRouterAddr */
                }
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_TYPE_LEN > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.DcpInd.pStationData->pStationType)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.DcpInd.pStationData->pStationType),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_TYPE_LEN);                /* pStationType */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpInd.pStationData->StationTypeLen,(LSA_UINT32**)&help_ptr);                /* StationTypeLen */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_NAME_LEN > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.DcpInd.pStationData->pStationName)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.DcpInd.pStationData->pStationName),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_NAME_LEN);                /* pStationName */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpInd.pStationData->StationNameLen,(LSA_UINT32**)&help_ptr);                /* StationNameLen */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpInd.pStationData->DeviceInstance,(LSA_UINT32**)&help_ptr);                /* DeviceInstance */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpInd.pStationData->VendorId,(LSA_UINT32**)&help_ptr);                /* VendorId */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpInd.pStationData->DeviceId,(LSA_UINT32**)&help_ptr);                /* DeviceId */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpInd.pStationData->TcpIpStatus,(LSA_UINT32**)&help_ptr);                /* TcpIpStatus */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpInd.pStationData->ProfinetRole,(LSA_UINT32**)&help_ptr);                /* ProfinetRole */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpInd.pStationData->DeviceInstance,(LSA_UINT32**)&help_ptr);                /* DeviceInstance */
            }
            else
            {
                new_rqb->args.DcpInd.pStationData = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpInd.Count,(LSA_UINT32**)&help_ptr);            /* Count */
        }
    }
    else if (opcode==OHA_OPC_DCP_RESPONSE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpInd.Type,(LSA_UINT32**)&help_ptr);            /* Type */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpInd.SubType,(LSA_UINT32**)&help_ptr);            /* SubType */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.DcpInd.Options,(LSA_UINT32**)&help_ptr);            /* Options */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.DcpInd.RemaOptions,(LSA_UINT32**)&help_ptr);            /* RemaOptions */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpInd.Count,(LSA_UINT32**)&help_ptr);            /* Count */
        }
    }
    else if (opcode==OHA_OPC_TEST_LLDP_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if (opcode==OHA_OPC_LLDP_INDICATION)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpInd.Status,(LSA_UINT32**)&help_ptr);            /* Status */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpInd.PortId,(LSA_UINT32**)&help_ptr);            /* PortId */
            for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                    /* SenderMacAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.LldpInd.SenderMacAddr[i],(LSA_UINT32**)&help_ptr);            /* SenderMacAddr */
            }
        }
    }
    else if (opcode==OHA_OPC_GET_NEIGHBOUR)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.Neighbour.Status,(LSA_UINT32**)&help_ptr);            /* Status */
            for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                    /* SenderMacAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Neighbour.SenderMacAddr[i],(LSA_UINT32**)&help_ptr);            /* SenderMacAddr */
            }

            if(HIF_IS_NOT_NULL(new_rqb->args.Neighbour.pLLDPDU) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: OHA_UPPER_LLDPDU_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_CHASSIS_STRLEN > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.Neighbour.pLLDPDU->pNameOfChassis)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Neighbour.pLLDPDU->pNameOfChassis),(LSA_UINT32**)&help_ptr,OHA_MAX_CHASSIS_STRLEN);                /* pNameOfChassis */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Neighbour.pLLDPDU->ChassisNameLen,(LSA_UINT32**)&help_ptr);                /* ChassisNameLen */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.Neighbour.pLLDPDU->TypeOfChassis,(LSA_UINT32**)&help_ptr);                /* TypeOfChassis */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Neighbour.pLLDPDU->PortNameLen,(LSA_UINT32**)&help_ptr);                /* PortNameLen */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.Neighbour.pLLDPDU->TypeOfPort,(LSA_UINT32**)&help_ptr);                /* TypeOfPort */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_PORT_STRLEN > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.Neighbour.pLLDPDU->pNameOfPort)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Neighbour.pLLDPDU->pNameOfPort),(LSA_UINT32**)&help_ptr,OHA_MAX_PORT_STRLEN);                /* pNameOfPort */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Neighbour.pLLDPDU->TimeToLive,(LSA_UINT32**)&help_ptr);                /* TimeToLive */
            }
            else
            {
                new_rqb->args.Neighbour.pLLDPDU = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if  ((opcode==OHA_OPC_LLDP_CONTROL_OID)
            ||(opcode==OHA_OPC_MRP_CONTROL_OID))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_OID_LEN > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer-pointer */
                if (HIF_IS_NOT_NULL(new_rqb->args.SnmpOid.pOidName)) /*#24*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.SnmpOid.pOidName),(LSA_UINT32**)&help_ptr,OHA_MAX_OID_LEN);            /* pOidName */
                }
            }
            else
            {
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.SnmpOid.OidNameLen,(LSA_UINT32**)&help_ptr);            /* OidNameLen */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.SnmpOid.VarType,(LSA_UINT32**)&help_ptr);            /* VarType */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.SnmpOid.VarLength,(LSA_UINT32**)&help_ptr);            /* VarLength */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_NAME_LEN > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer-pointer */
                if (HIF_IS_NOT_NULL(new_rqb->args.SnmpOid.pVarValue)) /*#24*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.SnmpOid.pVarValue),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_NAME_LEN);            /* pVarValue */
                }
            }
            else
            {
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.SnmpOid.AccessControl,(LSA_UINT32**)&help_ptr);            /* AccessControl */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.SnmpOid.SnmpError,(LSA_UINT32**)&help_ptr);            /* SnmpError */
        }
    }
    else if  ((opcode==OHA_OPC_DCP_READ_ELEMENT)
            ||(opcode==OHA_OPC_DCP_WRITE_ELEMENT))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpElem.Length,(LSA_UINT32**)&help_ptr);            /* Length */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.DcpElem.Length > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer-pointer */
                if (HIF_IS_NOT_NULL(new_rqb->args.DcpElem.pVariable)) /*#24*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.DcpElem.pVariable),(LSA_UINT32**)&help_ptr,new_rqb->args.DcpElem.Length);            /* pVariable */
                }
            }
            else
            {
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpElem.AccCtrl,(LSA_UINT32**)&help_ptr);            /* AccCtrl */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.DcpElem.Remanent,(LSA_UINT32**)&help_ptr);            /* Remanent */
        }
    }
    else if (opcode==OHA_OPC_LLDP_READ_ELEMENT)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_TLV_DATA_SIZE > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer-pointer */
                if (HIF_IS_NOT_NULL(new_rqb->args.LldpElem.pVarBuffer)) /*#24*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.LldpElem.pVarBuffer),(LSA_UINT32**)&help_ptr,OHA_MAX_TLV_DATA_SIZE);            /* pVarBuffer */
                }
            }
            else
            {
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpElem.Count,(LSA_UINT32**)&help_ptr);            /* Count */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* => pointer "pElements" on shared-mem */ /*#20*/
            {
                help_ptr+=HIF_SER_SIZEOF(4);
            for(i=0;i<new_rqb->args.LldpElem.Count;i++)                                    /* pElements*/
            {
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpElem.pElements[i].Type,(LSA_UINT32**)&help_ptr);                /* Type */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpElem.pElements[i].SubType,(LSA_UINT32**)&help_ptr);                /* SubType */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpElem.pElements[i].OUI,(LSA_UINT32**)&help_ptr);                /* OUI */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && HIF_SER_SIZEOF(4) > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    /* calculate pVariable offset */
                    new_rqb->args.LldpElem.pElements[i].pVariable = new_rqb->args.LldpElem.pVarBuffer + HIF_SHMTOL_L((*(LSA_UINT32*)help_ptr));
                    help_ptr+=4;          /* skip offset */
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpElem.pElements[i].Length,(LSA_UINT32**)&help_ptr);                /* Length */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.LldpElem.pElements[i].Remanent,(LSA_UINT32**)&help_ptr);                /* Remanent */
            }
            }
            else
            {
                help_ptr+=4;          /* skip buffer pointer */
            }
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpElem.Status,(LSA_UINT32**)&help_ptr);            /* Status */
            for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                    /* SenderMacAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.LldpElem.SenderMacAddr[i],(LSA_UINT32**)&help_ptr);            /* SenderMacAddr */
            }
        }
    }
    else if (opcode==OHA_OPC_WRITE_PTCP_DATA)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if (opcode==OHA_OPC_READ_QUERY_ELEMENTS)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.QueryElem.Count,(LSA_UINT32**)&help_ptr);            /* Count */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_TLV_DATA_SIZE > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer-pointer */
                if (HIF_IS_NOT_NULL(new_rqb->args.QueryElem.pVarBuffer)) /*#24*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.QueryElem.pVarBuffer),(LSA_UINT32**)&help_ptr,OHA_MAX_TLV_DATA_SIZE);            /* pVarBuffer */
                }
            }
            else
            {
                help_ptr+=4;          /* skip buffer-pointer */
            }
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* => pointer "pElements" on shared-mem */ /*#20*/
            {
                help_ptr+=HIF_SER_SIZEOF(4);
            for(i=0;i<new_rqb->args.QueryElem.Count;i++)                                    /* pElements*/
            {
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.QueryElem.pElements[i].Type,(LSA_UINT32**)&help_ptr);                /* Type */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.QueryElem.pElements[i].SubType,(LSA_UINT32**)&help_ptr);                /* SubType */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && HIF_SER_SIZEOF(4) > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    /* calculate pVariable offset */
                    new_rqb->args.QueryElem.pElements[i].pVariable = new_rqb->args.QueryElem.pVarBuffer + HIF_SHMTOL_L((*(LSA_UINT32*)help_ptr));
                    help_ptr+=4;          /* skip offset */
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.QueryElem.pElements[i].Length,(LSA_UINT32**)&help_ptr);                /* Length */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.QueryElem.pElements[i].AccCtrl,(LSA_UINT32**)&help_ptr);                /* AccCtrl */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.QueryElem.pElements[i].Remanent,(LSA_UINT32**)&help_ptr);                /* Remanent */
                for(j=0;j<OHA_CFG_MAX_CHANNELS;j++)                                                /* LockCnt*/
                {
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.QueryElem.pElements[i].LockCnt[j],(LSA_UINT32**)&help_ptr);                /* LockCnt */
                }
            }
            }
            else
            {
                help_ptr+=4;          /* skip buffer pointer */
            }
        }
    }
    else if (opcode==OHA_OPC_HELLO_INDICATION)
    {
        /* !!!SPECIAL CASE!!! hif_oha_deserialize_upper_OHA_OPC_HELLO_INDICATION*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.HelloInd.FilterID,(LSA_UINT32**)&help_ptr);            /* FilterID */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.HelloInd.StationNameLen,(LSA_UINT32**)&help_ptr);            /* StationNameLen */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_NAME_LEN > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer-pointer */
                if (HIF_IS_NOT_NULL(new_rqb->args.HelloInd.pStationName) && (response!=OHA_ERR_BUFFER_OVERFLOW)) /*#24*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.HelloInd.pStationName),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_NAME_LEN);            /* pStationName */
                }
            }
            else
            {
                help_ptr+=4;          /* skip buffer-pointer */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* IPAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.HelloInd.IPAddr[i],(LSA_UINT32**)&help_ptr);            /* IPAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* SubnetMask*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.HelloInd.SubnetMask[i],(LSA_UINT32**)&help_ptr);            /* SubnetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* DefaultRouterAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.HelloInd.DefaultRouterAddr[i],(LSA_UINT32**)&help_ptr);            /* DefaultRouterAddr */
            }
            for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                    /* MacAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.HelloInd.MacAddr[i],(LSA_UINT32**)&help_ptr);            /* MacAddr */
            }
        }
    
    }
    else if (opcode==OHA_OPC_ADDR_INFO_IND)
    {
        /* !!!SPECIAL CASE!!! hif_oha_deserialize_upper_OHA_OPC_ADDR_INFO_IND*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_NAME_LEN > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer-pointer */
                if (HIF_IS_NOT_NULL(new_rqb->args.AddrInfo.NoS.pName) && (response!=OHA_ERR_BUFFER_OVERFLOW)) /*#24*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.AddrInfo.NoS.pName),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_NAME_LEN);            /* pName */
                }
            }
            else
            {
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.AddrInfo.NoS.Length,(LSA_UINT32**)&help_ptr);            /* Length */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.AddrInfo.NoS.Remanent,(LSA_UINT32**)&help_ptr);            /* Remanent */
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* IpAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.CurrentIPSuite.IpAddr[i],(LSA_UINT32**)&help_ptr);            /* IpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* NetMask*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.CurrentIPSuite.NetMask[i],(LSA_UINT32**)&help_ptr);            /* NetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* Gateway*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.CurrentIPSuite.Gateway[i],(LSA_UINT32**)&help_ptr);            /* Gateway */
            }
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.AddrInfo.CurrentIPSuiteIsEmergency,(LSA_UINT32**)&help_ptr);            /* CurrentIPSuiteIsEmergency */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.AddrInfo.IpSuiteRemanent,(LSA_UINT32**)&help_ptr);            /* IpSuiteRemanent */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.AddrInfo.CurrentIPSuiteConflictDetected,(LSA_UINT32**)&help_ptr);            /* CurrentIPSuiteConflictDetected */
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* IpAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.ExpectedIPSuite.IpAddr[i],(LSA_UINT32**)&help_ptr);            /* IpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* NetMask*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.ExpectedIPSuite.NetMask[i],(LSA_UINT32**)&help_ptr);            /* NetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* Gateway*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.ExpectedIPSuite.Gateway[i],(LSA_UINT32**)&help_ptr);            /* Gateway */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* IpAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.EmergencyIPSuite.IpAddr[i],(LSA_UINT32**)&help_ptr);            /* IpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* NetMask*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.EmergencyIPSuite.NetMask[i],(LSA_UINT32**)&help_ptr);            /* NetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* Gateway*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.EmergencyIPSuite.Gateway[i],(LSA_UINT32**)&help_ptr);            /* Gateway */
            }
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.AddrInfo.FactoryReset,(LSA_UINT32**)&help_ptr);            /* FactoryReset */
        }
    
    }
    else if  ((opcode==OHA_OPC_PRM_PREPARE)
            ||(opcode==OHA_OPC_PRM_END)
            ||(opcode==OHA_OPC_PRM_COMMIT))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if  ((opcode==OHA_OPC_PRM_READ)
            ||(opcode==OHA_OPC_PRM_WRITE))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.PrmData.record_data_length,(LSA_UINT32**)&help_ptr);            /* record_data_length */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.PrmData.record_data_length > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer-pointer */
                if (HIF_IS_NOT_NULL(new_rqb->args.PrmData.record_data)) /*#24*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.PrmData.record_data),(LSA_UINT32**)&help_ptr,new_rqb->args.PrmData.record_data_length);            /* record_data */
                }
            }
            else
            {
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.PrmData.mk_rema,(LSA_UINT32**)&help_ptr);            /* mk_rema */
        }
    }
    else if (opcode==OHA_OPC_PRM_INDICATION)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.PrmInd.diag_cnt,(LSA_UINT32**)&help_ptr);            /* diag_cnt */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* => pointer "diag_ptr" on shared-mem */ /*#20*/
            {
                help_ptr+=HIF_SER_SIZEOF(4);
            for(i=0;i<OHA_TOPO_MAX_IND_ENTRIES;i++)                                    /* diag_ptr*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.PrmInd.diag_ptr[i].ChannelNumber,(LSA_UINT32**)&help_ptr);                /* ChannelNumber */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.PrmInd.diag_ptr[i].ChannelProperties,(LSA_UINT32**)&help_ptr);                /* ChannelProperties */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.PrmInd.diag_ptr[i].ChannelErrorType,(LSA_UINT32**)&help_ptr);                /* ChannelErrorType */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.PrmInd.diag_ptr[i].ExtChannelErrorType,(LSA_UINT32**)&help_ptr);                /* ExtChannelErrorType */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.PrmInd.diag_ptr[i].ExtChannelAddValue,(LSA_UINT32**)&help_ptr);                /* ExtChannelAddValue */
            }
            }
            else
            {
                help_ptr+=4;          /* skip buffer pointer */
            }
        }
    }
    else if  ((opcode==OHA_OPC_REMA_INDICATION)
            ||(opcode==OHA_OPC_REMA_READ))
    {
        /* !!!SPECIAL CASE!!! hif_oha_deserialize_upper_OHA_OPC_REMA_INDICATIONOHA_OPC_REMA_READ*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_CHAT,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.RemaData.index,(LSA_UINT32**)&help_ptr);            /* index */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.RemaData.data_length,(LSA_UINT32**)&help_ptr);            /* data_length */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.RemaData.data_length > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer-pointer */
                if (HIF_IS_NOT_NULL(new_rqb->args.RemaData.data) && (response != OHA_ERR_BUFFER_OVERFLOW)) /*#24*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.RemaData.data),(LSA_UINT32**)&help_ptr,new_rqb->args.RemaData.data_length);            /* data */
                }
            }
            else
            {
                help_ptr+=4;         /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.RemaData.data_tag,(LSA_UINT32**)&help_ptr);            /* data_tag */
        }
    
    }
    else if (opcode==OHA_OPC_REMA_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if (opcode==OHA_OPC_LLDP_WRITE_OPTION)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if (opcode==OHA_OPC_LLDP_READ_OPTIONS)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_TLV_DATA_SIZE > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer-pointer */
                if (HIF_IS_NOT_NULL(new_rqb->args.LldpOptions.pVarBuffer)) /*#24*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.LldpOptions.pVarBuffer),(LSA_UINT32**)&help_ptr,OHA_MAX_TLV_DATA_SIZE);            /* pVarBuffer */
                }
            }
            else
            {
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpOptions.Count,(LSA_UINT32**)&help_ptr);            /* Count */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* => pointer "pElements" on shared-mem */ /*#20*/
            {
                help_ptr+=HIF_SER_SIZEOF(4);
            for(i=0;i<new_rqb->args.LldpOptions.Count;i++)                                    /* pElements*/
            {
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpOptions.pElements[i].Type,(LSA_UINT32**)&help_ptr);                /* Type */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpOptions.pElements[i].SubType,(LSA_UINT32**)&help_ptr);                /* SubType */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpOptions.pElements[i].OUI,(LSA_UINT32**)&help_ptr);                /* OUI */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && HIF_SER_SIZEOF(4) > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    /* calculate pVariable offset */
                    new_rqb->args.LldpOptions.pElements[i].pVariable = new_rqb->args.LldpOptions.pVarBuffer + HIF_SHMTOL_L((*(LSA_UINT32*)help_ptr));
                    help_ptr+=4;          /* skip offset */
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpOptions.pElements[i].Length,(LSA_UINT32**)&help_ptr);                /* Length */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.LldpOptions.pElements[i].Remanent,(LSA_UINT32**)&help_ptr);                /* Remanent */
            }
            }
            else
            {
                help_ptr+=4;          /* skip buffer pointer */
            }
        }
    }
    else if (opcode==OHA_OPC_PORT_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if (opcode==OHA_OPC_TCIP_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.TcipData.KeepAliveTime,(LSA_UINT32**)&help_ptr);            /* KeepAliveTime */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.TcipData.ConnectionTimeout,(LSA_UINT32**)&help_ptr);            /* ConnectionTimeout */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.TcipData.RetransmitTimeout,(LSA_UINT32**)&help_ptr);            /* RetransmitTimeout */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.TcipData.RetransmitCount,(LSA_UINT32**)&help_ptr);            /* RetransmitCount */
        }
    }
    else if (opcode==OHA_OPC_LLDP_ACCESS_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpAccess.PortId,(LSA_UINT32**)&help_ptr);            /* PortId */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpAccess.AccessMode,(LSA_UINT32**)&help_ptr);            /* AccessMode */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpAccess.Options,(LSA_UINT32**)&help_ptr);            /* Options */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpAccess.PortOptions,(LSA_UINT32**)&help_ptr);            /* PortOptions */
        }
    }
    else if  ((opcode==OHA_OPC_LLDP_CONFIG_INDICATION)
            ||(opcode==OHA_OPC_LLDP_CONFIG_RESPONSE))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpConfig.Mode,(LSA_UINT32**)&help_ptr);            /* Mode */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Options,(LSA_UINT32**)&help_ptr);            /* Options */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.RemaOptions,(LSA_UINT32**)&help_ptr);            /* RemaOptions */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Config.TxInterval,(LSA_UINT32**)&help_ptr);            /* TxInterval */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Config.TxHoldMultiplier,(LSA_UINT32**)&help_ptr);            /* TxHoldMultiplier */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Config.ReinitDelay,(LSA_UINT32**)&help_ptr);            /* ReinitDelay */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Config.TxDelay,(LSA_UINT32**)&help_ptr);            /* TxDelay */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Config.NotificationInterval,(LSA_UINT32**)&help_ptr);            /* NotificationInterval */
        }
    }
    else if  ((opcode==OHA_OPC_LLDP_PORT_CONFIG_INDICATION)
            ||(opcode==OHA_OPC_LLDP_PORT_CONFIG_RESPONSE))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (OHA_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpPortConfig.PortID,(LSA_UINT32**)&help_ptr);            /* PortID */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.Mode,(LSA_UINT32**)&help_ptr);            /* Mode */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpPortConfig.PortOptions,(LSA_UINT32**)&help_ptr);            /* PortOptions */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpPortConfig.PortOptionsRema,(LSA_UINT32**)&help_ptr);            /* PortOptionsRema */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.AdminStatus,(LSA_UINT32**)&help_ptr);            /* AdminStatus */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.NotificationEnable,(LSA_UINT32**)&help_ptr);            /* NotificationEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.TLVsTxEnable,(LSA_UINT32**)&help_ptr);            /* TLVsTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.ManAddrTxEnable,(LSA_UINT32**)&help_ptr);            /* ManAddrTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.PnoDelayTxEnable,(LSA_UINT32**)&help_ptr);            /* PnoDelayTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.PnoPortStatusTxEnable,(LSA_UINT32**)&help_ptr);            /* PnoPortStatusTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.PnoAliasTxEnable,(LSA_UINT32**)&help_ptr);            /* PnoAliasTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.PnoMrpTxEnable,(LSA_UINT32**)&help_ptr);            /* PnoMrpTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.PnoPtcpTxEnable,(LSA_UINT32**)&help_ptr);            /* PnoPtcpTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.Dot1VlanIdTxEnable,(LSA_UINT32**)&help_ptr);            /* Dot1VlanIdTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.Dot1VlanNameTxEnable,(LSA_UINT32**)&help_ptr);            /* Dot1VlanNameTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.Dot1PortProtoVlanTxEnable,(LSA_UINT32**)&help_ptr);            /* Dot1PortProtoVlanTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.Dot1ProtocolTxEnable,(LSA_UINT32**)&help_ptr);            /* Dot1ProtocolTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.Dot3TLVsTxEnable,(LSA_UINT32**)&help_ptr);            /* Dot3TLVsTxEnable */
        }
    }
    else
    {
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"hif_oha_deserialize_upper(). RQB-Opcode:0x%x is not valid! shm_addr(0x%08x) pRQB(0x%08x)", opcode, ptr_rqb_src, new_rqb+4);
        HIF_FATAL(0);
    }
    HIF_ASSERT(HIF_IS_NOT_NULL(new_rqb)); /*#16*/
    *ptr_ptr_rqb_dest = new_rqb;

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_DESERIALIZE(ptr_rqb_src, opcode, help_ptr, "hif_oha_deserialize_upper");

    return HIF_OK;
}

/****************************************************************************
*  Name:        hif_oha_deserialize_lower()
*  Purpose:     De-serializes the RQB from the HIF shared memory into the
*               hosts local memory - according to the component ID and
*               OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB in shared memory
                pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the hosts local memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16      hif_oha_deserialize_lower (
        HIF_SYS_HANDLE hSysDev,
        LSA_VOID* pHifPipeHandle,
        LSA_VOID* pRqbSrc,
        LSA_VOID** ppRqbDest )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_OPCODE_TYPE opcode = 0;
    LSA_VOID* ptr_rqb_src = (LSA_VOID*)pRqbSrc;
    OHA_RQB_TYPE** ptr_ptr_rqb_dest = (OHA_RQB_TYPE**)ppRqbDest;
    OHA_RQB_TYPE* new_rqb  = LSA_NULL;
    LSA_UINT32 rqb_size = 0;
    LSA_UINT32 i=0;

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_ptr_rqb_dest)); /*#17*/
    HIF_DESER_GET_OPCODE(ptr_rqb_src, opcode);

    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    if (opcode==OHA_OPC_OPEN_CHANNEL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_SYS_PATH_SHMTH(&new_rqb->args.channel.sys_path,(LSA_UINT32**)&help_ptr);            /* sys_path */
        }
    }
    else if (opcode==OHA_OPC_CLOSE_CHANNEL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
        }
    }
    else if (opcode==OHA_OPC_GET_CONFIG)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
        }
    }
    else if (opcode==OHA_OPC_SET_IDENT)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.Ident.Options,(LSA_UINT32**)&help_ptr);            /* Options */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Ident.OEMVendorID,(LSA_UINT32**)&help_ptr);            /* OEMVendorID */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Ident.OEMDeviceID,(LSA_UINT32**)&help_ptr);            /* OEMDeviceID */
        }
    }
    else if (opcode==OHA_OPC_GET_ADDRESS)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.Address.Options,(LSA_UINT32**)&help_ptr);            /* Options */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pStationData" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((OHA_RQB_TYPE*)new_rqb)->args.Address.pStationData)), sizeof(*((OHA_RQB_TYPE*)new_rqb)->args.Address.pStationData));
                if (HIF_IS_NULL(new_rqb->args.Address.pStationData))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.Address.pStationData = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.Address.pStationData!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->StationTypeLen,(LSA_UINT32**)&help_ptr);                /* StationTypeLen */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.Address.pStationData->StationTypeLen > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.Address.pStationData->pStationType),new_rqb->args.Address.pStationData->StationTypeLen);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.Address.pStationData->StationTypeLen,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.Address.pStationData->pStationType)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Address.pStationData->pStationType),(LSA_UINT32**)&help_ptr,new_rqb->args.Address.pStationData->StationTypeLen);                /* pStationType */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.Address.pStationData->pStationType = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->StationNameLen,(LSA_UINT32**)&help_ptr);                /* StationNameLen */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.Address.pStationData->StationNameLen > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.Address.pStationData->pStationName),new_rqb->args.Address.pStationData->StationNameLen);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.Address.pStationData->StationNameLen,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.Address.pStationData->pStationName)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Address.pStationData->pStationName),(LSA_UINT32**)&help_ptr,new_rqb->args.Address.pStationData->StationNameLen);                /* pStationName */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.Address.pStationData->pStationName = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
            }
        }
    }
    else if  ((opcode==OHA_OPC_SET_ADDRESS)
            ||(opcode==OHA_OPC_SET_EMERGENCY))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.Address.Options,(LSA_UINT32**)&help_ptr);            /* Options */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.Address.CheckIpEnabled,(LSA_UINT32**)&help_ptr);            /* CheckIpEnabled */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.Address.AccessMode,(LSA_UINT32**)&help_ptr);            /* AccessMode */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.Address.Remanent,(LSA_UINT32**)&help_ptr);            /* Remanent */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.Address.UserLockStatus,(LSA_UINT32**)&help_ptr);            /* UserLockStatus */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pStationData" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((OHA_RQB_TYPE*)new_rqb)->args.Address.pStationData)), sizeof(*((OHA_RQB_TYPE*)new_rqb)->args.Address.pStationData));
                if (HIF_IS_NULL(new_rqb->args.Address.pStationData))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.Address.pStationData = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.Address.pStationData!=LSA_NULL) /*#if1*/
            {
                for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                                /* LocalMacAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->LocalMacAddr[i],(LSA_UINT32**)&help_ptr);                /* LocalMacAddr */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* LocalIpAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->LocalIpAddr[i],(LSA_UINT32**)&help_ptr);                /* LocalIpAddr */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* LocalSubnetMask*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->LocalSubnetMask[i],(LSA_UINT32**)&help_ptr);                /* LocalSubnetMask */
                }
                for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                                /* DefaultRouterAddr*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.Address.pStationData->DefaultRouterAddr[i],(LSA_UINT32**)&help_ptr);                /* DefaultRouterAddr */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->StationTypeLen,(LSA_UINT32**)&help_ptr);                /* StationTypeLen */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.Address.pStationData->StationTypeLen > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.Address.pStationData->pStationType),new_rqb->args.Address.pStationData->StationTypeLen);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.Address.pStationData->StationTypeLen,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.Address.pStationData->pStationType)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Address.pStationData->pStationType),(LSA_UINT32**)&help_ptr,new_rqb->args.Address.pStationData->StationTypeLen);                /* pStationType */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.Address.pStationData->pStationType = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->StationNameLen,(LSA_UINT32**)&help_ptr);                /* StationNameLen */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.Address.pStationData->StationNameLen > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.Address.pStationData->pStationName),new_rqb->args.Address.pStationData->StationNameLen);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.Address.pStationData->StationNameLen,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.Address.pStationData->pStationName)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Address.pStationData->pStationName),(LSA_UINT32**)&help_ptr,new_rqb->args.Address.pStationData->StationNameLen);                /* pStationName */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.Address.pStationData->pStationName = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->VendorId,(LSA_UINT32**)&help_ptr);                /* VendorId */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->DeviceId,(LSA_UINT32**)&help_ptr);                /* DeviceId */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->TcpIpStatus,(LSA_UINT32**)&help_ptr);                /* TcpIpStatus */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.Address.pStationData->ProfinetRole,(LSA_UINT32**)&help_ptr);                /* ProfinetRole */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Address.pStationData->DeviceInstance,(LSA_UINT32**)&help_ptr);                /* DeviceInstance */
            }
        }
    }
    else if (opcode==OHA_OPC_DCP_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpControl.Mode,(LSA_UINT32**)&help_ptr);            /* Mode */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.DcpControl.Options,(LSA_UINT32**)&help_ptr);            /* Options */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpControl.Type,(LSA_UINT32**)&help_ptr);            /* Type */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpControl.SubType,(LSA_UINT32**)&help_ptr);            /* SubType */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pAddrInfo" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((OHA_RQB_TYPE*)new_rqb)->args.DcpControl.pAddrInfo)), sizeof(*((OHA_RQB_TYPE*)new_rqb)->args.DcpControl.pAddrInfo));
                if (HIF_IS_NULL(new_rqb->args.DcpControl.pAddrInfo))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.DcpControl.pAddrInfo = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.DcpControl.pAddrInfo!=LSA_NULL) /*#if1*/
            {
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_NAME_LEN > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.DcpControl.pAddrInfo->NoS.pName),OHA_MAX_STATION_NAME_LEN);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_STATION_NAME_LEN,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.DcpControl.pAddrInfo->NoS.pName)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.DcpControl.pAddrInfo->NoS.pName),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_NAME_LEN);                /* pName */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.DcpControl.pAddrInfo->NoS.pName = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpControl.pAddrInfo->NoS.Length,(LSA_UINT32**)&help_ptr);                /* Length */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.DcpControl.pAddrInfo->NoS.Remanent,(LSA_UINT32**)&help_ptr);                /* Remanent */
            }
        }
    }
    else if (opcode==OHA_OPC_DCP_INDICATION)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.DcpInd.CheckIpEnabled,(LSA_UINT32**)&help_ptr);            /* CheckIpEnabled */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pStationData" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((OHA_RQB_TYPE*)new_rqb)->args.DcpInd.pStationData)), sizeof(*((OHA_RQB_TYPE*)new_rqb)->args.DcpInd.pStationData));
                if (HIF_IS_NULL(new_rqb->args.DcpInd.pStationData))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.DcpInd.pStationData = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.DcpInd.pStationData!=LSA_NULL) /*#if1*/
            {
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_TYPE_LEN > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.DcpInd.pStationData->pStationType),OHA_MAX_STATION_TYPE_LEN);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_STATION_TYPE_LEN,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.DcpInd.pStationData->pStationType)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.DcpInd.pStationData->pStationType),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_TYPE_LEN);                /* pStationType */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.DcpInd.pStationData->pStationType = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_NAME_LEN > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.DcpInd.pStationData->pStationName),OHA_MAX_STATION_NAME_LEN);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_STATION_NAME_LEN,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.DcpInd.pStationData->pStationName)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.DcpInd.pStationData->pStationName),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_NAME_LEN);                /* pStationName */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.DcpInd.pStationData->pStationName = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
            }
        }
    }
    else if (opcode==OHA_OPC_DCP_RESPONSE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpInd.Event,(LSA_UINT32**)&help_ptr);            /* Event */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpInd.Reason,(LSA_UINT32**)&help_ptr);            /* Reason */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.DcpInd.CheckIpEnabled,(LSA_UINT32**)&help_ptr);            /* CheckIpEnabled */
        }
    }
    else if (opcode==OHA_OPC_TEST_LLDP_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpControl.Mode,(LSA_UINT32**)&help_ptr);            /* Mode */
        }
    }
    else if (opcode==OHA_OPC_LLDP_INDICATION)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
        }
    }
    else if (opcode==OHA_OPC_GET_NEIGHBOUR)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.Neighbour.PortId,(LSA_UINT32**)&help_ptr);            /* PortId */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "pLLDPDU" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((OHA_RQB_TYPE*)new_rqb)->args.Neighbour.pLLDPDU)), sizeof(*((OHA_RQB_TYPE*)new_rqb)->args.Neighbour.pLLDPDU));
                if (HIF_IS_NULL(new_rqb->args.Neighbour.pLLDPDU))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.Neighbour.pLLDPDU = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.Neighbour.pLLDPDU!=LSA_NULL) /*#if1*/
            {
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_CHASSIS_STRLEN > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.Neighbour.pLLDPDU->pNameOfChassis),OHA_MAX_CHASSIS_STRLEN);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_CHASSIS_STRLEN,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.Neighbour.pLLDPDU->pNameOfChassis)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Neighbour.pLLDPDU->pNameOfChassis),(LSA_UINT32**)&help_ptr,OHA_MAX_CHASSIS_STRLEN);                /* pNameOfChassis */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.Neighbour.pLLDPDU->pNameOfChassis = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_PORT_STRLEN > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.Neighbour.pLLDPDU->pNameOfPort),OHA_MAX_PORT_STRLEN);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_PORT_STRLEN,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.Neighbour.pLLDPDU->pNameOfPort)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.Neighbour.pLLDPDU->pNameOfPort),(LSA_UINT32**)&help_ptr,OHA_MAX_PORT_STRLEN);                /* pNameOfPort */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.Neighbour.pLLDPDU->pNameOfPort = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
            }
        }
    }
    else if  ((opcode==OHA_OPC_LLDP_CONTROL_OID)
            ||(opcode==OHA_OPC_MRP_CONTROL_OID))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.SnmpOid.MessageType,(LSA_UINT32**)&help_ptr);            /* MessageType */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.SnmpOid.SnmpVersion,(LSA_UINT32**)&help_ptr);            /* SnmpVersion */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_OID_LEN > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer pointer */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.SnmpOid.pOidName),OHA_MAX_OID_LEN);
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_OID_LEN,opcode,help_ptr,new_rqb+4);
                if (HIF_IS_NOT_NULL(new_rqb->args.SnmpOid.pOidName)) /*#23*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.SnmpOid.pOidName),(LSA_UINT32**)&help_ptr,OHA_MAX_OID_LEN);            /* pOidName */
                }
                else
                {
                    return HIF_ERR_RESOURCE;
                }
            }
            else
            {
                new_rqb->args.SnmpOid.pOidName = LSA_NULL;  /* delete data buffer */
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.SnmpOid.OidNameLen,(LSA_UINT32**)&help_ptr);            /* OidNameLen */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.SnmpOid.VarType,(LSA_UINT32**)&help_ptr);            /* VarType */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.SnmpOid.VarLength,(LSA_UINT32**)&help_ptr);            /* VarLength */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_NAME_LEN > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer pointer */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.SnmpOid.pVarValue),OHA_MAX_STATION_NAME_LEN);
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_STATION_NAME_LEN,opcode,help_ptr,new_rqb+4);
                if (HIF_IS_NOT_NULL(new_rqb->args.SnmpOid.pVarValue)) /*#23*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.SnmpOid.pVarValue),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_NAME_LEN);            /* pVarValue */
                }
                else
                {
                    return HIF_ERR_RESOURCE;
                }
            }
            else
            {
                new_rqb->args.SnmpOid.pVarValue = LSA_NULL;  /* delete data buffer */
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.SnmpOid.AccessControl,(LSA_UINT32**)&help_ptr);            /* AccessControl */
        }
    }
    else if  ((opcode==OHA_OPC_DCP_READ_ELEMENT)
            ||(opcode==OHA_OPC_DCP_WRITE_ELEMENT))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpElem.Type,(LSA_UINT32**)&help_ptr);            /* Type */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpElem.SubType,(LSA_UINT32**)&help_ptr);            /* SubType */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.DcpElem.Length,(LSA_UINT32**)&help_ptr);            /* Length */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.DcpElem.Length > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer pointer */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.DcpElem.pVariable),new_rqb->args.DcpElem.Length);
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.DcpElem.Length,opcode,help_ptr,new_rqb+4);
                if (HIF_IS_NOT_NULL(new_rqb->args.DcpElem.pVariable)) /*#23*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.DcpElem.pVariable),(LSA_UINT32**)&help_ptr,new_rqb->args.DcpElem.Length);            /* pVariable */
                }
                else
                {
                    return HIF_ERR_RESOURCE;
                }
            }
            else
            {
                new_rqb->args.DcpElem.pVariable = LSA_NULL;  /* delete data buffer */
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.DcpElem.AccCtrl,(LSA_UINT32**)&help_ptr);            /* AccCtrl */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.DcpElem.Remanent,(LSA_UINT32**)&help_ptr);            /* Remanent */
        }
    }
    else if (opcode==OHA_OPC_LLDP_READ_ELEMENT)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            /* INFO: deserialize the array size from right after the pointer */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpElem.Count,(LSA_UINT32**)&help_ptr);            /* Count */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpElem.PortId,(LSA_UINT32**)&help_ptr);            /* PortId */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpElem.Type,(LSA_UINT32**)&help_ptr);            /* Type */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpElem.SubType,(LSA_UINT32**)&help_ptr);            /* SubType */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpElem.OUI,(LSA_UINT32**)&help_ptr);            /* OUI */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_TLV_DATA_SIZE > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer pointer */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.LldpElem.pVarBuffer),OHA_MAX_TLV_DATA_SIZE);
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_TLV_DATA_SIZE,opcode,help_ptr,new_rqb+4);
                if (HIF_IS_NOT_NULL(new_rqb->args.LldpElem.pVarBuffer)) /*#23*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.LldpElem.pVarBuffer),(LSA_UINT32**)&help_ptr,OHA_MAX_TLV_DATA_SIZE);            /* pVarBuffer */
                }
                else
                {
                    return HIF_ERR_RESOURCE;
                }
            }
            else
            {
                new_rqb->args.LldpElem.pVarBuffer = LSA_NULL;  /* delete data buffer */
                help_ptr+=4;          /* skip buffer-pointer */
            }
        }
    }
    else if (opcode==OHA_OPC_WRITE_PTCP_DATA)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.PtcpData.DoSync,(LSA_UINT32**)&help_ptr);            /* DoSync */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.PtcpData.IsSync,(LSA_UINT32**)&help_ptr);            /* IsSync */
            for(i=0;i<OHA_MAC_ADDR_SIZE;i++)                                    /* MasterSourceAddress*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.PtcpData.MasterSourceAddress[i],(LSA_UINT32**)&help_ptr);            /* MasterSourceAddress */
            }
        }
    }
    else if (opcode==OHA_OPC_READ_QUERY_ELEMENTS)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            /* INFO: deserialize the array size from right after the pointer */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.QueryElem.Count,(LSA_UINT32**)&help_ptr);            /* Count */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_TLV_DATA_SIZE > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer pointer */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.QueryElem.pVarBuffer),OHA_MAX_TLV_DATA_SIZE);
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_TLV_DATA_SIZE,opcode,help_ptr,new_rqb+4);
                if (HIF_IS_NOT_NULL(new_rqb->args.QueryElem.pVarBuffer)) /*#23*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.QueryElem.pVarBuffer),(LSA_UINT32**)&help_ptr,OHA_MAX_TLV_DATA_SIZE);            /* pVarBuffer */
                }
                else
                {
                    return HIF_ERR_RESOURCE;
                }
            }
            else
            {
                new_rqb->args.QueryElem.pVarBuffer = LSA_NULL;  /* delete data buffer */
                help_ptr+=4;          /* skip buffer-pointer */
            }
        }
    }
    else if (opcode==OHA_OPC_HELLO_INDICATION)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.HelloInd.FilterID,(LSA_UINT32**)&help_ptr);            /* FilterID */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.HelloInd.StationNameLen,(LSA_UINT32**)&help_ptr);            /* StationNameLen */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_NAME_LEN > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer pointer */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.HelloInd.pStationName),OHA_MAX_STATION_NAME_LEN);
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_STATION_NAME_LEN,opcode,help_ptr,new_rqb+4);
                if (HIF_IS_NOT_NULL(new_rqb->args.HelloInd.pStationName)) /*#23*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.HelloInd.pStationName),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_NAME_LEN);            /* pStationName */
                }
                else
                {
                    return HIF_ERR_RESOURCE;
                }
            }
            else
            {
                new_rqb->args.HelloInd.pStationName = LSA_NULL;  /* delete data buffer */
                help_ptr+=4;          /* skip buffer-pointer */
            }
        }
    }
    else if (opcode==OHA_OPC_ADDR_INFO_IND)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_STATION_NAME_LEN > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer pointer */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.AddrInfo.NoS.pName),OHA_MAX_STATION_NAME_LEN);
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_STATION_NAME_LEN,opcode,help_ptr,new_rqb+4);
                if (HIF_IS_NOT_NULL(new_rqb->args.AddrInfo.NoS.pName)) /*#23*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.AddrInfo.NoS.pName),(LSA_UINT32**)&help_ptr,OHA_MAX_STATION_NAME_LEN);            /* pName */
                }
                else
                {
                    return HIF_ERR_RESOURCE;
                }
            }
            else
            {
                new_rqb->args.AddrInfo.NoS.pName = LSA_NULL;  /* delete data buffer */
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.AddrInfo.NoS.Length,(LSA_UINT32**)&help_ptr);            /* Length */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.AddrInfo.NoS.Remanent,(LSA_UINT32**)&help_ptr);            /* Remanent */
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* IpAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.CurrentIPSuite.IpAddr[i],(LSA_UINT32**)&help_ptr);            /* IpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* NetMask*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.CurrentIPSuite.NetMask[i],(LSA_UINT32**)&help_ptr);            /* NetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* Gateway*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.CurrentIPSuite.Gateway[i],(LSA_UINT32**)&help_ptr);            /* Gateway */
            }
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.AddrInfo.CurrentIPSuiteIsEmergency,(LSA_UINT32**)&help_ptr);            /* CurrentIPSuiteIsEmergency */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.AddrInfo.IpSuiteRemanent,(LSA_UINT32**)&help_ptr);            /* IpSuiteRemanent */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.AddrInfo.CurrentIPSuiteConflictDetected,(LSA_UINT32**)&help_ptr);            /* CurrentIPSuiteConflictDetected */
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* IpAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.ExpectedIPSuite.IpAddr[i],(LSA_UINT32**)&help_ptr);            /* IpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* NetMask*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.ExpectedIPSuite.NetMask[i],(LSA_UINT32**)&help_ptr);            /* NetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* Gateway*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.ExpectedIPSuite.Gateway[i],(LSA_UINT32**)&help_ptr);            /* Gateway */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* IpAddr*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.EmergencyIPSuite.IpAddr[i],(LSA_UINT32**)&help_ptr);            /* IpAddr */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* NetMask*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.EmergencyIPSuite.NetMask[i],(LSA_UINT32**)&help_ptr);            /* NetMask */
            }
            for(i=0;i<OHA_IP_ADDR_SIZE;i++)                                    /* Gateway*/
            {
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.AddrInfo.EmergencyIPSuite.Gateway[i],(LSA_UINT32**)&help_ptr);            /* Gateway */
            }
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.AddrInfo.FactoryReset,(LSA_UINT32**)&help_ptr);            /* FactoryReset */
        }
    }
    else if  ((opcode==OHA_OPC_PRM_PREPARE)
            ||(opcode==OHA_OPC_PRM_END)
            ||(opcode==OHA_OPC_PRM_COMMIT))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.PrmControl.is_local,(LSA_UINT32**)&help_ptr);            /* is_local */
        }
    }
    else if  ((opcode==OHA_OPC_PRM_READ)
            ||(opcode==OHA_OPC_PRM_WRITE))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.PrmData.slot_number,(LSA_UINT32**)&help_ptr);            /* slot_number */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.PrmData.subslot_number,(LSA_UINT32**)&help_ptr);            /* subslot_number */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.PrmData.edd_port_id,(LSA_UINT32**)&help_ptr);            /* edd_port_id */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.PrmData.record_index,(LSA_UINT32**)&help_ptr);            /* record_index */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.PrmData.record_data_length,(LSA_UINT32**)&help_ptr);            /* record_data_length */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.PrmData.record_data_length > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer pointer */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.PrmData.record_data),new_rqb->args.PrmData.record_data_length);
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.PrmData.record_data_length,opcode,help_ptr,new_rqb+4);
                if (HIF_IS_NOT_NULL(new_rqb->args.PrmData.record_data)) /*#23*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.PrmData.record_data),(LSA_UINT32**)&help_ptr,new_rqb->args.PrmData.record_data_length);            /* record_data */
                }
                else
                {
                    return HIF_ERR_RESOURCE;
                }
            }
            else
            {
                new_rqb->args.PrmData.record_data = LSA_NULL;  /* delete data buffer */
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.PrmData.mk_rema,(LSA_UINT32**)&help_ptr);            /* mk_rema */
        }
    }
    else if (opcode==OHA_OPC_PRM_INDICATION)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.PrmInd.edd_port_id,(LSA_UINT32**)&help_ptr);            /* edd_port_id */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* => pointer "diag_ptr" on shared-mem */ /*#20*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((OHA_RQB_TYPE*)new_rqb)->args.PrmInd.diag_ptr)), OHA_TOPO_MAX_IND_ENTRIES * sizeof(*((OHA_UPPER_PRM_DIAG_ENTRY_PTR_TYPE)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))));
                if (HIF_IS_NULL(new_rqb->args.PrmInd.diag_ptr))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                help_ptr+=4;          /* skip buffer pointer */
            }
        }
    }
    else if  ((opcode==OHA_OPC_REMA_INDICATION)
            ||(opcode==OHA_OPC_REMA_READ))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.RemaData.index,(LSA_UINT32**)&help_ptr);            /* index */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.RemaData.data_length,(LSA_UINT32**)&help_ptr);            /* data_length */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.RemaData.data_length > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer pointer */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.RemaData.data),new_rqb->args.RemaData.data_length);
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.RemaData.data_length,opcode,help_ptr,new_rqb+4);
                if (HIF_IS_NOT_NULL(new_rqb->args.RemaData.data)) /*#23*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.RemaData.data),(LSA_UINT32**)&help_ptr,new_rqb->args.RemaData.data_length);            /* data */
                }
                else
                {
                    return HIF_ERR_RESOURCE;
                }
            }
            else
            {
                new_rqb->args.RemaData.data = LSA_NULL;  /* delete data buffer */
                help_ptr+=4;          /* skip buffer-pointer */
            }
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.RemaData.data_tag,(LSA_UINT32**)&help_ptr);            /* data_tag */
        }
    }
    else if (opcode==OHA_OPC_REMA_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.RemaControl.Mode,(LSA_UINT32**)&help_ptr);            /* Mode */
        }
    }
    else if (opcode==OHA_OPC_LLDP_WRITE_OPTION)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpOption.PortId,(LSA_UINT32**)&help_ptr);            /* PortId */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpOption.Type,(LSA_UINT32**)&help_ptr);            /* Type */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpOption.SubType,(LSA_UINT32**)&help_ptr);            /* SubType */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpOption.OUI,(LSA_UINT32**)&help_ptr);            /* OUI */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpOption.Length,(LSA_UINT32**)&help_ptr);            /* Length */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.LldpOption.Length > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer pointer */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.LldpOption.pVariable),new_rqb->args.LldpOption.Length);
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.LldpOption.Length,opcode,help_ptr,new_rqb+4);
                if (HIF_IS_NOT_NULL(new_rqb->args.LldpOption.pVariable)) /*#23*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.LldpOption.pVariable),(LSA_UINT32**)&help_ptr,new_rqb->args.LldpOption.Length);            /* pVariable */
                }
                else
                {
                    return HIF_ERR_RESOURCE;
                }
            }
            else
            {
                new_rqb->args.LldpOption.pVariable = LSA_NULL;  /* delete data buffer */
                help_ptr+=4;          /* skip buffer-pointer */
            }
        }
    }
    else if (opcode==OHA_OPC_LLDP_READ_OPTIONS)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            /* INFO: deserialize the array size from right after the pointer */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpOptions.Count,(LSA_UINT32**)&help_ptr);            /* Count */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpOptions.PortId,(LSA_UINT32**)&help_ptr);            /* PortId */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpOptions.Type,(LSA_UINT32**)&help_ptr);            /* Type */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpOptions.OUI,(LSA_UINT32**)&help_ptr);            /* OUI */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpOptions.SubType,(LSA_UINT32**)&help_ptr);            /* SubType */
            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && OHA_MAX_TLV_DATA_SIZE > 0 ) /*#22*/
            {
                help_ptr+=4;          /* skip buffer pointer */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.LldpOptions.pVarBuffer),OHA_MAX_TLV_DATA_SIZE);
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",OHA_MAX_TLV_DATA_SIZE,opcode,help_ptr,new_rqb+4);
                if (HIF_IS_NOT_NULL(new_rqb->args.LldpOptions.pVarBuffer)) /*#23*/
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.LldpOptions.pVarBuffer),(LSA_UINT32**)&help_ptr,OHA_MAX_TLV_DATA_SIZE);            /* pVarBuffer */
                }
                else
                {
                    return HIF_ERR_RESOURCE;
                }
            }
            else
            {
                new_rqb->args.LldpOptions.pVarBuffer = LSA_NULL;  /* delete data buffer */
                help_ptr+=4;          /* skip buffer-pointer */
            }
        }
    }
    else if (opcode==OHA_OPC_PORT_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.PortControl.Mode,(LSA_UINT32**)&help_ptr);            /* Mode */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.PortControl.PortId,(LSA_UINT32**)&help_ptr);            /* PortId */
        }
    }
    else if (opcode==OHA_OPC_TCIP_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.TcipData.TimeOption,(LSA_UINT32**)&help_ptr);            /* TimeOption */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.TcipData.KeepAliveTime,(LSA_UINT32**)&help_ptr);            /* KeepAliveTime */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.TcipData.ConnectionTimeout,(LSA_UINT32**)&help_ptr);            /* ConnectionTimeout */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.TcipData.RetransmitTimeout,(LSA_UINT32**)&help_ptr);            /* RetransmitTimeout */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.TcipData.RetransmitCount,(LSA_UINT32**)&help_ptr);            /* RetransmitCount */
        }
    }
    else if (opcode==OHA_OPC_LLDP_ACCESS_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpAccess.PortId,(LSA_UINT32**)&help_ptr);            /* PortId */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpAccess.AccessMode,(LSA_UINT32**)&help_ptr);            /* AccessMode */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpAccess.Options,(LSA_UINT32**)&help_ptr);            /* Options */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpAccess.PortOptions,(LSA_UINT32**)&help_ptr);            /* PortOptions */
        }
    }
    else if  ((opcode==OHA_OPC_LLDP_CONFIG_INDICATION)
            ||(opcode==OHA_OPC_LLDP_CONFIG_RESPONSE))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpConfig.Mode,(LSA_UINT32**)&help_ptr);            /* Mode */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Options,(LSA_UINT32**)&help_ptr);            /* Options */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.RemaOptions,(LSA_UINT32**)&help_ptr);            /* RemaOptions */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Config.TxInterval,(LSA_UINT32**)&help_ptr);            /* TxInterval */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Config.TxHoldMultiplier,(LSA_UINT32**)&help_ptr);            /* TxHoldMultiplier */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Config.ReinitDelay,(LSA_UINT32**)&help_ptr);            /* ReinitDelay */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Config.TxDelay,(LSA_UINT32**)&help_ptr);            /* TxDelay */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpConfig.Config.NotificationInterval,(LSA_UINT32**)&help_ptr);            /* NotificationInterval */
        }
    }
    else if  ((opcode==OHA_OPC_LLDP_PORT_CONFIG_INDICATION)
            ||(opcode==OHA_OPC_LLDP_PORT_CONFIG_RESPONSE))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(OHA_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_oha_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(OHA_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.LldpPortConfig.PortID,(LSA_UINT32**)&help_ptr);            /* PortID */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.Mode,(LSA_UINT32**)&help_ptr);            /* Mode */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpPortConfig.PortOptions,(LSA_UINT32**)&help_ptr);            /* PortOptions */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.LldpPortConfig.PortOptionsRema,(LSA_UINT32**)&help_ptr);            /* PortOptionsRema */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.AdminStatus,(LSA_UINT32**)&help_ptr);            /* AdminStatus */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.NotificationEnable,(LSA_UINT32**)&help_ptr);            /* NotificationEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.TLVsTxEnable,(LSA_UINT32**)&help_ptr);            /* TLVsTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.ManAddrTxEnable,(LSA_UINT32**)&help_ptr);            /* ManAddrTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.PnoDelayTxEnable,(LSA_UINT32**)&help_ptr);            /* PnoDelayTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.PnoPortStatusTxEnable,(LSA_UINT32**)&help_ptr);            /* PnoPortStatusTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.PnoAliasTxEnable,(LSA_UINT32**)&help_ptr);            /* PnoAliasTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.PnoMrpTxEnable,(LSA_UINT32**)&help_ptr);            /* PnoMrpTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.PnoPtcpTxEnable,(LSA_UINT32**)&help_ptr);            /* PnoPtcpTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.Dot1VlanIdTxEnable,(LSA_UINT32**)&help_ptr);            /* Dot1VlanIdTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.Dot1VlanNameTxEnable,(LSA_UINT32**)&help_ptr);            /* Dot1VlanNameTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.Dot1PortProtoVlanTxEnable,(LSA_UINT32**)&help_ptr);            /* Dot1PortProtoVlanTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.Dot1ProtocolTxEnable,(LSA_UINT32**)&help_ptr);            /* Dot1ProtocolTxEnable */
            HIF_SER_COPY_SHMTH_8(&new_rqb->args.LldpPortConfig.PortConfig.Dot3TLVsTxEnable,(LSA_UINT32**)&help_ptr);            /* Dot3TLVsTxEnable */
        }
    }
    else
    {
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"hif_oha_deserialize_lower(). RQB-Opcode:0x%x is not valid! shm_addr(0x%08x) pRQB(0x%08x)", opcode, ptr_rqb_src, new_rqb+4);
        HIF_FATAL(0);
    }
    HIF_ASSERT(HIF_IS_NOT_NULL(new_rqb)); /*#16*/
    HIF_RQB_SET_COMP_ID(new_rqb, LSA_COMP_ID_OHA);            /* set comp id */
    *ptr_ptr_rqb_dest = new_rqb;

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_DESERIALIZE(ptr_rqb_src, opcode, help_ptr, "hif_oha_deserialize_lower");

    return HIF_OK;
}



#endif /* of HIF_CFG_USE_OHA */
#if defined( TOOL_CHAIN_MICROSOFT ) /* Microsoft Visual C++ */
#pragma component(browser, on, references)
#endif
/*****************************************************************************/
/* End of File                                                               */
/*****************************************************************************/
