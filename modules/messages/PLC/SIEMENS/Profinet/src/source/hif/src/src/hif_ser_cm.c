/*****************************************************************************/
/*  Copyright (C) 2015 Siemens Aktiengesellschaft. All rights reserved.      */
/*****************************************************************************/
/*  This program is protected by German copyright law and international      */
/*  treaties. The use of this software including but not limited to its      */
/*  Source Code is subject to restrictions as agreed in the license          */
/*  agreement between you and Siemens.                                       */
/*  Copying or distribution is not allowed unless expressly permitted        */
/*  according to your license agreement with Siemens.                        */
/*****************************************************************************/
/*                                                                           */
/*  P r o j e c t         &P: PROFINET IO Runtime Software              :P&  */
/*                                                                           */
/*  P a c k a g e         &W: PROFINET IO Runtime Software              :W&  */
/*                                                                           */
/*  C o m p o n e n t     &C: HIF (Host Interface)                      :C&  */
/*                                                                           */
/*  F i l e               &F: hif_ser_cm.c                              :F&  */
/*                                                                           */
/*  V e r s i o n         &V: BC_PNRUN_P05.04.00.00_00.02.00.40         :V&  */
/*                                                                           */
/*  D a t e  (YYYY-MM-DD) &D: 2015-07-28                                :D&  */
/*                                                                           */
/*****************************************************************************/
/*                                                                           */
/*  D e s c r i p t i o n :                                                  */
/*                                                                           */
/*  Automatically generated with HIF Code Generator v2.1.0                   */
/*                                                                           */
/*                                                                           */
/*  !!!ATTENTION: Do not edit this file.                                     */
/*                Please use the HIF Code Generator to generate this file.   */
/*                                                                           */
/*  The hash value was automatically calculated by HIF Code Generator!       */
/*  HASH-VALUE: 4SAeH4KFz2LNQjibHaQKLFlbtJlQ3IrqMnDXKFxXIyk=                 */
/*****************************************************************************/

#if defined( TOOL_CHAIN_MICROSOFT ) /* Microsoft Visual C++ */
#pragma component(browser, off, references)
#endif

#define HIF_MODULE_ID		21
#define LTRC_ACT_MODUL_ID	21

#include "hif_int.h"		

HIF_FILE_SYSTEM_EXTENSION(HIF_MODULE_ID)

#if ( (HIF_CFG_COMPILE_SERIALIZATION == 1) && (HIF_CFG_USE_CM == 1) )


/* Prototypes */
LSA_UINT32 hif_cm_ser_calc_diff_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_pd_diff_ap_tag) *diff_list);
LSA_UINT32 hif_cm_ser_calc_device_alias_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_nare_alias_tag) *alias_list, LSA_BOOL is_upper);
LSA_UINT32 hif_cm_ser_calc_rec_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_record_tag) *rec_list, LSA_BOOL is_upper);
LSA_UINT32 hif_cm_ser_calc_prm_record_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_record_tag) *prm_record_list, LSA_BOOL is_upper);
LSA_UINT32 hif_cm_ser_calc_iocr_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_iocr_tag) *iocr_list);
LSA_UINT32 hif_cm_ser_calc_ar_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *ar_list, LSA_BOOL ser_cl_device_add);
LSA_VOID hif_ser_cm_free_diff_list(CM_LIST_TYPED_ENTRY_TYPE(cm_pd_diff_ap_tag) *diff_list);
LSA_VOID hif_ser_cm_free_prm_record_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_record_tag) *prm_record_list, LSA_UINT32* storeXRQB);
LSA_VOID hif_ser_cm_free_iocr_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_iocr_tag) *iocr_list, LSA_UINT32* storeXRQB);
LSA_UINT32* hif_cm_ser_diff_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_pd_diff_ap_tag) *diff_list, LSA_BOOL is_upper);
LSA_UINT32* hif_cm_ser_rec_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_record_tag) *rec_list, LSA_BOOL is_upper);
LSA_UINT32* hif_cm_ser_prm_record_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_record_tag) *prm_record_list, LSA_BOOL is_upper);
LSA_UINT32* hif_cm_ser_device_alias_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_nare_alias_tag) *alias_list, LSA_BOOL is_upper);
LSA_UINT32* hif_cm_ser_iocr_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_iocr_tag) *iocr_list);
LSA_UINT32* hif_cm_ser_ar_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *ar_list, LSA_BOOL ser_cl_device_add);
LSA_UINT32 hif_ser_cm_free_ar_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *ar_list, LSA_BOOL ser_cl_device_add);
LSA_UINT8* hif_cm_deser_diff_list(CM_LIST_TYPED_ENTRY_TYPE(cm_pd_diff_ap_tag) *diff_list, LSA_UINT8* help_ptr,LSA_BOOL is_upper)     ;
LSA_UINT8* hif_cm_deser_device_alias_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_nare_alias_tag) *alias_list, LSA_UINT8 *help_ptr);
LSA_UINT8* hif_cm_deser_prm_record_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_record_tag) *prm_record_list, LSA_UINT8 *help_ptr, LSA_UINT32* insertXRQB);
LSA_UINT8* hif_cm_deser_rec_list(CM_LIST_TYPED_ENTRY_TYPE(cm_record_tag) *rec_list, LSA_UINT8 *help_ptr, LSA_BOOL is_upper);
LSA_UINT8* hif_cm_deser_iocr_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_iocr_tag) *iocr_list, LSA_UINT8 *help_ptr,  LSA_UINT32* insertXRQB);
LSA_UINT8* hif_cm_deser_ar_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *ar_list, LSA_UINT8 *help_ptr, LSA_BOOL ser_cl_device_add);


/* Helper Functions */
/****************************************************************************
*  Name:        hif_cm_ser_calc_diff_list_size()
*  Purpose:     to calculate the size of the cm Appl_Tag diff-list
*  Input:       diff_list
*  Return:      rqb_size
****************************************************************************/
LSA_UINT32 hif_cm_ser_calc_diff_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_pd_diff_ap_tag) *diff_list)
{
    LSA_UINT32 rqb_size = 0;
    LSA_UINT16 ap_count=0,mod_count=0,sub_count=0;

    CM_UPPER_PD_DIFF_AP_PTR_TYPE  ap;
    CM_UPPER_PD_DIFF_MODULE_PTR_TYPE  mod;
    CM_UPPER_PD_DIFF_SUBMODULE_PTR_TYPE  sub;

    if (diff_list == LSA_NULL)
        return rqb_size;
    CmListLength (diff_list, &ap_count);

    rqb_size+=HIF_SER_SIZEOF(2);         /* nr. of ap */

    if (ap_count==0)
        return rqb_size;

    for (CmListForeach (ap, diff_list, CM_UPPER_PD_DIFF_AP_PTR_TYPE))
    {
            rqb_size+=HIF_SER_SIZEOF(4);         /* api */

            CmListLength (&ap->module_list, &mod_count);
            rqb_size+=HIF_SER_SIZEOF(2);         /* nr. of mod */

            for (CmListForeach (mod, & ap->module_list, CM_UPPER_PD_DIFF_MODULE_PTR_TYPE))
            {
                CmListLength (&mod->submodule_list, &sub_count);

                rqb_size+=HIF_SER_SIZEOF(2);         /* slot_nr */
                rqb_size+=HIF_SER_SIZEOF(4);         /* mod_ident */
                rqb_size+=HIF_SER_SIZEOF(2);         /* nr. of submod */
                for (CmListForeach (sub, & mod->submodule_list, CM_UPPER_PD_DIFF_SUBMODULE_PTR_TYPE))
                {
                    rqb_size+=HIF_SER_SIZEOF(2);         /* subslot_nr */
                    rqb_size+=HIF_SER_SIZEOF(4);         /* sub_ident */
                    rqb_size+=HIF_SER_SIZEOF(2);         /* sub_state */
                }
            }
    }
    return rqb_size;
}



/****************************************************************************
*  Name:        hif_cm_ser_calc_device_alias_list_size()
*  Purpose:     to calculate the size of the cm device_alias_list
*  Input:       device_alias_list
*  Return:      rqb_size
****************************************************************************/
LSA_UINT32 hif_cm_ser_calc_device_alias_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_nare_alias_tag) *alias_list, LSA_BOOL is_upper)
{
    LSA_UINT32 rqb_size = 0;
    LSA_UINT16 alias_count=0;

    CM_UPPER_ARCB_NARE_ALIAS_PTR_TYPE  alias;

    LSA_UNUSED_ARG(is_upper);

    if (alias_list == LSA_NULL)
        return rqb_size;
    CmListLength (alias_list, &alias_count);
    rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of alias_lists */ //(LaM)MovedHere
    if (alias_count==0)
        return rqb_size;

    //rqb_size+=HIF_SER_SIZEOF(2);                  /* nr. of alias_lists */ //(LaM)Moved
    for (CmListForeach (alias, alias_list, CM_UPPER_ARCB_NARE_ALIAS_PTR_TYPE))
    {
            rqb_size+=HIF_SER_SIZEOF(2);                    /* name_length */
            rqb_size+=HIF_SER_SIZEOF(4);                    /* pointer "name" itself */
            rqb_size+=HIF_SER_SIZEOF(alias->name_length);   /* length of buffer "name" */
    }
    return rqb_size;
}



/****************************************************************************
*  Name:        hif_cm_ser_calc_rec_list_size()
*  Purpose:     to calculate the size of the cm rec_list for CM_OPC_CL_RECORD_WRITE_MULTIPLE
*  Input:       rec_list
*  Return:      rqb_size
****************************************************************************/
LSA_UINT32 hif_cm_ser_calc_rec_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_record_tag) *rec_list, LSA_BOOL is_upper)
{
    LSA_UINT32 rqb_size = 0;
    LSA_UINT16 rec_count=0;

    CM_UPPER_CM_RECORD_PTR_TYPE  rec;

    LSA_UNUSED_ARG(is_upper);

    if (rec_list == LSA_NULL)
        return rqb_size;
    CmListLength (rec_list, &rec_count);
    if (rec_count==0)
        return rqb_size;

    rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of rec_lists */
    for (CmListForeach (rec, rec_list, CM_UPPER_CM_RECORD_PTR_TYPE))
    {
        if (is_upper)    //only REQ
        {
             rqb_size+=HIF_SER_SIZEOF(4);         /* api */
             rqb_size+=HIF_SER_SIZEOF(2);         /* slot_nr */
             rqb_size+=HIF_SER_SIZEOF(2);         /* subslot_nr */
             rqb_size+=HIF_SER_SIZEOF(2);         /* record_index */
             rqb_size+=HIF_SER_SIZEOF(2);         /* sequence_nr */
             rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "data" pointer itself */
             if (rec->data != LSA_NULL)
                 rqb_size+=HIF_SER_SIZEOF(rec->data_length);         /* size of: data */
        }
        else //only CNF
        {
            rqb_size+=HIF_SER_SIZEOF(4);       /* cm_pnio_err */
            rqb_size+=HIF_SER_SIZEOF(2);       /* ret_val_1 */
            rqb_size+=HIF_SER_SIZEOF(2);       /* ret_val_2 */
        }
        // REQ / CNF
        rqb_size+=HIF_SER_SIZEOF(4);         /* data_length */

    }
    return rqb_size;
}



/****************************************************************************
*  Name:        hif_cm_ser_calc_prm_record_list_size()
*  Purpose:     to calculate the size of the cm prm_record_list
*  Input:       prm_record_list
*  Return:      rqb_size
****************************************************************************/
LSA_UINT32 hif_cm_ser_calc_prm_record_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_record_tag) *prm_record_list, LSA_BOOL is_upper)
{
    LSA_UINT32 rqb_size = 0;
    LSA_UINT16 prm_record_count=0;

    CM_UPPER_ARCB_RECORD_PTR_TYPE prm_record;

    LSA_UNUSED_ARG(is_upper);

    if (prm_record_list == LSA_NULL)
        return rqb_size;
    CmListLength (prm_record_list, &prm_record_count);
    if (prm_record_count==0)
        return rqb_size;

    rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of prm_record */
    for (CmListForeach (prm_record, prm_record_list, CM_UPPER_ARCB_RECORD_PTR_TYPE))
    {
        rqb_size+=HIF_SER_SIZEOF(4);                    /* record_index */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* transfer_sequence */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* record_data_len */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* pointer "record_data" itself */
        rqb_size+=HIF_SER_SIZEOF(prm_record->record_data_len);   /* length of buffer "record_data" */
    }
    return rqb_size;
}



/****************************************************************************
*  Name:        hif_cm_ser_calc_iocr_list_size()
*  Purpose:     to calculate the size of the cm iocr_list
*  Input:       iocr_list
*  Return:      rqb_size
****************************************************************************/
LSA_UINT32 hif_cm_ser_calc_iocr_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_iocr_tag) *iocr_list)
{
    LSA_UINT32 rqb_size = 0;
    CM_UPPER_ARCB_IOCR_PTR_TYPE  iocr;
    rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of iocr */
    for (CmListForeach (iocr, iocr_list, CM_UPPER_ARCB_IOCR_PTR_TYPE))
    {
        rqb_size+=HIF_SER_SIZEOF(2);                    /* iocr_type */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* iocr_ref */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* iocr_properties */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* frame_id */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* data_length */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* send_clock */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* reduction_ratio */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* phase */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* frame_send_offset */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* data_hold_factor */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* iocr_tag_header */
        rqb_size+=(HIF_SER_SIZEOF(1) * 6);                   /* CM_MAC_TYPE iocr_multicast_mac */
        /* related_ioapi_list is empty */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* edd_properties */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* edd_data_offset */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* edd_cr_number */
        rqb_size+=HIF_SER_SIZEOF(1);                    /* edd_forward_mode */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* edd_ct_outdatastart */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* apdu_status_length */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* partial_length */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* partial_offset */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* subframe_data */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* subframe_offset */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* edd_apdustatus_offset */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* edd_cw_offset */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* edd_datastatus_offset */
    }
    return rqb_size;
}



/****************************************************************************
*  Name:        hif_cm_ser_calc_ar_list_size()
*  Purpose:     to calculate the size of the cm ar_list
*  Input:       ar_list
*               ser_cl_device_add  ... some lists are only used for cl_device_add
*  Return:      rqb_size
****************************************************************************/
LSA_UINT32 hif_cm_ser_calc_ar_list_size(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *ar_list, LSA_BOOL ser_cl_device_add)
{
    LSA_UINT32 rqb_size = 0;
    LSA_UINT16 list_entry_count=0;
    LSA_UINT16 i = 0;
    CM_UPPER_ARCB_ADD_PTR_TYPE  ar;
    CM_UPPER_ARCB_IOCR_PTR_TYPE iocr;
    CM_UPPER_ARCB_IOAPI_PTR_TYPE related_ioapi;
    CM_UPPER_ARCB_IODATA_OBJECT_PTR_TYPE related_iodata_object;
    CM_UPPER_ARCB_IOCS_PTR_TYPE related_iocs;
    CM_UPPER_ARCB_IOCR_LOCAL_PTR_TYPE iocr_local;
    CM_UPPER_ARCB_AP_PTR_TYPE ap;
    CM_UPPER_ARCB_MODULE_PTR_TYPE module;
    CM_UPPER_ARCB_SUBMODULE_PTR_TYPE submodule;
    CM_UPPER_ARCB_RECORD_PTR_TYPE prm_record;
    CM_UPPER_ARCB_MCR_PTR_TYPE mcr;
    CM_UPPER_ARCB_IR_INFO_SUB_PTR_TYPE ir_info_sub;
// MOD 01.01 DO 20130627
//  CM_UPPER_ARCB_ARVENDOR_PTR_TYPE ar_vendor;
    CM_UPPER_ARCB_RECORD_PTR_TYPE ar_prm_record;

    if (HIF_IS_NULL(ar_list))
    {
        return rqb_size;
    }
    CmListLength (ar_list, &list_entry_count);

    rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of list_entry_count */

    if (list_entry_count==0)
    {
        return rqb_size;
    }
    for (CmListForeach (ar, ar_list, CM_UPPER_ARCB_ADD_PTR_TYPE))
    {
        rqb_size+=HIF_SER_SIZEOF(2);                    /* ar_nr */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* ar_type */

        /* CLRPC_UUID_TYPE ar_uuid (128) */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* ar_uuid.time_low */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* ar_uuid.time_mid */
        rqb_size+=HIF_SER_SIZEOF(2);                    /* ar_uuid.time_hi_and_version */
        rqb_size+=HIF_SER_SIZEOF(1);                    /* ar_uuid.clock_seq_hi_and_reserved */
        rqb_size+=HIF_SER_SIZEOF(1);                    /* ar_uuid.clock_seq_low */
        for(i=0;i<6;i++)
        {   /* create */
            rqb_size+=HIF_SER_SIZEOF(1);                /* node */
        }

        rqb_size+=HIF_SER_SIZEOF(4);                    /* ar_properties */

        CmListLength (&ar->iocr_list, &list_entry_count);
        rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of iocr_count */
        for (CmListForeach (iocr, &ar->iocr_list, CM_UPPER_ARCB_IOCR_PTR_TYPE))
        {
            rqb_size+=HIF_SER_SIZEOF(2);                    /* iocr_type */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* iocr_ref */
            rqb_size+=HIF_SER_SIZEOF(4);                    /* iocr_properties */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* frame_id */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* data_length */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* send_clock */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* reduction_ratio */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* phase */
            rqb_size+=HIF_SER_SIZEOF(4);                    /* frame_send_offset */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* data_hold_factor */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* iocr_tag_header */
            rqb_size+=(HIF_SER_SIZEOF(1) *6);           /* CM_MAC_TYPE iocr_multicast_mac */

            CmListLength (&iocr->related_ioapi_list, &list_entry_count);
            rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of related_ioapi_count */
            for (CmListForeach (related_ioapi, &iocr->related_ioapi_list, CM_UPPER_ARCB_IOAPI_PTR_TYPE))
            {
                rqb_size+=HIF_SER_SIZEOF(4);                    /* api */
                CmListLength (&related_ioapi->related_iodata_objects_list, &list_entry_count);
                rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of related_iodata_objects_list_count */
                for (CmListForeach (related_iodata_object, &related_ioapi->related_iodata_objects_list, CM_UPPER_ARCB_IODATA_OBJECT_PTR_TYPE))
                {
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* slot_nr */
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* subslot_nr */
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* frame_offset */
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* application_offset */
                }
                CmListLength (&related_ioapi->related_iocs_list, &list_entry_count);
                rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of related_iodata_objects_list_count */
                for (CmListForeach (related_iocs, &related_ioapi->related_iocs_list, CM_UPPER_ARCB_IOCS_PTR_TYPE))
                {
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* slot_nr */
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* subslot_nr */
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* frame_offset */
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* application_offset */
                }
            }
            rqb_size+=HIF_SER_SIZEOF(4);                    /* edd_properties */
            rqb_size+=HIF_SER_SIZEOF(4);                    /* edd_data_offset */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* edd_cr_number */
            rqb_size+=HIF_SER_SIZEOF(1);                    /* edd_forward_mode */
            rqb_size+=HIF_SER_SIZEOF(4);                    /* edd_ct_outdatastart */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* apdu_status_length */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* partial_length */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* partial_offset */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* subframe_data */
            rqb_size+=HIF_SER_SIZEOF(2);                    /* subframe_offset */
        }

        if (ser_cl_device_add)
        {
            CmListLength (&ar->iocr_local_list, &list_entry_count);
            rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of iocr_local_list_count */
            for (CmListForeach (iocr_local, &ar->iocr_local_list, CM_UPPER_ARCB_IOCR_LOCAL_PTR_TYPE))
            {
                rqb_size+=HIF_SER_SIZEOF(2);                    /* iocr_ref */
                rqb_size+=HIF_SER_SIZEOF(2);                    /* send_clock */
                rqb_size+=HIF_SER_SIZEOF(2);                    /* reduction_ratio */
                rqb_size+=HIF_SER_SIZEOF(2);                    /* phase */
                rqb_size+=HIF_SER_SIZEOF(2);                    /* data_hold_factor */
                rqb_size+=HIF_SER_SIZEOF(4);                    /* frame_send_offset */
            }
			rqb_size+=HIF_SER_SIZEOF(4);            /* serialize pointer "alarm_cr" info itself  */
            if (HIF_IS_NOT_NULL(ar->alarm_cr))
                {
                rqb_size+=HIF_SER_SIZEOF(4);                    /* alcr_properties */
                rqb_size+=HIF_SER_SIZEOF(2);                    /* timeout100ms */
                rqb_size+=HIF_SER_SIZEOF(2);                    /* retries */
                rqb_size+=HIF_SER_SIZEOF(2);                    /* alcr_tag_header_high */
                rqb_size+=HIF_SER_SIZEOF(2);                    /* alcr_tag_header_low */
            }

            CmListLength (&ar->ap_list, &list_entry_count);
            rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of ap_list_count */
            for (CmListForeach (ap, &ar->ap_list, CM_UPPER_ARCB_AP_PTR_TYPE))
            {
                rqb_size+=HIF_SER_SIZEOF(4);                    /* api */

                CmListLength (&ap->module_list, &list_entry_count);
                rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of module_list_count */
                for (CmListForeach (module, &ap->module_list, CM_UPPER_ARCB_MODULE_PTR_TYPE))
                {
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* slot_nr */
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* mod_properties */
                    rqb_size+=HIF_SER_SIZEOF(4);                    /* mod_ident */

                    CmListLength (&module->submodule_list, &list_entry_count);
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of submodule_list_count */
                    for (CmListForeach (submodule, &module->submodule_list, CM_UPPER_ARCB_SUBMODULE_PTR_TYPE))
                    {
                        rqb_size+=HIF_SER_SIZEOF(2);                    /* subslot_nr */
                        rqb_size+=HIF_SER_SIZEOF(2);                    /* sub_properties */
                        rqb_size+=HIF_SER_SIZEOF(4);                    /* sub_ident */

                        /* CM_ARCB_SUBMODULE_DESCR_TYPE descr [2]  */
                        for(i=0;i<2;i++)
                        {   /* create */
                            rqb_size+=HIF_SER_SIZEOF(2);            /* data_description */
                            rqb_size+=HIF_SER_SIZEOF(2);            /* data_length */
                            rqb_size+=HIF_SER_SIZEOF(1);            /* iops_length */
                            rqb_size+=HIF_SER_SIZEOF(1);            /* iocs_length */
                        }

    #if CM_CFG_MAX_CLIENTS || CM_CFG_EVERYTHING_VISIBLE
                        CmListLength (&submodule->u.cl.prm_record_list, &list_entry_count);
                        rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of prm_record_list_count */
                        for (CmListForeach (prm_record, &submodule->u.cl.prm_record_list, CM_UPPER_ARCB_RECORD_PTR_TYPE))
                        {
                            rqb_size+=HIF_SER_SIZEOF(4);                    /* record_index */
                            rqb_size+=HIF_SER_SIZEOF(2);                    /* transfer_sequence */
                            rqb_size+=HIF_SER_SIZEOF(2);                    /* record_data_len */
                            rqb_size+=HIF_SER_SIZEOF(4);                    /* pointer "record_data" itself */
                            rqb_size+=HIF_SER_SIZEOF(prm_record->record_data_len);   /* length of buffer "record_data" */
                        }
    #endif
                    }
                }
            }

			rqb_size+=HIF_SER_SIZEOF(4);									/* pointer "prm" itself */
            if (HIF_IS_NOT_NULL(ar->prm))
            {
                rqb_size+=HIF_SER_SIZEOF(4);                                /* prm_properties */
                rqb_size+=HIF_SER_SIZEOF(2);                                /* prm_server_name_length */
                rqb_size+=HIF_SER_SIZEOF(4);                                /* pointer "prm_server_name" itself */
                rqb_size+=HIF_SER_SIZEOF(ar->prm->prm_server_name_length);  /* length of buffer "prm_server_name" */
                rqb_size+=HIF_SER_SIZEOF(2);                                /* prm_vendor_id */
                rqb_size+=HIF_SER_SIZEOF(2);                                /* prm_device_id */
                rqb_size+=HIF_SER_SIZEOF(2);                                /* prm_instance */
            }
        }  /* end if (ser_cl_device_add) */

        CmListLength (&ar->mcr_list, &list_entry_count);
        rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of mcr_list_count */
        for (CmListForeach (mcr, &ar->mcr_list, CM_UPPER_ARCB_MCR_PTR_TYPE))
        {
            rqb_size+=HIF_SER_SIZEOF(2);                            /* iocr_ref */
            rqb_size+=HIF_SER_SIZEOF(4);                            /* mcr_properties */
            rqb_size+=HIF_SER_SIZEOF(2);                            /* mci_timeout_100ms */
            rqb_size+=HIF_SER_SIZEOF(2);                            /* provider_name_length */
            rqb_size+=HIF_SER_SIZEOF(4);                            /* pointer "provider_name" itself  */
			if (HIF_IS_NOT_NULL(mcr->provider_name))
			{
                rqb_size+=HIF_SER_SIZEOF(mcr->provider_name_length);    /* length of buffer "provider_name" */
            }
        }

        if (ser_cl_device_add)
        {
   			rqb_size+=HIF_SER_SIZEOF(4);				/* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ar->ir_info))
            {
                rqb_size+=HIF_SER_SIZEOF(4);             /* time_low */
                rqb_size+=HIF_SER_SIZEOF(2);             /* time_mid */
                rqb_size+=HIF_SER_SIZEOF(2);             /* time_hi_and_version */
                rqb_size+=HIF_SER_SIZEOF(1);             /* clock_seq_hi_and_reserved */
                rqb_size+=HIF_SER_SIZEOF(1);             /* clock_seq_low */
                rqb_size+=(HIF_SER_SIZEOF(1) * 6);       /* node */
                CmListLength (&ar->ir_info->ir_info_sub_list, &list_entry_count);
                rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of ir_info_sub_list_count */
                for (CmListForeach (ir_info_sub, &ar->ir_info->ir_info_sub_list, CM_UPPER_ARCB_IR_INFO_SUB_PTR_TYPE))
                {
                    rqb_size+=HIF_SER_SIZEOF(2);                            /* iocr_ref */
                    rqb_size+=HIF_SER_SIZEOF(2);                            /* subframe_offset */
                    rqb_size+=HIF_SER_SIZEOF(4);                            /* subframe_data */
                }
            }

			rqb_size+=HIF_SER_SIZEOF(4);				/* serialize pointer sr_info itself */
            if(HIF_IS_NOT_NULL(ar->sr_info))
            {
                rqb_size+=HIF_SER_SIZEOF(2);                            /* rdh_factor */
                rqb_size+=HIF_SER_SIZEOF(4);                            /* sr_properties */
            }
            // MOD 01.01 DO 20130627
            rqb_size+=HIF_SER_SIZEOF(2);                        /* arvendor_data_len */
            rqb_size+=HIF_SER_SIZEOF(4);                        /* pointer "arvendor_data" itself */
			if (HIF_IS_NOT_NULL(ar->arvendor_blob.arvendor_data))
			{
                rqb_size+=HIF_SER_SIZEOF(ar->arvendor_blob.arvendor_data_len);      /* length of buffer "arvendor_data" */
            }

//              CmListLength (&ar->ar_vendor_list, &list_entry_count);
//              rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of ar_vendor_count */
//              for (CmListForeach (ar_vendor, &ar->ar_vendor_list, CM_UPPER_ARCB_ARVENDOR_PTR_TYPE))
//              {
//                  rqb_size+=HIF_SER_SIZEOF(4);                            /* api */
//                  rqb_size+=HIF_SER_SIZEOF(2);                            /* ap_structure_identifier */
//                  rqb_size+=HIF_SER_SIZEOF(2);                            /* arvendor_data_len */
//                  rqb_size+=HIF_SER_SIZEOF(4);                            /* pointer "arvendor_data" itself  */
//                  rqb_size+=HIF_SER_SIZEOF(ar_vendor->arvendor_data_len);    /* length of buffer "arvendor_data" */
//              }
            CmListLength (&ar->ar_prm_record_list, &list_entry_count);
            rqb_size+=HIF_SER_SIZEOF(2);                    /* nr. of ar_prm_record_count */
            for (CmListForeach (ar_prm_record, &ar->ar_prm_record_list, CM_UPPER_ARCB_RECORD_PTR_TYPE))
            {
                rqb_size+=HIF_SER_SIZEOF(4);                            /* record_index */
                rqb_size+=HIF_SER_SIZEOF(2);                            /* transfer_sequence */
                rqb_size+=HIF_SER_SIZEOF(2);                            /* record_data_len */
                rqb_size+=HIF_SER_SIZEOF(4);                            /* pointer "record_data" itself  */
   				if (HIF_IS_NOT_NULL(ar_prm_record->record_data) && ar_prm_record->record_data_len>0)
                {
                    rqb_size+=HIF_SER_SIZEOF(ar_prm_record->record_data_len);    /* length of buffer "record_data" */
                }
            }
        }  /* end if (ser_cl_device_add) */
    }

    return rqb_size;
}



/****************************************************************************
*  Name:        hif_ser_cm_free_diff_list()
*  Purpose:     free the diff_list after upper serialization //special case: e.g. CL_ALARM_RSP
*  Input:       diff_list
*  Return:      HIF_OK / HIF_ERR_RESOURCE
****************************************************************************/
LSA_VOID hif_ser_cm_free_diff_list(CM_LIST_TYPED_ENTRY_TYPE(cm_pd_diff_ap_tag) *diff_list)
{
    LSA_UINT16 freeRes = 0;
    CM_UPPER_PD_DIFF_AP_PTR_TYPE  ap;
    CM_UPPER_PD_DIFF_MODULE_PTR_TYPE  mod;
    CM_UPPER_PD_DIFF_SUBMODULE_PTR_TYPE  sub;

    while (! CmListIsEmpty (diff_list)) {
                CmListRemoveHead (diff_list, ap, CM_UPPER_PD_DIFF_AP_PTR_TYPE);

                while (! CmListIsEmpty (& ap->module_list)) {
                    CmListRemoveHead (& ap->module_list, mod, CM_UPPER_PD_DIFF_MODULE_PTR_TYPE);

                    while (! CmListIsEmpty (& mod->submodule_list)) {
                        CmListRemoveHead (& mod->submodule_list, sub, CM_UPPER_PD_DIFF_SUBMODULE_PTR_TYPE);

                        HIF_FREE_LOCAL_MEM(&freeRes,sub);
                        HIF_ASSERT (freeRes == LSA_RET_OK);
                    }
                    HIF_FREE_LOCAL_MEM(&freeRes,mod);
                    HIF_ASSERT (freeRes == LSA_RET_OK);
                }
                HIF_FREE_LOCAL_MEM(&freeRes,ap);
                HIF_ASSERT (freeRes == LSA_RET_OK);
    }
}



/****************************************************************************
*  Name:        hif_ser_cm_free_prm_record_list()
*  Purpose:     free the prm_record_list after lower serialization and
*               store the XRQB ID to shared_mem if it is inserted before the first element
*  Input:       prm_record_list
*  Return:      HIF_OK / HIF_ERR_RESOURCE
****************************************************************************/
LSA_VOID hif_ser_cm_free_prm_record_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_record_tag) *prm_record_list, LSA_UINT32* storeXRQB)
{
    LSA_UINT16 freeRes = 0;
    LSA_UINT32* temp_ptr = LSA_NULL;
    CM_UPPER_ARCB_RECORD_PTR_TYPE prm_record;

    while (! CmListIsEmpty(prm_record_list))
    {
        CmListRemoveHead (prm_record_list, prm_record, CM_UPPER_ARCB_RECORD_PTR_TYPE);
        if(HIF_IS_NOT_NULL(prm_record->record_data))
        {
          HIF_FREE_LOCAL_MEM(&freeRes,prm_record->record_data);
          HIF_ASSERT (freeRes == LSA_RET_OK);
        }

        if (HIF_IS_NOT_NULL(storeXRQB))         //XRQB is just befor the first list element
        {
            temp_ptr = (LSA_UINT32*)prm_record-1;
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&storeXRQB,temp_ptr);                       /* store xRQB pointer to shared mem*/
            HIF_FREE_LOCAL_MEM(&freeRes,temp_ptr);
            HIF_ASSERT (freeRes == LSA_RET_OK);
            storeXRQB = LSA_NULL;
        }
        else
        {
            HIF_FREE_LOCAL_MEM(&freeRes,prm_record);
            HIF_ASSERT (freeRes == LSA_RET_OK);
        }
    }
}



/****************************************************************************
*  Name:        hif_ser_cm_free_iocr_list()
*  Purpose:     free the iocr_list after upper serialization and
*               store the XRQB ID to shared_mem which it is inserted before the first element
*  Input:       iocr_list
*  Return:      HIF_OK / HIF_ERR_RESOURCE
****************************************************************************/
LSA_VOID hif_ser_cm_free_iocr_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_iocr_tag) *iocr_list, LSA_UINT32* storeXRQB)
{
    LSA_UINT16 freeRes = 0;
    LSA_UINT32* temp_ptr = LSA_NULL;
    CM_UPPER_ARCB_IOCR_PTR_TYPE iocr;

    while (! CmListIsEmpty (iocr_list))
       {
            CmListRemoveHead (iocr_list, iocr, CM_UPPER_ARCB_IOCR_PTR_TYPE);

            if (HIF_IS_NOT_NULL(storeXRQB))         //XRQB is just befor the first list element => next element it's null
            {
                temp_ptr = (LSA_UINT32*)iocr-1;
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&storeXRQB,temp_ptr);                       /* store xRQB pointer to shared mem*/
                HIF_FREE_LOCAL_MEM(&freeRes,temp_ptr);
                HIF_ASSERT (freeRes == LSA_RET_OK);
                storeXRQB = LSA_NULL;
            }
            else
            {
                HIF_FREE_LOCAL_MEM(&freeRes,iocr);
                HIF_ASSERT (freeRes == LSA_RET_OK);
            }
       }
}



/****************************************************************************
*  Name:        hif_cm_ser_diff_list()
*  Purpose:     used to serialize the cm diff-list
*  Input:       diff_list
*               help_ptr ... pointer to the diff_list in the shm
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT32* hif_cm_ser_diff_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_pd_diff_ap_tag) *diff_list, LSA_BOOL is_upper)
{
    CM_UPPER_PD_DIFF_AP_PTR_TYPE  ap;
    CM_UPPER_PD_DIFF_MODULE_PTR_TYPE  mod;
    CM_UPPER_PD_DIFF_SUBMODULE_PTR_TYPE  sub;
    LSA_UINT16 ap_count=0,mod_count=0,sub_count=0;

    if (diff_list != LSA_NULL)
    {
        CmListLength (diff_list, &ap_count);
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ap_count);                    /* nr. of ap */ // MOD 01.01
        if (ap_count!=0)
        {
            for (CmListForeach (ap, diff_list, CM_UPPER_PD_DIFF_AP_PTR_TYPE))
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ap->api);                 /* api */

                CmListLength (&ap->module_list, &mod_count);
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,mod_count);                   /* nr. of modules */
                for (CmListForeach (mod, & ap->module_list, CM_UPPER_PD_DIFF_MODULE_PTR_TYPE))
                {
                    CmListLength (&mod->submodule_list, & sub_count);

                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,mod->slot_nr);                /* slot_nr */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,mod->mod_ident);              /* mod_ident */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,sub_count);                   /* nr. of modules */
                    for (CmListForeach (sub, & mod->submodule_list, CM_UPPER_PD_DIFF_SUBMODULE_PTR_TYPE))
                    {
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,sub->subslot_nr);             /* subslot_nr */
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,sub->sub_ident);              /* sub_ident */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,sub->sub_state);              /* sub_state */
                    }
                }
            }
        }
    }

    if (is_upper)  // free memory of list only on upper side
    {
        hif_ser_cm_free_diff_list(diff_list);
    }

    return help_ptr;
}



/****************************************************************************
*  Name:        hif_cm_ser_rec_list()
*  Purpose:     used to serialize the cm rec-ist for CM_OPC_CL_RECORD_WRITE_MULTIPLE
*  Input:       rec_list
*               help_ptr ... pointer to the rec_list in the shm
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT32* hif_cm_ser_rec_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_record_tag) *rec_list, LSA_BOOL is_upper)
{
    CM_UPPER_CM_RECORD_PTR_TYPE  rec;
    LSA_UINT16 rec_count=0;
    LSA_UINT16 freeRes=0;

    if (rec_list != LSA_NULL)
    {
        CmListLength (rec_list, &rec_count);
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,rec_count);                   /* nr. of rec */    // MOD 01.01
        if (rec_count!=0)
        {
            for (CmListForeach (rec, rec_list, CM_UPPER_CM_RECORD_PTR_TYPE))
            {
                if(is_upper) //REQ
                {
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,rec->api);                         /* api */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,rec->slot_nr);                  /* slot_nr */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,rec->subslot_nr);               /* subslot_nr */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,rec->record_index);             /* record_index */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,rec->sequence_nr);              /* sequence_nr */
                }
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,rec->data_length);                  /* data_length */
                if(is_upper) //further REQ
                {
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,rec->data);         /* serialize pointer info itself */
                    if (rec->data != LSA_NULL)
                      HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(rec->data),rec->data_length);         /* data */
                }
                if(!is_upper) //CNF
                {
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,rec->cm_pnio_err);            /* cm_pnio_err */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,rec->ret_val_1);              /* ret_val_1 */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,rec->ret_val_2);              /* ret_val_2 */

                }
            }
        }
    }

    if (!is_upper)  // free memory of list only after lower side serialization
    {
        while (! CmListIsEmpty (rec_list)) {
            CmListRemoveHead (rec_list, rec, CM_UPPER_CM_RECORD_PTR_TYPE);
            HIF_FREE_LOCAL_MEM(&freeRes,rec);
            HIF_ASSERT (freeRes == LSA_RET_OK);
        }
    }

    return help_ptr;
}



/****************************************************************************
*  Name:        hif_cm_ser_prm_record_list()
*  Purpose:     used to serialize the cm prm_record_list
*  Input:       prm_record_list
*               help_ptr ... pointer to the diff_list in the shm
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT32* hif_cm_ser_prm_record_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_record_tag) *prm_record_list, LSA_BOOL is_upper)
{
    LSA_UINT16 prm_record_list_count=0;
    CM_UPPER_ARCB_RECORD_PTR_TYPE prm_record;

    LSA_UNUSED_ARG(is_upper);

    if (HIF_IS_NOT_NULL(prm_record_list))
    {
        CmListLength (prm_record_list, &prm_record_list_count);
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,prm_record_list_count);                   /* nr. of prm_record_list_count */  // MOD 01.01
        if (prm_record_list_count!=0)
        {
            for (CmListForeach (prm_record, prm_record_list, CM_UPPER_ARCB_RECORD_PTR_TYPE))
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,prm_record->record_index);                            /* record_index */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,prm_record->transfer_sequence);                       /* transfer_sequence */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,prm_record->record_data_len);                         /* record_data_len */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,prm_record->record_data);                 /* serialize pointer "record_data" itself */
                if (HIF_IS_NOT_NULL(prm_record->record_data))
                   HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)prm_record->record_data,prm_record->record_data_len);         /* record_data */
            }
        }
    }
    return help_ptr;
}



/****************************************************************************
*  Name:        hif_cm_ser_device_alias_list()
*  Purpose:     used to serialize the cm device_alias-list
*  Input:       device_alias_list
*               help_ptr ... pointer to the diff_list in the shm
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT32* hif_cm_ser_device_alias_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_nare_alias_tag) *alias_list, LSA_BOOL is_upper)
{
    LSA_UINT16 alias_count=0;
    CM_UPPER_ARCB_NARE_ALIAS_PTR_TYPE  alias;

    LSA_UNUSED_ARG(is_upper);

    if (HIF_IS_NOT_NULL(alias_list))
    {
        CmListLength (alias_list, &alias_count);
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,alias_count);                 /* nr. of alias */  // MOD 01.01
        if (alias_count!=0)
        {
            //HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,alias_count);                   /* nr. of alias */
            for (CmListForeach (alias, alias_list, CM_UPPER_ARCB_NARE_ALIAS_PTR_TYPE))
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,alias->name_length);              /* name_length */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,alias->name);             /* serialize pointer info itself */
                if (HIF_IS_NOT_NULL(alias->name) && alias->name_length>0)
                    HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(alias->name),alias->name_length);         /* record_data */
            }
        }
    }
    return help_ptr;
}



/****************************************************************************
*  Name:        hif_cm_ser_iocr_list()
*  Purpose:     used to serialize the cm iocr_list
*  Input:       iocr_list
*               help_ptr ... pointer to the iocr_list in the shm
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT32* hif_cm_ser_iocr_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_iocr_tag) *iocr_list)
{
    LSA_UINT16 iocr_list_count=0;
    LSA_UINT8 i=0;
    CM_UPPER_ARCB_IOCR_PTR_TYPE iocr;

        CmListLength (iocr_list, &iocr_list_count);
    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr_list_count);                 /* nr. of iocr_list_count */    // MOD 01.01
            for (CmListForeach (iocr, iocr_list, CM_UPPER_ARCB_IOCR_PTR_TYPE))
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->iocr_type);             /* iocr_type */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->iocr_ref);              /* iocr_ref */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->iocr_properties);       /* iocr_properties */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->frame_id);              /* frame_id */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->data_length);           /* data_length */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->send_clock);            /* send_clock */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->reduction_ratio);       /* reduction_ratio */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->phase);                 /* phase */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->frame_send_offset);     /* frame_send_offset */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->data_hold_factor);      /* data_hold_factor */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->iocr_tag_header);       /* iocr_tag_header */
                for(i=0;i<6;i++)
                {   /* iocr_multicast_mac*/
                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,iocr->iocr_multicast_mac.mac[i]);                  /* node */
                }

                /* related_ioapi_list is empty */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->edd_properties);                /* edd_properties */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->edd_data_offset);               /* edd_data_offset */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->edd_cr_number);                 /* edd_cr_number */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,iocr->edd_forward_mode);               /* edd_forward_mode */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->edd_ct_outdatastart);           /* edd_ct_outdatastart */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->apdu_status_length);            /* apdu_status_length */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->partial_length);                /* partial_length */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->partial_offset);                /* partial_offset */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->subframe_data);                 /* subframe_data */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->subframe_offset);               /* subframe_offset */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->edd_apdustatus_offset);         /* edd_apdustatus_offset */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->edd_cw_offset);                 /* edd_cw_offset */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->edd_datastatus_offset);         /* edd_datastatus_offset */
            }
    return help_ptr;
}



/****************************************************************************
*  Name:        hif_cm_ser_ar_list()
*  Purpose:     used to serialize the cm Module_Tag diff-list
*  Input:       ar_list
*               help_ptr ... pointer to the ar_list in the shm
*               ser_cl_device_add  ... some lists are only used for cl_device_add
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT32* hif_cm_ser_ar_list(LSA_UINT32 *help_ptr, CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *ar_list, LSA_BOOL ser_cl_device_add)
{
    LSA_UINT16 ar_list_count=0,iocr_list_count=0,related_ioapi_list_count=0,related_iodata_object_list_count=0,related_iocs_list_count=0,iocr_local_list_count=0,ap_list_count=0;
// MOD 01.01 DO 20130627
    LSA_UINT16 module_list_count=0,submodule_list_count=0,prm_record_list_count=0, mcr_list_count=0, ir_info_sub_list_count=0, ar_prm_record_list_count=0;
//  LSA_UINT16 module_list_count=0,submodule_list_count=0,prm_record_list_count=0, mcr_list_count=0, ir_info_sub_list_count=0, ar_vendor_list_count=0, ar_prm_record_list_count=0;
    LSA_UINT8 i=0;

    CM_UPPER_ARCB_ADD_PTR_TYPE  ar;
    CM_UPPER_ARCB_IOCR_PTR_TYPE iocr;
    CM_UPPER_ARCB_IOAPI_PTR_TYPE related_ioapi;
    CM_UPPER_ARCB_IODATA_OBJECT_PTR_TYPE related_iodata_object;
    CM_UPPER_ARCB_IOCS_PTR_TYPE related_iocs;
    CM_UPPER_ARCB_IOCR_LOCAL_PTR_TYPE iocr_local;
    CM_UPPER_ARCB_AP_PTR_TYPE ap;
    CM_UPPER_ARCB_MODULE_PTR_TYPE module;
    CM_UPPER_ARCB_SUBMODULE_PTR_TYPE submodule;
    CM_UPPER_ARCB_RECORD_PTR_TYPE prm_record;
    CM_UPPER_ARCB_MCR_PTR_TYPE mcr;
    CM_UPPER_ARCB_IR_INFO_SUB_PTR_TYPE ir_info_sub;
// MOD 01.01 DO 20130627
//  CM_UPPER_ARCB_ARVENDOR_PTR_TYPE ar_vendor;
    CM_UPPER_ARCB_RECORD_PTR_TYPE ar_prm_record;

    if (HIF_IS_NOT_NULL(ar_list))
    {
        CmListLength (ar_list, &ar_list_count);
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar_list_count);   /* nr. of ar_list_count*/ // MOD 01.01
        if (ar_list_count!=0)
        {
            for (CmListForeach (ar, ar_list, CM_UPPER_ARCB_ADD_PTR_TYPE))
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->ar_nr);               /* ar_nr */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->ar_type);             /* ar_type */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->ar_uuid.time_low);                /* time_low */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->ar_uuid.time_mid);                /* time_mid */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->ar_uuid.time_hi_and_version);             /* time_hi_and_version */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ar->ar_uuid.clock_seq_hi_and_reserved);        /* clock_seq_hi_and_reserved */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ar->ar_uuid.clock_seq_low);                    /* clock_seq_low */
                for(i=0;i<6;i++)
                {   /* create */
                   HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ar->ar_uuid.node[i]);                  /* node */
                }
                
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->ar_properties);               /* ar_properties */

                CmListLength (&ar->iocr_list, &iocr_list_count);
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr_list_count);                         /* nr. of iocr_list */
                for (CmListForeach (iocr, &ar->iocr_list, CM_UPPER_ARCB_IOCR_PTR_TYPE))
                {
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->iocr_type);             /* iocr_type */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->iocr_ref);              /* iocr_ref */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->iocr_properties);       /* iocr_properties */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->frame_id);              /* frame_id */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->data_length);           /* data_length */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->send_clock);            /* send_clock */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->reduction_ratio);       /* reduction_ratio */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->phase);                 /* phase */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->frame_send_offset);     /* frame_send_offset */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->data_hold_factor);      /* data_hold_factor */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->iocr_tag_header);       /* iocr_tag_header */
                    for(i=0;i<6;i++)
                    {   /* create*/
                        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,iocr->iocr_multicast_mac.mac[i]);  /* CM_MAC_TYPE iocr_multicast_mac */
                    }

                    CmListLength (&iocr->related_ioapi_list, &related_ioapi_list_count);
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,related_ioapi_list_count);                    /* nr. of related_ioapi_count */
                    for (CmListForeach (related_ioapi, &iocr->related_ioapi_list, CM_UPPER_ARCB_IOAPI_PTR_TYPE))
                    {
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,related_ioapi->api);      /* api */
                        CmListLength (&related_ioapi->related_iodata_objects_list, &related_iodata_object_list_count);
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,related_iodata_object_list_count);                    /* nr. of related_iodata_object_list_count */
                        for (CmListForeach (related_iodata_object, &related_ioapi->related_iodata_objects_list, CM_UPPER_ARCB_IODATA_OBJECT_PTR_TYPE))
                        {
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,related_iodata_object->slot_nr);              /* slot_nr */
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,related_iodata_object->subslot_nr);           /* subslot_nr */
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,related_iodata_object->frame_offset);         /* frame_offset */
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,related_iodata_object->application_offset);   /* application_offset */
                        }
                        CmListLength (&related_ioapi->related_iocs_list, &related_iocs_list_count);
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,related_iocs_list_count);                 /* nr. of related_iocs_list_count */
                        for (CmListForeach (related_iocs, &related_ioapi->related_iocs_list, CM_UPPER_ARCB_IOCS_PTR_TYPE))
                        {
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,related_iocs->slot_nr);               /* slot_nr */
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,related_iocs->subslot_nr);            /* subslot_nr */
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,related_iocs->frame_offset);          /* frame_offset */
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,related_iocs->application_offset);    /* application_offset */
                        }
                    }
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->edd_properties);                /* edd_properties */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->edd_data_offset);               /* edd_data_offset */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->edd_cr_number);                 /* edd_cr_number */
                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,iocr->edd_forward_mode);               /* edd_forward_mode */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr->edd_ct_outdatastart);           /* edd_ct_outdatastart */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->apdu_status_length);            /* apdu_status_length */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->partial_length);                /* partial_length */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->partial_offset);                /* partial_offset */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->subframe_data);                 /* subframe_data */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr->subframe_offset);               /* subframe_offset */
                }
                if (ser_cl_device_add)
                {
                    CmListLength (&ar->iocr_local_list, &iocr_local_list_count);
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr_local_list_count);                   /* nr. of iocr_local_list */
                    for (CmListForeach (iocr_local, &ar->iocr_local_list, CM_UPPER_ARCB_IOCR_LOCAL_PTR_TYPE))
                    {
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr_local->iocr_ref);            /* iocr_ref */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr_local->send_clock);          /* send_clock */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr_local->reduction_ratio);     /* reduction_ratio */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr_local->phase);               /* phase */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,iocr_local->data_hold_factor);    /* data_hold_factor */
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,iocr_local->frame_send_offset);   /* frame_send_offset */
                    }

                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->alarm_cr);                /* serialize pointer info itself */
                    if (HIF_IS_NOT_NULL(ar->alarm_cr))
                    {
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->alarm_cr->alcr_properties);           /* alcr_properties */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->alarm_cr->timeout100ms);              /* timeout100ms */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->alarm_cr->retries);                   /* retries */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->alarm_cr->alcr_tag_header_high);      /* alcr_tag_header_high */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->alarm_cr->alcr_tag_header_low);       /* alcr_tag_header_low */
                    }

                    CmListLength (&ar->ap_list, &ap_list_count);
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ap_list_count);                   /* nr. of ap_list_count */
                    for (CmListForeach (ap, &ar->ap_list, CM_UPPER_ARCB_AP_PTR_TYPE))
                    {
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ap->api);                     /* api */

                        CmListLength (&ap->module_list, &module_list_count);
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,module_list_count);                   /* nr. of module_list_count */
                        for (CmListForeach (module, &ap->module_list, CM_UPPER_ARCB_MODULE_PTR_TYPE))
                        {
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,module->slot_nr);             /* slot_nr */
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,module->mod_properties);      /* mod_properties */
                            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,module->mod_ident);           /* mod_ident */

                            CmListLength (&module->submodule_list, &submodule_list_count);
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,submodule_list_count);                    /* nr. of submodule_list_count */
                            for (CmListForeach (submodule, &module->submodule_list, CM_UPPER_ARCB_SUBMODULE_PTR_TYPE))
                            {
                                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,submodule->subslot_nr);           /* subslot_nr */
                                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,submodule->sub_properties);       /* sub_properties */
                                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,submodule->sub_ident);            /* sub_ident */
                                for(i=0;i<2;i++)
                                {   /* CM_ARCB_SUBMODULE_DESCR_TYPE descr [2]  */
                                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,submodule->descr[i].data_description);        /* data_description */
                                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,submodule->descr[i].data_length);         /* data_length */
                                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,submodule->descr[i].iops_length);          /* iops_length */
                                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,submodule->descr[i].iocs_length);          /* iocs_length */
                                }
        #if CM_CFG_MAX_CLIENTS || CM_CFG_EVERYTHING_VISIBLE
                                CmListLength (&submodule->u.cl.prm_record_list, &prm_record_list_count);
                                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,prm_record_list_count);                   /* nr. of prm_record_list_count */
                                for (CmListForeach (prm_record, &submodule->u.cl.prm_record_list, CM_UPPER_ARCB_RECORD_PTR_TYPE))
                                {
                                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,prm_record->record_index);                            /* record_index */
                                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,prm_record->transfer_sequence);                       /* transfer_sequence */
                                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,prm_record->record_data_len);                         /* record_data_len */
                                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,prm_record->record_data);                 /* serialize pointer "record_data" itself */
                                    if (HIF_IS_NOT_NULL(prm_record->record_data))
                                    {
                                       HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)prm_record->record_data,prm_record->record_data_len);         /* record_data */
                                    }
                                }
        #endif
                            }
                        }
                    }
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->prm);             /* serialize pointer info itself */
                    if (HIF_IS_NOT_NULL(ar->prm))
                    {
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->prm->prm_properties);                 /* prm_properties */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->prm->prm_server_name_length);         /* prm_server_name_length */
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->prm->prm_server_name);    /* serialize pointer "prm_server_name" itself */
                        if (HIF_IS_NOT_NULL(ar->prm->prm_server_name))
                        {
                             HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)ar->prm,ar->prm->prm_server_name_length);         /* prm_server_name */
                        }
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->prm->prm_vendor_id);          /* prm_vendor_id */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->prm->prm_device_id);          /* prm_device_id */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->prm->prm_instance);           /* prm_instance */
                    }
                }  /* end if (ser_cl_device_add) */

                CmListLength (&ar->mcr_list, &mcr_list_count);
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,mcr_list_count);                  /* nr. of mcr_list_count */
                for (CmListForeach (mcr, &ar->mcr_list, CM_UPPER_ARCB_MCR_PTR_TYPE))
                {
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,mcr->iocr_ref);                       /* iocr_ref */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,mcr->mcr_properties);                 /* mcr_properties */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,mcr->mci_timeout_100ms);              /* mci_timeout_100ms */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,mcr->provider_name_length);           /* provider_name_length */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,mcr->provider_name);      /* serialize pointer "provider_name" itself */
                    if (HIF_IS_NOT_NULL(mcr->provider_name))
                    {
                        HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)mcr->provider_name,mcr->provider_name_length);         /* prm_server_name */
                    }
                }
                if (ser_cl_device_add)
                {
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->ir_info);             /* serialize pointer info itself */
                    if (HIF_IS_NOT_NULL(ar->ir_info))
                    {
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->ir_info->ir_data_uuid.time_low);                      /* time_low */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->ir_info->ir_data_uuid.time_mid);                      /* time_mid */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->ir_info->ir_data_uuid.time_hi_and_version);               /* time_hi_and_version */
                        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ar->ir_info->ir_data_uuid.clock_seq_hi_and_reserved);      /* clock_seq_hi_and_reserved */
                        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ar->ir_info->ir_data_uuid.clock_seq_low);                  /* clock_seq_low */
                        for(i=0;i<6;i++)
                        {   /* ir_data_uuid.node[] */
                           HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ar->ir_info->ir_data_uuid.node[i]);                     /* node */
                        }

                        CmListLength (&ar->ir_info->ir_info_sub_list, &ir_info_sub_list_count);
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ir_info_sub_list_count);                  /* nr. of ir_info_sub_list_count */
                        for (CmListForeach (ir_info_sub, &ar->ir_info->ir_info_sub_list, CM_UPPER_ARCB_IR_INFO_SUB_PTR_TYPE))
                        {
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ir_info_sub->iocr_ref);                           /* iocr_ref */
                            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ir_info_sub->subframe_offset);                    /* subframe_offset */
                            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ir_info_sub->subframe_data);                      /* subframe_data */
                        }
                    }
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->sr_info);             /* serialize pointer info itself */
                    if(HIF_IS_NOT_NULL(ar->sr_info))
                    {
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->sr_info->rdh_factor);                 /* rdh_factor */
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->sr_info->sr_properties);              /* sr_properties */
                    }
                    // MOD 01.01 DO 20130627
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar->arvendor_blob.arvendor_data_len);                         /* arvendor_data_len */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar->arvendor_blob.arvendor_data);                 /* serialize pointer "arvendor_data" itself */
                    if (HIF_IS_NOT_NULL(ar->arvendor_blob.arvendor_data))
                    {
                         HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)ar->prm,ar->arvendor_blob.arvendor_data_len);  /* arvendor_data */
                    }

//                      CmListLength (&ar->ar_vendor_list, &ar_vendor_list_count);
//                      HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar_vendor_list_count);                    /* nr. of ar_vendor_list_count */
//                      for (CmListForeach (ar_vendor, &ar->ar_vendor_list, CM_UPPER_ARCB_ARVENDOR_PTR_TYPE))
//                      {
//                          HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar_vendor->api);                          /* api */
//                          HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar_vendor->ap_structure_identifier);      /* ap_structure_identifier */
//                          HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar_vendor->arvendor_data_len);            /* arvendor_data_len */
//                          HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar_vendor->arvendor_data);    /* serialize pointer "arvendor_data" itself */
//                          if (HIF_IS_NOT_NULL(ar_vendor->arvendor_data) && ar_vendor->arvendor_data_len>0)
//                              HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)ar_vendor->arvendor_data,ar_vendor->arvendor_data_len);         /* record_data */
//                      }
                    CmListLength (&ar->ar_prm_record_list, &ar_prm_record_list_count);
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar_prm_record_list_count);                    /* nr. of ar_prm_record_list_count */
                    for (CmListForeach (ar_prm_record, &ar->ar_prm_record_list, CM_UPPER_ARCB_RECORD_PTR_TYPE))
                    {
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar_prm_record->record_index);             /* record_index */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar_prm_record->transfer_sequence);        /* transfer_sequence */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ar_prm_record->record_data_len);          /* record_data_len */
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ar_prm_record->record_data);  /* serialize pointer "record_data" itself */
                        if (HIF_IS_NOT_NULL(ar_prm_record->record_data) && ar_prm_record->record_data_len>0)
                        {
                            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)ar_prm_record->record_data,ar_prm_record->record_data_len);         /* record_data */
                        }
                    }
                }  /* end if (ser_cl_device_add) */
            }
        }
    }
    return help_ptr;
}



/****************************************************************************
*  Name:        hif_ser_cm_free_ar_list()
*  Purpose:     free the ar_list after lower serialization
*  Input:       ar_list
*               ser_cl_device_add  ... some lists are only used for cl_device_add
*  Return:      HIF_OK / HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT32 hif_ser_cm_free_ar_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *ar_list, LSA_BOOL ser_cl_device_add)
{
    LSA_UINT16 freeRes = 0;
    CM_UPPER_ARCB_ADD_PTR_TYPE  ar;
    CM_UPPER_ARCB_IOCR_PTR_TYPE iocr;
    CM_UPPER_ARCB_IOAPI_PTR_TYPE related_ioapi;
    CM_UPPER_ARCB_IODATA_OBJECT_PTR_TYPE related_iodata_object;
    CM_UPPER_ARCB_IOCS_PTR_TYPE related_iocs;
    CM_UPPER_ARCB_IOCR_LOCAL_PTR_TYPE iocr_local;
    CM_UPPER_ARCB_AP_PTR_TYPE ap;
    CM_UPPER_ARCB_MODULE_PTR_TYPE module;
    CM_UPPER_ARCB_SUBMODULE_PTR_TYPE submodule;
    CM_UPPER_ARCB_RECORD_PTR_TYPE prm_record;
    CM_UPPER_ARCB_MCR_PTR_TYPE mcr;
    CM_UPPER_ARCB_IR_INFO_SUB_PTR_TYPE ir_info_sub;
// MOD 01.01 DO 20130627
//  CM_UPPER_ARCB_ARVENDOR_PTR_TYPE ar_vendor;
    CM_UPPER_ARCB_RECORD_PTR_TYPE ar_prm_record;

    if (ar_list == LSA_NULL)
        return HIF_OK;

    while (! CmListIsEmpty (ar_list))
    {
        CmListRemoveHead (ar_list, ar, CM_UPPER_ARCB_ADD_PTR_TYPE);

        while (! CmListIsEmpty (ar->iocr_list.Flink))
        {
            CmListRemoveHead (&ar->iocr_list, iocr, CM_UPPER_ARCB_IOCR_PTR_TYPE);
            while (! CmListIsEmpty (iocr->related_ioapi_list.Flink))
            {
                CmListRemoveHead (&iocr->related_ioapi_list, related_ioapi, CM_UPPER_ARCB_IOAPI_PTR_TYPE);
                while (! CmListIsEmpty (related_ioapi->related_iodata_objects_list.Flink))
                {
                    CmListRemoveHead (&related_ioapi->related_iodata_objects_list, related_iodata_object, CM_UPPER_ARCB_IODATA_OBJECT_PTR_TYPE);
                    HIF_FREE_LOCAL_MEM(&freeRes,related_iodata_object);
                    if (freeRes != LSA_RET_OK)
                         return HIF_ERR_RESOURCE;
                }
                while (! CmListIsEmpty (related_ioapi->related_iocs_list.Flink))
                {
                    CmListRemoveHead (&related_ioapi->related_iocs_list, related_iocs, CM_UPPER_ARCB_IOCS_PTR_TYPE);
                    HIF_FREE_LOCAL_MEM(&freeRes,related_iocs);
                    if (freeRes != LSA_RET_OK)
                         return HIF_ERR_RESOURCE;
                }
                HIF_FREE_LOCAL_MEM(&freeRes,related_ioapi);
                if (freeRes != LSA_RET_OK)
                     return HIF_ERR_RESOURCE;
            }
            HIF_FREE_LOCAL_MEM(&freeRes,iocr);
            if (freeRes != LSA_RET_OK)
                 return HIF_ERR_RESOURCE;
        }
        if (ser_cl_device_add)
        {
            while (! CmListIsEmpty (ar->iocr_local_list.Flink))
            {
                CmListRemoveHead (&ar->iocr_local_list, iocr_local, CM_UPPER_ARCB_IOCR_LOCAL_PTR_TYPE);
                HIF_FREE_LOCAL_MEM(&freeRes,iocr_local);
                if (freeRes != LSA_RET_OK)
                     return HIF_ERR_RESOURCE;
            }
            // free ar->alarm_cr
            if(HIF_IS_NOT_NULL(ar->alarm_cr))
            {
                HIF_FREE_LOCAL_MEM(&freeRes,ar->alarm_cr);
                if (freeRes != LSA_RET_OK)
                     return HIF_ERR_RESOURCE;
            }
            while (! CmListIsEmpty (ar->ap_list.Flink))
            {
                CmListRemoveHead (&ar->ap_list, ap, CM_UPPER_ARCB_AP_PTR_TYPE);
                while (! CmListIsEmpty (ap->module_list.Flink))
                {
                    CmListRemoveHead (&ap->module_list, module, CM_UPPER_ARCB_MODULE_PTR_TYPE);
                    while (! CmListIsEmpty (module->submodule_list.Flink))
                    {
                        CmListRemoveHead (&module->submodule_list, submodule, CM_UPPER_ARCB_SUBMODULE_PTR_TYPE);
    #if CM_CFG_MAX_CLIENTS || CM_CFG_EVERYTHING_VISIBLE
                        while (! CmListIsEmpty (submodule->u.cl.prm_record_list.Flink))
                        {
                            CmListRemoveHead (&submodule->u.cl.prm_record_list, prm_record, CM_UPPER_ARCB_RECORD_PTR_TYPE);
                            if(HIF_IS_NOT_NULL(prm_record->record_data))
                            {
                              HIF_FREE_LOCAL_MEM(&freeRes,prm_record->record_data);
                              if (freeRes != LSA_RET_OK)
                                 return HIF_ERR_RESOURCE;
                            }
                            HIF_FREE_LOCAL_MEM(&freeRes,prm_record);
                            if (freeRes != LSA_RET_OK)
                                 return HIF_ERR_RESOURCE;
                        }
    #endif
                        HIF_FREE_LOCAL_MEM(&freeRes,submodule);
                        if (freeRes != LSA_RET_OK)
                             return HIF_ERR_RESOURCE;
                    }
                    HIF_FREE_LOCAL_MEM(&freeRes,module);
                    if (freeRes != LSA_RET_OK)
                         return HIF_ERR_RESOURCE;
                }
                HIF_FREE_LOCAL_MEM(&freeRes,ap);
                if (freeRes != LSA_RET_OK)
                     return HIF_ERR_RESOURCE;
            }
            if(HIF_IS_NOT_NULL(ar->prm))
            {
                if(HIF_IS_NOT_NULL(ar->prm->prm_server_name))
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ar->prm->prm_server_name);
                    if (freeRes != LSA_RET_OK)
                       return HIF_ERR_RESOURCE;
                }
                // free ar->prm
                HIF_FREE_LOCAL_MEM(&freeRes,ar->prm);
                    if (freeRes != LSA_RET_OK)
                         return HIF_ERR_RESOURCE;
            }
        } // end if (ser_cl_device_add)
        while (! CmListIsEmpty (ar->mcr_list.Flink))
        {
            mcr = (CM_UPPER_ARCB_MCR_PTR_TYPE)ar->mcr_list.Flink;
            if(HIF_IS_NOT_NULL(mcr->provider_name))
            {
              HIF_FREE_LOCAL_MEM(&freeRes,mcr->provider_name);
              if (freeRes != LSA_RET_OK)
                 return HIF_ERR_RESOURCE;
            }
            CmListRemoveHead (&ar->mcr_list, mcr, CM_UPPER_ARCB_MCR_PTR_TYPE);
            HIF_FREE_LOCAL_MEM(&freeRes,mcr);
            if (freeRes != LSA_RET_OK)
                 return HIF_ERR_RESOURCE;
        }
        if (ser_cl_device_add)
        {
            if(HIF_IS_NOT_NULL(ar->ir_info))
            {
                while (! CmListIsEmpty (ar->ir_info->ir_info_sub_list.Flink))
                {
                    CmListRemoveHead (&ar->ir_info->ir_info_sub_list, ir_info_sub, CM_UPPER_ARCB_IR_INFO_SUB_PTR_TYPE);
                    HIF_FREE_LOCAL_MEM(&freeRes,ir_info_sub);
                    if (freeRes != LSA_RET_OK)
                         return HIF_ERR_RESOURCE;
                }
                // free ar->ir_info
                HIF_FREE_LOCAL_MEM(&freeRes,ar->ir_info);
                if (freeRes != LSA_RET_OK)
                     return HIF_ERR_RESOURCE;
            }
            // free ar->sr_info
            if(HIF_IS_NOT_NULL(ar->sr_info))
            {
                HIF_FREE_LOCAL_MEM(&freeRes,ar->sr_info);
                if (freeRes != LSA_RET_OK)
                     return HIF_ERR_RESOURCE;
            }
            // free ar->ar_vendor
// MOD 01.01 DO 20130627
if(HIF_IS_NOT_NULL(ar->arvendor_blob.arvendor_data))
{
    HIF_FREE_LOCAL_MEM(&freeRes,ar->arvendor_blob.arvendor_data);
    if (freeRes != LSA_RET_OK)
       return HIF_ERR_RESOURCE;
}
//          while (! CmListIsEmpty (ar->ar_vendor_list.Flink))
//          {
//              CmListRemoveHead (& ar->ar_vendor_list, ar_vendor, CM_UPPER_ARCB_ARVENDOR_PTR_TYPE);
//              if(HIF_IS_NOT_NULL(ar_vendor->arvendor_data))
//              {
//                HIF_FREE_LOCAL_MEM(&freeRes,ar_vendor->arvendor_data);
//                if (freeRes != LSA_RET_OK)
//                   return HIF_ERR_RESOURCE;
//              }
//              HIF_FREE_LOCAL_MEM(&freeRes,ar_vendor);
//              if (freeRes != LSA_RET_OK)
//                   return HIF_ERR_RESOURCE;
//          }
            while (! CmListIsEmpty (ar->ar_prm_record_list.Flink))
            {
                CmListRemoveHead (& ar->ar_prm_record_list, ar_prm_record, CM_UPPER_ARCB_RECORD_PTR_TYPE);
                if(HIF_IS_NOT_NULL(ar_prm_record->record_data))
                {
                  HIF_FREE_LOCAL_MEM(&freeRes,ar_prm_record->record_data);
                  if (freeRes != LSA_RET_OK)
                     return HIF_ERR_RESOURCE;
                }

                HIF_FREE_LOCAL_MEM(&freeRes,ar_prm_record);
                if (freeRes != LSA_RET_OK)
                     return HIF_ERR_RESOURCE;
            }
            HIF_FREE_LOCAL_MEM(&freeRes,ar);
            if (freeRes != LSA_RET_OK)
                return HIF_ERR_RESOURCE;
        }  // end if (ser_cl_device_add)
    }
    return HIF_OK;
}



/****************************************************************************
*  Name:        hif_cm_deser_diff_list()
*  Purpose:     used to deserialize the cm diff-list
*  Input:       diff_list ... pointer to the difflist
*               help_ptr ... pointer to the Appl_Tag in the shm
*               is_upper ... 0=lower, 1=upper
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT8* hif_cm_deser_diff_list(CM_LIST_TYPED_ENTRY_TYPE(cm_pd_diff_ap_tag) *diff_list, LSA_UINT8* help_ptr,LSA_BOOL is_upper)
{
    CM_UPPER_CL_DIFF_AP_PTR_TYPE  diff_ap;
    CM_UPPER_CL_DIFF_MODULE_PTR_TYPE  diff_mod;
    CM_UPPER_CL_DIFF_SUBMODULE_PTR_TYPE  diff_sub;
    CM_LIST_TYPED_ENTRY_TYPE(cm_pd_diff_ap_tag) *head_ap = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_pd_diff_mod_tag) *head_mod ;
    CM_LIST_TYPED_ENTRY_TYPE(cm_pd_diff_sub_tag) *head_sub ;

    LSA_UINT16 ap_count=0,mod_count=0,sub_count=0;
    LSA_UINT16 i_ap=1,i_mod=1,i_sub=1;

    head_ap = diff_list;

    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(ap_count),(LSA_UINT32**)&help_ptr);          /* ap_count */

    for (i_ap=1;i_ap<=ap_count;i_ap++)
    {
        if(is_upper)   //upper allocate
            HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&diff_ap, sizeof (*diff_ap));            /* alloc ap in diff_list */
        else        // lower take the existing list
            diff_ap = (CM_UPPER_CL_DIFF_AP_PTR_TYPE)diff_list->Flink;

        if (HIF_IS_NOT_NULL(diff_ap))
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&diff_ap->api,(LSA_UINT32**)&help_ptr);          /* api */
            if(is_upper)
            {
                CmListInitialize (& diff_ap->module_list);
                CmListInsertTail (head_ap, & diff_ap->link);
            }
        }
        else
            return (LSA_UINT8*) LSA_NULL;

        head_mod = (CM_LIST_ENTRY_TYPE*)&diff_ap->module_list;
        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(mod_count),(LSA_UINT32**)&help_ptr);          /* mod_count */

        for (i_mod=1;i_mod<=mod_count;i_mod++)
        {
            if(is_upper)
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&diff_mod, sizeof (*diff_mod));              /* alloc mod in diff_list */
            else
                diff_mod = (CM_UPPER_CL_DIFF_MODULE_PTR_TYPE)diff_ap->module_list.Flink;
            if (HIF_IS_NOT_NULL(diff_mod))
            {
                //if (i_mod==1)
                //  head_mod = (CM_LIST_ENTRY_TYPE*)&diff_ap->module_list;

                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&diff_mod->slot_nr,(LSA_UINT32**)&help_ptr);            /* slot_nr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&diff_mod->mod_ident,(LSA_UINT32**)&help_ptr);          /* mod_ident */
                if(is_upper)
                {
                    CmListInitialize (& diff_mod->submodule_list);
                    CmListInsertTail (head_mod, & diff_mod->link);
                }
            }
            else
                return (LSA_UINT8*) LSA_NULL;

            head_sub = (CM_LIST_ENTRY_TYPE*)&diff_mod->submodule_list;
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(sub_count),(LSA_UINT32**)&help_ptr);          /* sub_count */

            for (i_sub=1;i_sub<=sub_count;i_sub++)
            {
                if(is_upper)
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&diff_sub, sizeof (*diff_sub));                 /* alloc mod in diff_list */
                else
                    diff_sub = (CM_UPPER_CL_DIFF_SUBMODULE_PTR_TYPE)diff_mod->submodule_list.Flink;
                if (HIF_IS_NOT_NULL(diff_sub))
                {
                    //if(i_sub==1)
                    //  head_sub = (CM_LIST_ENTRY_TYPE*)&diff_mod->submodule_list;

                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&diff_sub->subslot_nr,(LSA_UINT32**)&help_ptr);          /* subslot_nr */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&diff_sub->sub_ident,(LSA_UINT32**)&help_ptr);          /* sub_ident */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&diff_sub->sub_state,(LSA_UINT32**)&help_ptr);          /* sub_state */
                    if(is_upper)
                        CmListInsertTail (head_sub, & diff_sub->link);
                }
                else
                    return (LSA_UINT8*) LSA_NULL;
            }
            i_sub=1;
        }
        i_mod=1;
    }
    i_ap=1;

    return help_ptr;
}



/****************************************************************************
*  Name:        hif_cm_deser_device_alias_list()
*  Purpose:     used to deserialize the cm device-alias-list
*  Input:       device_alias_list
*               help_ptr ... pointer to the serialized device-aiase-list in the shm
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT8* hif_cm_deser_device_alias_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_nare_alias_tag) *alias_list, LSA_UINT8 *help_ptr)
{
    LSA_UINT16 alias_count=0;
    LSA_UINT16 i_alias=1;
    CM_UPPER_ARCB_NARE_ALIAS_PTR_TYPE alias;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_nare_alias_tag) *head_alias = LSA_NULL;

    head_alias = alias_list;

    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(alias_count),(LSA_UINT32**)&help_ptr);          /* alias_count */

    for (i_alias=1;i_alias<=alias_count;i_alias++)
    {
        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&alias, sizeof (*alias));                   /* alloc alias in alias_list */
        if (HIF_IS_NOT_NULL(alias))
        {
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&alias->name_length,(LSA_UINT32**)&help_ptr);              /* alias->name_length */
            if((*((CM_UPPER_MEM_U8_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL)  && alias->name_length>0)           /* => pointer "name" on shared-mem */
            {
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&alias->name, alias->name_length);
                help_ptr+=HIF_SER_SIZEOF(4);                                                                            /* begin of buffer content */
                if (HIF_IS_NOT_NULL(alias->name))
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)alias->name,(LSA_UINT32**)&help_ptr,alias->name_length);           /* name */
                }
                else
                {
                    return (LSA_UINT8*) LSA_NULL;
                }
            }
            else
            {
                alias->name = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            CmListInsertTail (head_alias, &alias->link);
        }
    }
    i_alias=1;

    return help_ptr;
}



/****************************************************************************
*  Name:        hif_cm_deser_prm_record_list()
*  Purpose:     used to deserialize the cm prm_record_list
*  Input:       prm_record_list
*               help_ptr ... pointer to the serialized device-aiase-list in the shm
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT8* hif_cm_deser_prm_record_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_record_tag) *prm_record_list, LSA_UINT8 *help_ptr, LSA_UINT32* insertXRQB)
{
    LSA_UINT16 prm_record_count=0;
    LSA_UINT16 i_prm_record=1;
    LSA_UINT32* temp_ptr = LSA_NULL;
    CM_UPPER_ARCB_RECORD_PTR_TYPE prm_record;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_record_tag) *head_prm_record  = LSA_NULL;

    head_prm_record = prm_record_list;

    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&prm_record_count,(LSA_UINT32**)&help_ptr);                  /* nr. of prm_record_count */
    for (i_prm_record=1;i_prm_record<=prm_record_count;i_prm_record++)
    {
        if (i_prm_record==1 && insertXRQB!=LSA_NULL)
        {
            HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&temp_ptr, HIF_SER_SIZEOF(4)+sizeof (*prm_record));            /* alloc prm_record in prm_record_list + xRQB-pointer */
            prm_record = (CM_UPPER_ARCB_RECORD_PTR_TYPE)(temp_ptr+1);
            temp_ptr = insertXRQB;
        }
        else
        {
            HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&prm_record, sizeof (*prm_record));            /* alloc prm_record in prm_record_list */
        }
        if (HIF_IS_NOT_NULL(prm_record))
        {
            HIF_SER_COPY_SHMTH_32(&prm_record->record_index,(LSA_UINT32**)&help_ptr);                           /* record_index */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&prm_record->transfer_sequence,(LSA_UINT32**)&help_ptr);                     /* transfer_sequence */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&prm_record->record_data_len,(LSA_UINT32**)&help_ptr);                       /* record_data_len */
            if (HIF_IS_NOT_NULL(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)))  // check prm_record->record_data pointer on shared mem
            {
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&prm_record->record_data, prm_record->record_data_len);
                help_ptr+=4;
                if (HIF_IS_NOT_NULL(prm_record->record_data))
                {
                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)prm_record->record_data,(LSA_UINT32**)&help_ptr,prm_record->record_data_len);         /* record_data */
                }
                else
                    return (LSA_UINT8*) LSA_NULL;
            }
            else
            {
                prm_record->record_data = LSA_NULL;
                help_ptr+=4;
            }
            CmListInsertTail (head_prm_record, &prm_record->link);
        }
        else
            return (LSA_UINT8*) LSA_NULL;
    }
    i_prm_record=1;

    return help_ptr;
}



/****************************************************************************
*  Name:        hif_cm_deser_rec_list()
*  Purpose:     used to deserialize the cm rec-list
*  Input:       rec_list
*               help_ptr ... pointer to the serialized record-list in the shm
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT8* hif_cm_deser_rec_list(CM_LIST_TYPED_ENTRY_TYPE(cm_record_tag) *rec_list, LSA_UINT8 *help_ptr, LSA_BOOL is_upper)
{
    LSA_UINT16 rec_count=0;
    LSA_UINT16 i_rec=1;
    CM_UPPER_CM_RECORD_PTR_TYPE  rec;
    CM_LIST_TYPED_ENTRY_TYPE(cm_record_tag) *head_rec = LSA_NULL;

    head_rec = rec_list;

    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(rec_count),(LSA_UINT32**)&help_ptr);          /* rec_count */

    for (i_rec=1;i_rec<=rec_count;i_rec++)
    {
        if(is_upper)   // upper take the existing list
            rec = (CM_UPPER_CM_RECORD_PTR_TYPE)rec_list->Flink;
        else        //lower allocate
            HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&rec, sizeof (*rec));            /* alloc rec in rec_list */

        if (HIF_IS_NOT_NULL(rec))
        {
            if(is_upper)
            {
                 HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&(rec->api),(LSA_UINT32**)&help_ptr);                     /* api */
                 HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(rec->slot_nr),(LSA_UINT32**)&help_ptr);                 /* slot_nr */
                 HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(rec->subslot_nr),(LSA_UINT32**)&help_ptr);              /* subslot_nr */
                 HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(rec->record_index),(LSA_UINT32**)&help_ptr);            /* record_index */
                 HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(rec->sequence_nr),(LSA_UINT32**)&help_ptr);             /* sequence_nr */
            }
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&(rec->data_length),(LSA_UINT32**)&help_ptr);                 /* data_length */
            if(is_upper) //further REQ
            {
                 if (HIF_IS_NOT_NULL(*((CM_UPPER_MEM_U8_PTR_TYPE*)help_ptr)))
                 {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(rec->data),rec->data_length);
                    if (HIF_IS_NOT_NULL(rec->data))
                    {
                       HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(rec->data),(LSA_UINT32**)&help_ptr,rec->data_length);             /* data */
                    }
                    else
                    {
                       return (LSA_UINT8*) LSA_NULL;
                    }
                 }
                 else
                 {
                    help_ptr+=4;          /* skip buffer-pointer */
                    rec->data = LSA_NULL;
                 }
            }
            if(!is_upper)
            {
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&(rec->cm_pnio_err),(LSA_UINT32**)&help_ptr);       /* cm_pnio_err */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(rec->ret_val_1),(LSA_UINT32**)&help_ptr);         /* ret_val_1 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(rec->ret_val_2),(LSA_UINT32**)&help_ptr);         /* ret_val_2 */
            }
            CmListInsertTail (head_rec, &rec->link);
        }
    }
    i_rec=1;

    return help_ptr;
}



/****************************************************************************
*  Name:        hif_cm_deser_iocr_list()
*  Purpose:     used to deserialize the cm iocr-list
*  Input:       iocr_list
*               help_ptr ... pointer to the serialized iocr-list in the shm
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT8* hif_cm_deser_iocr_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_iocr_tag) *iocr_list, LSA_UINT8 *help_ptr,  LSA_UINT32* insertXRQB)
{
    LSA_UINT16 iocr_count=0;
    LSA_UINT16 i_iocr=1, i=0;
    CM_UPPER_ARCB_IOCR_PTR_TYPE iocr;
    LSA_UINT32* temp_ptr = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_iocr_tag) *head_iocr = LSA_NULL;

    head_iocr = iocr_list;

    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(iocr_count),(LSA_UINT32**)&help_ptr);          /* iocr_count */

    for (i_iocr=1;i_iocr<=iocr_count;i_iocr++)
    {
        if (i_iocr==1 && insertXRQB!=LSA_NULL)
        {
            HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&temp_ptr, HIF_SER_SIZEOF(4)+sizeof (*iocr));            /* alloc iocr in iocr_list + xRQB-pointer */
            iocr = (CM_UPPER_ARCB_IOCR_PTR_TYPE)(temp_ptr+1);
            temp_ptr = insertXRQB;
        }
        else
        {
            HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&iocr, sizeof (*iocr));            /* alloc iocr in iocr_list */
        }

        if (HIF_IS_NOT_NULL(iocr))
        {
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->iocr_type,(LSA_UINT32**)&help_ptr);               /* iocr_type */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->iocr_ref,(LSA_UINT32**)&help_ptr);                /* iocr_ref */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->iocr_properties,(LSA_UINT32**)&help_ptr);     /* iocr_properties */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->frame_id,(LSA_UINT32**)&help_ptr);                /* frame_id */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->data_length,(LSA_UINT32**)&help_ptr);         /* data_length */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->send_clock,(LSA_UINT32**)&help_ptr);          /* send_clock */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->reduction_ratio,(LSA_UINT32**)&help_ptr);     /* reduction_ratio */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->phase,(LSA_UINT32**)&help_ptr);                   /* phase */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->frame_send_offset,(LSA_UINT32**)&help_ptr);       /* frame_send_offset */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->data_hold_factor,(LSA_UINT32**)&help_ptr);        /* data_hold_factor */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->iocr_tag_header,(LSA_UINT32**)&help_ptr);     /* iocr_tag_header */
            for(i=0;i<6;i++) {                           /* create*/
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&iocr->iocr_multicast_mac.mac[i],(LSA_UINT32**)&help_ptr);                  /* node */
            }

            /* related_ioapi_list is empty */
            CmListInitialize (& iocr->related_ioapi_list);

            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_properties,(LSA_UINT32**)&help_ptr);              /* edd_properties */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_data_offset,(LSA_UINT32**)&help_ptr);             /* edd_data_offset */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->edd_cr_number,(LSA_UINT32**)&help_ptr);                   /* edd_cr_number */
            HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&iocr->edd_forward_mode,(LSA_UINT32**)&help_ptr);              /* edd_forward_mode */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_ct_outdatastart,(LSA_UINT32**)&help_ptr);         /* edd_ct_outdatastart */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->apdu_status_length,(LSA_UINT32**)&help_ptr);          /* apdu_status_length */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->partial_length,(LSA_UINT32**)&help_ptr);              /* partial_length */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->partial_offset,(LSA_UINT32**)&help_ptr);              /* partial_offset */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->subframe_data,(LSA_UINT32**)&help_ptr);               /* subframe_data */
            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->subframe_offset,(LSA_UINT32**)&help_ptr);             /* subframe_offset */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_apdustatus_offset,(LSA_UINT32**)&help_ptr);           /* edd_apdustatus_offset */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_cw_offset,(LSA_UINT32**)&help_ptr);           /* edd_cw_offset */
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_datastatus_offset,(LSA_UINT32**)&help_ptr);           /* edd_datastatus_offset */

            CmListInsertTail (head_iocr, &iocr->link);
        }
    }
    i_iocr=1;

    return help_ptr;
}



/****************************************************************************
*  Name:        hif_cm_deser_ar_list()
*  Purpose:     used to deserialize the cm ar_list
*  Input:       ar_list
*               help_ptr ... pointer to the serialized ar_list in the shm
*               ser_cl_device_add  ... some lists are only used for cl_device_add
*  Output:      -
*  Return:      -
****************************************************************************/
LSA_UINT8* hif_cm_deser_ar_list(CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *ar_list, LSA_UINT8 *help_ptr, LSA_BOOL ser_cl_device_add)
{
    LSA_UINT16 ar_list_count=0,iocr_list_count=0,related_ioapi_list_count=0,related_iodata_object_list_count=0,related_iocs_list_count=0,iocr_local_list_count=0,ap_list_count=0;
// MOD 01.01 DO 20130627
    LSA_UINT16 module_list_count=0,submodule_list_count=0,prm_record_list_count=0, mcr_list_count=0, ir_info_sub_list_count=0, ar_prm_record_list_count=0;
//  LSA_UINT16 module_list_count=0,submodule_list_count=0,prm_record_list_count=0, mcr_list_count=0, ir_info_sub_list_count=0, ar_vendor_list_count=0, ar_prm_record_list_count=0;
    LSA_UINT16 i_ar=0,i_iocr=0,i_related_ioapi=0,i_related_iodata_object=0,i_related_iocs=0,i_iocr_local=0,i_ap=0;
// MOD 01.01 DO 20130627
    LSA_UINT16 i_module=0,i_submodule=0,i_prm_record=0, i_mcr=0, i_ir_info_sub=0, i_ar_prm_record=0,i=0;
//  LSA_UINT16 i_module=0,i_submodule=0,i_prm_record=0, i_mcr=0, i_ir_info_sub=0, i_ar_vendor=0, i_ar_prm_record=0,i=0;

    CM_UPPER_ARCB_ADD_PTR_TYPE  ar;
    CM_UPPER_ARCB_IOCR_PTR_TYPE iocr;
    CM_UPPER_ARCB_IOAPI_PTR_TYPE related_ioapi;
    CM_UPPER_ARCB_IODATA_OBJECT_PTR_TYPE related_iodata_object;
    CM_UPPER_ARCB_IOCS_PTR_TYPE related_iocs;
    CM_UPPER_ARCB_IOCR_LOCAL_PTR_TYPE iocr_local;
    CM_UPPER_ARCB_AP_PTR_TYPE ap;
    CM_UPPER_ARCB_MODULE_PTR_TYPE module;
    CM_UPPER_ARCB_SUBMODULE_PTR_TYPE submodule;
    CM_UPPER_ARCB_RECORD_PTR_TYPE prm_record;
    CM_UPPER_ARCB_MCR_PTR_TYPE mcr;
    CM_UPPER_ARCB_IR_INFO_SUB_PTR_TYPE ir_info_sub;
// MOD 01.01 DO 20130627
//  CM_UPPER_ARCB_ARVENDOR_PTR_TYPE ar_vendor;
    CM_UPPER_ARCB_RECORD_PTR_TYPE ar_prm_record;

    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_ar = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_iocr = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_related_ioapi = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_related_iodata_object = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_related_iocs = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_iocr_local = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_ap = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_module = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_submodule = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_prm_record = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_mcr = LSA_NULL;
    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_ir_info_sub = LSA_NULL;
// MOD 01.01 DO 20130627
//  CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_arvendor_tag) *head_ar_vendor = LSA_NULL;

    CM_LIST_TYPED_ENTRY_TYPE(cm_arcb_add_tag) *head_ar_prm_record = LSA_NULL;

    head_ar = ar_list;

    if (HIF_IS_NOT_NULL(ar_list))
    {
        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(ar_list_count),(LSA_UINT32**)&help_ptr);          /* ar_list_count */

        for (i_ar=1;i_ar<=ar_list_count;i_ar++)
        {
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ar, sizeof (*ar));            /* alloc ap in diff_list */
                if (HIF_IS_NOT_NULL(ar))
                {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->ar_nr,(LSA_UINT32**)&help_ptr);             /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->ar_type,(LSA_UINT32**)&help_ptr);               /* ar_type */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&ar->ar_uuid.time_low,(LSA_UINT32**)&help_ptr);              /* time_low */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->ar_uuid.time_mid,(LSA_UINT32**)&help_ptr);              /* time_mid */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->ar_uuid.time_hi_and_version,(LSA_UINT32**)&help_ptr);               /* time_hi_and_version */
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&ar->ar_uuid.clock_seq_hi_and_reserved,(LSA_UINT32**)&help_ptr);       /* clock_seq_hi_and_reserved */
                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&ar->ar_uuid.clock_seq_low,(LSA_UINT32**)&help_ptr);                   /* clock_seq_low */
                for(i=0;i<6;i++) {                           /* create*/
                   HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&ar->ar_uuid.node[i],(LSA_UINT32**)&help_ptr);                  /* node */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&ar->ar_properties,(LSA_UINT32**)&help_ptr);             /* ar_properties */

                CmListInitialize (& ar->iocr_list);
                head_iocr = (CM_LIST_ENTRY_TYPE*)&ar->iocr_list;
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr_list_count,(LSA_UINT32**)&help_ptr);                   /* nr. of iocr_list */
                for (i_iocr=1;i_iocr<=iocr_list_count;i_iocr++)
                {
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&iocr, sizeof (*iocr));            /* alloc ap in diff_list */
                    if (HIF_IS_NOT_NULL(iocr))
                    {
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->iocr_type,(LSA_UINT32**)&help_ptr);               /* iocr_type */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->iocr_ref,(LSA_UINT32**)&help_ptr);                /* iocr_ref */
                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->iocr_properties,(LSA_UINT32**)&help_ptr);     /* iocr_properties */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->frame_id,(LSA_UINT32**)&help_ptr);                /* frame_id */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->data_length,(LSA_UINT32**)&help_ptr);         /* data_length */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->send_clock,(LSA_UINT32**)&help_ptr);          /* send_clock */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->reduction_ratio,(LSA_UINT32**)&help_ptr);     /* reduction_ratio */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->phase,(LSA_UINT32**)&help_ptr);                   /* phase */
                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->frame_send_offset,(LSA_UINT32**)&help_ptr);       /* frame_send_offset */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->data_hold_factor,(LSA_UINT32**)&help_ptr);        /* data_hold_factor */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->iocr_tag_header,(LSA_UINT32**)&help_ptr);     /* iocr_tag_header */
                        for(i=0;i<6;i++) {                           /* create*/
                            HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&iocr->iocr_multicast_mac.mac[i],(LSA_UINT32**)&help_ptr);                  /* node */
                        }

                        CmListInitialize (&iocr->related_ioapi_list);
                        head_related_ioapi = (CM_LIST_ENTRY_TYPE*)&iocr->related_ioapi_list;
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&related_ioapi_list_count,(LSA_UINT32**)&help_ptr);                  /* nr. of related_ioapi_count */
                        for (i_related_ioapi=1;i_related_ioapi<=related_ioapi_list_count;i_related_ioapi++)
                        {
                            HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&related_ioapi, sizeof (*related_ioapi));            /* alloc ap in diff_list */
                            if (HIF_IS_NOT_NULL(related_ioapi))
                            {
                                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&related_ioapi->api,(LSA_UINT32**)&help_ptr);        /* api */

                                CmListInitialize (&related_ioapi->related_iodata_objects_list);
                                head_related_iodata_object = (CM_LIST_ENTRY_TYPE*)&related_ioapi->related_iodata_objects_list;
                                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&related_iodata_object_list_count,(LSA_UINT32**)&help_ptr);                  /* nr. of related_iodata_object_list_count */
                                for (i_related_iodata_object=1;i_related_iodata_object<=related_iodata_object_list_count;i_related_iodata_object++)
                                {
                                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&related_iodata_object, sizeof (*related_iodata_object));            /* alloc ap in diff_list */
                                    if (HIF_IS_NOT_NULL(related_iodata_object))
                                    {
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&related_iodata_object->slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&related_iodata_object->subslot_nr,(LSA_UINT32**)&help_ptr);         /* subslot_nr */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&related_iodata_object->frame_offset,(LSA_UINT32**)&help_ptr);           /* frame_offset */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&related_iodata_object->application_offset,(LSA_UINT32**)&help_ptr); /* application_offset */

                                        CmListInsertTail (head_related_iodata_object, &related_iodata_object->link);
                                    }
                                }
                                i_related_iodata_object=1;
                                CmListInitialize (&related_ioapi->related_iocs_list);
                                head_related_iocs = (CM_LIST_ENTRY_TYPE*)&related_ioapi->related_iocs_list;
                                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&related_iocs_list_count,(LSA_UINT32**)&help_ptr);                   /* nr. of related_iocs_list_count */
                                for (i_related_iocs=1;i_related_iocs<=related_iocs_list_count;i_related_iocs++)
                                {
                                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&related_iocs, sizeof (*related_iocs));            /* alloc ap in diff_list */
                                    if (HIF_IS_NOT_NULL(related_iocs))
                                    {
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&related_iocs->slot_nr,(LSA_UINT32**)&help_ptr);             /* slot_nr */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&related_iocs->subslot_nr,(LSA_UINT32**)&help_ptr);          /* subslot_nr */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&related_iocs->frame_offset,(LSA_UINT32**)&help_ptr);            /* frame_offset */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&related_iocs->application_offset,(LSA_UINT32**)&help_ptr);  /* application_offset */

                                        CmListInsertTail (head_related_iocs, &related_iocs->link);
                                    }
                                }
                                i_related_iocs=1;
                                CmListInsertTail (head_related_ioapi, &related_ioapi->link);
                            }
                        }
                        i_related_ioapi=1;
                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_properties,(LSA_UINT32**)&help_ptr);              /* edd_properties */
                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_data_offset,(LSA_UINT32**)&help_ptr);             /* edd_data_offset */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->edd_cr_number,(LSA_UINT32**)&help_ptr);                   /* edd_cr_number */
                        HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&iocr->edd_forward_mode,(LSA_UINT32**)&help_ptr);              /* edd_forward_mode */
                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_ct_outdatastart,(LSA_UINT32**)&help_ptr);         /* edd_ct_outdatastart */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->apdu_status_length,(LSA_UINT32**)&help_ptr);          /* apdu_status_length */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->partial_length,(LSA_UINT32**)&help_ptr);              /* partial_length */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->partial_offset,(LSA_UINT32**)&help_ptr);              /* partial_offset */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->subframe_data,(LSA_UINT32**)&help_ptr);               /* subframe_data */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->subframe_offset,(LSA_UINT32**)&help_ptr);             /* subframe_offset */

                        CmListInsertTail (head_iocr, &iocr->link);
                    }
                }
                i_iocr=1;
                if (ser_cl_device_add)
                {
                    CmListInitialize (& ar->iocr_local_list);
                    head_iocr_local = (CM_LIST_ENTRY_TYPE*)&ar->iocr_local_list;
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr_local_list_count,(LSA_UINT32**)&help_ptr);                 /* nr. of iocr_local_list */
                    for (i_iocr_local=1;i_iocr_local<=iocr_local_list_count;i_iocr_local++)
                    {
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&iocr_local, sizeof (*iocr_local));            /* alloc ap in diff_list */
                        if (HIF_IS_NOT_NULL(iocr_local))
                        {
                            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr_local->iocr_ref,(LSA_UINT32**)&help_ptr);          /* iocr_ref */
                            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr_local->send_clock,(LSA_UINT32**)&help_ptr);        /* send_clock */
                            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr_local->reduction_ratio,(LSA_UINT32**)&help_ptr);   /* reduction_ratio */
                            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr_local->phase,(LSA_UINT32**)&help_ptr);             /* phase */
                            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr_local->data_hold_factor,(LSA_UINT32**)&help_ptr);  /* data_hold_factor */
                            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr_local->frame_send_offset,(LSA_UINT32**)&help_ptr); /* frame_send_offset */

                            CmListInsertTail (head_iocr_local, &iocr_local->link);
                        }
                    }
                    i_iocr_local=1;

                    if (HIF_IS_NOT_NULL(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)))  // check ar->alarm_cr pointer on shared mem
                    {
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ar->alarm_cr, sizeof(CM_ARCB_ALARM_CR_TYPE));
                        if (HIF_IS_NULL(ar->alarm_cr))
                            return (LSA_UINT8*)LSA_NULL;
                        help_ptr+=4;          /* skip pointer */
                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&ar->alarm_cr->alcr_properties,(LSA_UINT32**)&help_ptr);         /* alcr_properties */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->alarm_cr->timeout100ms,(LSA_UINT32**)&help_ptr);                /* timeout100ms */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->alarm_cr->retries,(LSA_UINT32**)&help_ptr);                 /* retries */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->alarm_cr->alcr_tag_header_high,(LSA_UINT32**)&help_ptr);        /* alcr_tag_header_high */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->alarm_cr->alcr_tag_header_low,(LSA_UINT32**)&help_ptr);     /* alcr_tag_header_low */
                    }
                    else
                    {
                        ar->alarm_cr = LSA_NULL;
                        help_ptr+=4;          /* skip pointer */
                    }

                    CmListInitialize (& ar->ap_list);
                    head_ap = (CM_LIST_ENTRY_TYPE*)&ar->ap_list;
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ap_list_count,(LSA_UINT32**)&help_ptr);                 /* nr. of ap_list_count */
                    for (i_ap=1;i_ap<=ap_list_count;i_ap++)
                    {
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ap, sizeof (*ap));            /* alloc ap in diff_list */
                        if (HIF_IS_NOT_NULL(ap))
                        {
                            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&ap->api,(LSA_UINT32**)&help_ptr);                       /* api */

                            CmListInitialize (&ap->module_list);
                            head_module = (CM_LIST_ENTRY_TYPE*)&ap->module_list;
                            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&module_list_count,(LSA_UINT32**)&help_ptr);                 /* nr. of module_list_count */
                            for (i_module=1;i_module<=module_list_count;i_module++)
                            {
                                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&module, sizeof (*module));            /* alloc ap in diff_list */
                                if (HIF_IS_NOT_NULL(module))
                                {
                                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&module->slot_nr,(LSA_UINT32**)&help_ptr);               /* slot_nr */
                                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&module->mod_properties,(LSA_UINT32**)&help_ptr);        /* mod_properties */
                                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&module->mod_ident,(LSA_UINT32**)&help_ptr);         /* mod_ident */

                                    CmListInitialize (&module->submodule_list);
                                    head_submodule = (CM_LIST_ENTRY_TYPE*)&module->submodule_list;
                                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&submodule_list_count,(LSA_UINT32**)&help_ptr);                  /* nr. of submodule_list_count */
                                    for (i_submodule=1;i_submodule<=submodule_list_count;i_submodule++)
                                    {
                                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&submodule, sizeof (*submodule));            /* alloc ap in diff_list */
                                        if (HIF_IS_NOT_NULL(submodule))
                                        {
                                            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&submodule->subslot_nr,(LSA_UINT32**)&help_ptr);         /* subslot_nr */
                                            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&submodule->sub_properties,(LSA_UINT32**)&help_ptr);     /* sub_properties */
                                            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&submodule->sub_ident,(LSA_UINT32**)&help_ptr);          /* sub_ident */
                                            for(i=0;i<2;i++) {                           /* CM_ARCB_SUBMODULE_DESCR_TYPE descr [2]  */
                                                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&submodule->descr[i].data_description,(LSA_UINT32**)&help_ptr);      /* data_description */
                                                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&submodule->descr[i].data_length,(LSA_UINT32**)&help_ptr);           /* data_length */
                                                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&submodule->descr[i].iops_length,(LSA_UINT32**)&help_ptr);         /* iops_length */
                                                HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&submodule->descr[i].iocs_length,(LSA_UINT32**)&help_ptr);         /* iocs_length */
                                            }
                #if CM_CFG_MAX_CLIENTS || CM_CFG_EVERYTHING_VISIBLE
                                            CmListInitialize (&submodule->u.cl.prm_record_list);
                                            head_prm_record = (CM_LIST_ENTRY_TYPE*)&submodule->u.cl.prm_record_list;
                                            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&prm_record_list_count,(LSA_UINT32**)&help_ptr);                 /* nr. of prm_record_list_count */
                                            for (i_prm_record=1;i_prm_record<=prm_record_list_count;i_prm_record++)
                                            {
                                                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&prm_record, sizeof (*prm_record));            /* alloc ap in diff_list */
                                                if (HIF_IS_NOT_NULL(prm_record))
                                                {
                                                    HIF_SER_COPY_SHMTH_32(&prm_record->record_index,(LSA_UINT32**)&help_ptr);                           /* record_index */
                                                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&prm_record->transfer_sequence,(LSA_UINT32**)&help_ptr);                     /* transfer_sequence */
                                                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&prm_record->record_data_len,(LSA_UINT32**)&help_ptr);                           /* record_data_len */
                                                    if (HIF_IS_NOT_NULL(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)))  // check prm_record->record_data pointer on shared mem
                                                    {
                                                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&prm_record->record_data, prm_record->record_data_len);
                                                        help_ptr+=4;
                                                        if (HIF_IS_NOT_NULL(prm_record->record_data))
                                                        {
                                                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)prm_record->record_data,(LSA_UINT32**)&help_ptr,prm_record->record_data_len);         /* record_data */
                                                        }
                                                        else
                                                            return (LSA_UINT8*) LSA_NULL;
                                                    }
                                                    else
                                                    {
                                                        prm_record->record_data = LSA_NULL;
                                                        help_ptr+=4;
                                                    }
                                                    CmListInsertTail (head_prm_record, &prm_record->link);
                                                }
                                            }
                                            i_prm_record=1;
                #endif
                                            CmListInsertTail (head_submodule, &submodule->link);
                                        }
                                    }
                                    i_submodule=1;
                                    CmListInsertTail (head_module, &module->link);
                                }
                            }
                            i_module=1;
                            CmListInsertTail (head_ap, &ap->link);
                        }
                    }
                    i_ap=1;
                    if (HIF_IS_NOT_NULL(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)))  // check ar->prm pointer on shared mem
                    {
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ar->prm, sizeof(CM_ARCB_PRM_TYPE));
                        if (HIF_IS_NULL(ar->prm))
                            return (LSA_UINT8*)LSA_NULL;
                        help_ptr+=4;          /* skip pointer */
                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&ar->prm->prm_properties,(LSA_UINT32**)&help_ptr);                   /* prm_properties */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->prm->prm_server_name_length,(LSA_UINT32**)&help_ptr);           /* prm_server_name_length */
                        if (HIF_IS_NOT_NULL(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)))  // check ar->prm->prm_server_name pointer on shared mem
                        {
                            help_ptr+=4;
                            HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ar->prm->prm_server_name, ar->prm->prm_server_name_length);
                            if (HIF_IS_NOT_NULL(ar->prm->prm_server_name))
                            {
                                HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)ar->prm,(LSA_UINT32**)&help_ptr,ar->prm->prm_server_name_length);         /* prm_server_name */
                            }
                            else
                            {
                                return (LSA_UINT8*) LSA_NULL;
                            }
                        }
                        else
                        {
                            ar->prm->prm_server_name = LSA_NULL;
                            help_ptr+=4;
                        }
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->prm->prm_vendor_id,(LSA_UINT32**)&help_ptr);            /* prm_vendor_id */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->prm->prm_device_id,(LSA_UINT32**)&help_ptr);            /* prm_device_id */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->prm->prm_instance,(LSA_UINT32**)&help_ptr);         /* prm_instance */
                    }
                    else
                    {
                        ar->prm = LSA_NULL;
                        help_ptr+=4;          /* skip pointer */
                    }
                }  // end if (ser_cl_device_add)

                CmListInitialize (&ar->mcr_list);
                head_mcr = (CM_LIST_ENTRY_TYPE*)&ar->mcr_list;
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&mcr_list_count,(LSA_UINT32**)&help_ptr);                    /* nr. of mcr_list_count */
                for (i_mcr=1;i_mcr<=mcr_list_count;i_mcr++)
                {
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&mcr, sizeof (*mcr));            /* alloc ap in diff_list */
                    if (HIF_IS_NOT_NULL(mcr))
                    {
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&mcr->iocr_ref,(LSA_UINT32**)&help_ptr);                     /* iocr_ref */
                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&mcr->mcr_properties,(LSA_UINT32**)&help_ptr);                   /* mcr_properties */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&mcr->mci_timeout_100ms,(LSA_UINT32**)&help_ptr);                /* mci_timeout_100ms */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&mcr->provider_name_length,(LSA_UINT32**)&help_ptr);         /* provider_name_length */
                        if (HIF_IS_NOT_NULL(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)))  // check mcr->provider_name pointer on shared mem
                        {
                            help_ptr+=4;
                            HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&mcr->provider_name, mcr->provider_name_length);
                            if (HIF_IS_NOT_NULL(mcr->provider_name))
                            {
                                HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)mcr->provider_name,(LSA_UINT32**)&help_ptr,mcr->provider_name_length);         /* prm_server_name */
                            }
                            else
                            {
                                return (LSA_UINT8*) LSA_NULL;
                            }
                        }
                        else
                        {
                            mcr->provider_name = LSA_NULL;
                            help_ptr+=4;
                        }
                        CmListInsertTail (head_mcr, & mcr->link);
                    }
                }
                i_mcr=1;
                if (ser_cl_device_add)
                {
                    if (HIF_IS_NOT_NULL(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)))  // check ar->ir_info pointer on shared mem
                    {
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ar->ir_info, sizeof(CM_ARCB_IR_INFO_TYPE));
                        if (HIF_IS_NULL(ar->ir_info))
                            return (LSA_UINT8*)LSA_NULL;
                        help_ptr+=4;          /* skip pointer */
                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&ar->ir_info->ir_data_uuid.time_low,(LSA_UINT32**)&help_ptr);                        /* time_low */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->ir_info->ir_data_uuid.time_mid,(LSA_UINT32**)&help_ptr);                        /* time_mid */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->ir_info->ir_data_uuid.time_hi_and_version,(LSA_UINT32**)&help_ptr);             /* time_hi_and_version */
                        HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&ar->ir_info->ir_data_uuid.clock_seq_hi_and_reserved,(LSA_UINT32**)&help_ptr);     /* clock_seq_hi_and_reserved */
                        HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&ar->ir_info->ir_data_uuid.clock_seq_low,(LSA_UINT32**)&help_ptr);                 /* clock_seq_low */
                        for(i=0;i<6;i++)
                        {                           /* ir_data_uuid.node[] */
                           HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&ar->ir_info->ir_data_uuid.node[i],(LSA_UINT32**)&help_ptr);                        /* node */
                        }

                        CmListInitialize (&ar->ir_info->ir_info_sub_list);
                        head_ir_info_sub = (CM_LIST_ENTRY_TYPE*)&ar->ir_info->ir_info_sub_list;
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ir_info_sub_list_count,(LSA_UINT32**)&help_ptr);                    /* nr. of ir_info_sub_list_count */
                        for (i_ir_info_sub=1;i_ir_info_sub<=ir_info_sub_list_count;i_ir_info_sub++)
                        {
                            HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ir_info_sub, sizeof (*ir_info_sub));            /* alloc ap in diff_list */
                            if (HIF_IS_NOT_NULL(ir_info_sub))
                            {
                                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ir_info_sub->iocr_ref,(LSA_UINT32**)&help_ptr);                         /* iocr_ref */
                                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ir_info_sub->subframe_offset,(LSA_UINT32**)&help_ptr);                  /* subframe_offset */
                                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&ir_info_sub->subframe_data,(LSA_UINT32**)&help_ptr);                        /* subframe_data */

                                CmListInsertTail (head_ir_info_sub, & ir_info_sub->link);
                            }
                        }
                        i_ir_info_sub=1;
                    }
                    else
                    {
                        ar->ir_info = LSA_NULL;
                        help_ptr+=4;          /* skip pointer */
                    }
                    if (HIF_IS_NOT_NULL(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)))  // check ar->sr_info pointer on shared mem
                    {
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ar->sr_info, sizeof(CM_ARCB_SR_INFO_TYPE));
                        if (HIF_IS_NULL(ar->sr_info))
                            return (LSA_UINT8*)LSA_NULL;
                        help_ptr+=4;          /* skip pointer */
                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->sr_info->rdh_factor,(LSA_UINT32**)&help_ptr);                   /* rdh_factor */
                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&ar->sr_info->sr_properties,(LSA_UINT32**)&help_ptr);                /* sr_properties */
                    }
                    else
                    {
                        ar->sr_info = LSA_NULL;
                        help_ptr+=4;          /* skip pointer */
                    }
                    // MOD 01.01 DO 20130627
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar->arvendor_blob.arvendor_data_len,(LSA_UINT32**)&help_ptr);           /* arvendor_data_len */
                    if (HIF_IS_NOT_NULL(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr))&& ar->arvendor_blob.arvendor_data_len>0)  // check ar->arvendor_blob.arvendor_data pointer on shared mem
                    {
                        help_ptr+=4;
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ar->arvendor_blob.arvendor_data, ar->arvendor_blob.arvendor_data_len);
                        if (HIF_IS_NOT_NULL(ar->arvendor_blob.arvendor_data))
                        {
                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)ar->prm,(LSA_UINT32**)&help_ptr,ar->arvendor_blob.arvendor_data_len);         /* arvendor_data */
                        }
                        else
                        {
                            return (LSA_UINT8*) LSA_NULL;
                        }
                    }
                    else
                    {
                        ar->arvendor_blob.arvendor_data = LSA_NULL;
                        help_ptr+=4;
                    }

//                  CmListInitialize (&ar->ar_vendor_list);
//                  head_ar_vendor = (CM_LIST_ENTRY_TYPE*)&ar->ar_vendor_list;
//                  HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar_vendor_list_count,(LSA_UINT32**)&help_ptr);                  /* nr. of ar_vendor_list_count */
//                  for (i_ar_vendor=1;i_ar_vendor<=ar_vendor_list_count;i_ar_vendor++)
//                  {
//                      HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ar_vendor, sizeof (*ar_vendor));            /* alloc ar_vendor in diff_list */
//                      if (HIF_IS_NOT_NULL(ar_vendor))
//                      {
//                          HIF_SER_COPY_SHMTH_32(&ar_vendor->api,(LSA_UINT32**)&help_ptr);                             /* api */
//                          HIF_SER_COPY_SHMTH_16(&ar_vendor->ap_structure_identifier,(LSA_UINT32**)&help_ptr);         /* ap_structure_identifier */
//                          HIF_SER_COPY_SHMTH_16(&ar_vendor->arvendor_data_len,(LSA_UINT32**)&help_ptr);               /* arvendor_data_len */
//                          if (HIF_IS_NOT_NULL(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)) && ar_vendor->arvendor_data_len>0)  // check ar_ar_vendor->arvendor_data pointer on shared mem
//                          {
//                              help_ptr+=4;
//                              HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ar_vendor->arvendor_data, ar_vendor->arvendor_data_len);
//                              if (HIF_IS_NOT_NULL(ar_vendor->arvendor_data))
//                                  HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)ar_vendor->arvendor_data,(LSA_UINT32**)&help_ptr,ar_vendor->arvendor_data_len);         /* record_data */
//                              else
//                                  return (LSA_UINT8*) LSA_NULL;
//                          }
//                          else
//                          {
//                              ar_vendor->arvendor_data = LSA_NULL;
//                              help_ptr+=4;
//                          }
//
//                          CmListInsertTail (head_ar_vendor, & ar_vendor->link);
//                      }
//                  }
//                  i_ar_vendor=1;

                    CmListInitialize (&ar->ar_prm_record_list);
                    head_ar_prm_record = (CM_LIST_ENTRY_TYPE*)&ar->ar_prm_record_list;
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar_prm_record_list_count,(LSA_UINT32**)&help_ptr);                  /* nr. of ar_prm_record_list_count */
                    for (i_ar_prm_record=1;i_ar_prm_record<=ar_prm_record_list_count;i_ar_prm_record++)
                    {
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ar_prm_record, sizeof (*ar_prm_record));            /* alloc ap in diff_list */
                        if (HIF_IS_NOT_NULL(ar_prm_record))
                        {
                            HIF_SER_COPY_SHMTH_32(&ar_prm_record->record_index,(LSA_UINT32**)&help_ptr);                /* record_index */
                            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar_prm_record->transfer_sequence,(LSA_UINT32**)&help_ptr);          /* transfer_sequence */
                            HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ar_prm_record->record_data_len,(LSA_UINT32**)&help_ptr);            /* record_data_len */
                            if (HIF_IS_NOT_NULL(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)) && ar_prm_record->record_data_len>0)  // check ar_prm_record->record_data pointer on shared mem
                            {
                                help_ptr+=4;
                                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&ar_prm_record->record_data, ar_prm_record->record_data_len);
                                if (HIF_IS_NOT_NULL(ar_prm_record->record_data))
                                {
                                    HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)ar_prm_record->record_data,(LSA_UINT32**)&help_ptr,ar_prm_record->record_data_len);         /* record_data */
                                }
                                else
                                {
                                    return (LSA_UINT8*) LSA_NULL;
                                }
                            }
                            else
                            {
                                ar_prm_record->record_data = LSA_NULL;
                                help_ptr+=4;
                            }

                            CmListInsertTail (head_ar_prm_record, & ar_prm_record->link);
                        }
                    }
                    i_ar_prm_record=1;
                    CmListInsertTail (head_ar, & ar->link);
                }  // end if (ser_cl_device_add)
            }
        }
        i_ar=1;
    }
    return help_ptr;
}




/****************************************************************************
*  Name:        hif_cm_serialize_upper()
*  Purpose:     Function serializes the RQB to the HIF shared memory - 
*               according to the component ID and OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB, stored in the hosts local memory
*               pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the HIF shared memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16  hif_cm_serialize_upper (
    HIF_SYS_HANDLE hSysDev,
    LSA_VOID*      pHifPipeHandle,
    LSA_INT        hShmPool,
    LSA_VOID*      pRqbSrc,
    LSA_VOID**     ppRqbDest,
    LSA_UINT32*    pSerRqbLen )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_UINT32 rqb_size = 0;
    LSA_OPCODE_TYPE opcode = 0;
    CM_RQB_TYPE* ptr_rqb_src = (CM_RQB_TYPE*)pRqbSrc;
    LSA_VOID** ptr_ptr_rqb_dest = ppRqbDest;
    LSA_UINT32 i=0;
    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_rqb_src)); /*#5*/
    opcode=HIF_RQB_GET_OPCODE(ptr_rqb_src);

    if (opcode==CM_OPC_OPEN_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "open" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.open)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF_SYS_PATH_TYPE();            /* sys_path */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.open);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.open))  /*#9*/
        {
            HIF_SER_SYS_PATH_HTSHM((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.open->sys_path);                        /* sys_path */
        }
    }
    else if (opcode==CM_OPC_CLOSE_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "close" pointer itself */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.close);        /* serialize pointer info itself */
    }
    else if (opcode==CM_OPC_CHANNEL_INFO)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "info" pointer itself */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.info);        /* serialize pointer info itself */
    }
    else if (opcode==CM_OPC_OVERLOAD_INFO)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "overload" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.overload)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* send_overload_counter */
            rqb_size+=HIF_SER_SIZEOF(4);            /* recv_overload_counter */
            rqb_size+=HIF_SER_SIZEOF(1);            /* send_overload_changed */
            rqb_size+=HIF_SER_SIZEOF(1);            /* recv_overload_changed */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.overload);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.overload))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.overload->send_overload_counter);                        /* send_overload_counter */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.overload->recv_overload_counter);                        /* recv_overload_counter */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.overload->send_overload_changed);                        /* send_overload_changed */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.overload->recv_overload_changed);                        /* recv_overload_changed */
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_PROVIDE_ALARM)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "alarm" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.alarm)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_priority */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.alarm))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->alarm_priority);                        /* alarm_priority */
        }
    }
    else if  ((opcode==CM_OPC_PD_ALARM_IND)
            ||(opcode==CM_OPC_CL_ALARM_IND))
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else if (opcode==CM_OPC_ALARM_IND_RES_PROVIDE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "alarm" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.alarm)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_priority */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.alarm))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->alarm_priority);                        /* alarm_priority */
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_PROVIDE_EVENT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                        /* device_nr */
        }
    }
    else if (opcode==CM_OPC_EVENT_IND_RES_PROVIDE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
    }
    else if  ((opcode==CM_OPC_CL_AR_ABORT_IND)
            ||(opcode==CM_OPC_CL_AR_ABORT_RSP)
            ||(opcode==CM_OPC_CL_AR_PRE_OFFLINE_IND)
            ||(opcode==CM_OPC_CL_AR_PRE_OFFLINE_RSP)
            ||(opcode==CM_OPC_CL_AR_OFFLINE_IND)
            ||(opcode==CM_OPC_CL_AR_OFFLINE_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(1);            /* reason_code */
            rqb_size+=HIF_SER_SIZEOF(1);            /* padding */
            rqb_size+=HIF_SER_SIZEOF(2);            /* error_cause */
            rqb_size+=(HIF_SER_SIZEOF(1) * 10);            /* additional_info */
            rqb_size+=HIF_SER_SIZEOF(4);            /* device_ip */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.ar_abort.error_cause.reason_code);                        /* reason_code */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.ar_abort.error_cause.padding);                        /* padding */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.ar_abort.error_cause.error_cause);                        /* error_cause */
            for(i=0;i<10;i++)                                    /* error_cause*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.ar_abort.error_cause.additional_info[i]);                        /* additional_info */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.ar_abort.device_ip);                        /* device_ip */
        }
    }
    else if  ((opcode==CM_OPC_CL_AR_PRE_DATA_IND)
            ||(opcode==CM_OPC_CL_AR_PRE_DATA_RSP)
            ||(opcode==CM_OPC_CL_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_CL_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRE_DATA_RSP_CM_OPC_CL_AR_IN_DATA_RSP*/

        LSA_UINT16 freeRes = 0;
        
		rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "event" pointer itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=(HIF_SER_SIZEOF(1) * 6);         /* mac */
            rqb_size+=HIF_SER_SIZEOF(4);         /* device_ip */
            rqb_size+=HIF_SER_SIZEOF(4);         /* device_subnet_mask */
            rqb_size+=HIF_SER_SIZEOF(4);         /* device_gateway_ip */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;

        /* Specialcase: Serialize xRQB - original lower RQB Pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->hif_helper);         	/* xRQB pointer */
    
        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                				/* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                			/* original upper RQB pointer */

        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                  /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                  /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                  /* session_key */
            for(i=0;i<6;i++)
            {                           /* device_mac*/
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.in_data.ip_suite.device_mac.mac[i]);                  /* mac */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.in_data.ip_suite.device_ip);                  /* device_ip */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.in_data.ip_suite.device_subnet_mask);                  /* device_subnet_mask */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.in_data.ip_suite.device_gateway_ip);                  /* device_gateway_ip */
        }

        /* Delete upper RQB buffers after upper serialization - SONDERFALL*/
        if (ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block_length>0)
        {
            // difflist free
            hif_ser_cm_free_diff_list(&ptr_rqb_src->args.channel.event->u.cl.in_data.diff_list);
            //mod_diff_block free
            HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block);       // mod_diff_block
            if (freeRes != LSA_RET_OK)
                return HIF_ERR_RESOURCE;
            ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block = (CM_UPPER_MEM_PTR_TYPE)0x17;
            ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block_length = 0;
        }
        
    }
    else if  ((opcode==CM_OPC_CL_AR_PRM_BEGIN_IND)
            ||(opcode==CM_OPC_CL_AR_PRM_BEGIN_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRM_BEGIN_RSP*/
    
		rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "event" pointer itself */
        
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;

        /* Specialcase: Serialize xRQB - original lower RQB Pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->hif_helper);         	/* xRQB pointer */
    
        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                				/* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                			/* original upper RQB pointer */
        
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);  /* serialize pointer info itself */

        /* Delete upper RQB list after serialization - SPECIAL-CASE*/
        //free prm_record_list
        hif_ser_cm_free_prm_record_list(&ptr_rqb_src->args.cl.prm_update->prm_submod.prm_record_list, LSA_NULL);
        
    }
    else if  ((opcode==CM_OPC_CL_AR_PRM_INDATA_IND)
            ||(opcode==CM_OPC_CL_AR_PRM_INDATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRM_INDATA_RSP*/

        LSA_UINT16 freeRes = 0;
        
		rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;

        /* Specialcase: Serialize xRQB - original lower RQB Pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->hif_helper);         	/* xRQB pointer */
    
        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                				/* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                			/* original upper RQB pointer */

        /* Delete upper RQB buffers after upper serialization */
        //free mod_diff_block
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src->args.channel.event->u.cl.prm_indata.mod_diff_block);       // mod_diff_block + xRQB-pointer
        HIF_ASSERT (freeRes == LSA_RET_OK);
        // difflist free
        hif_ser_cm_free_diff_list(&ptr_rqb_src->args.channel.event->u.cl.in_data.diff_list);
        //free prm_record_list
        hif_ser_cm_free_prm_record_list(&ptr_rqb_src->args.channel.event->u.cl.prm_begin.prm_submodule.prm_record_list, LSA_NULL);
        
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_ADDR_INFO_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_ADDR_INFO_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(1);            /* info_class */
            rqb_size+=HIF_SER_SIZEOF(1);            /* info_phase */
            rqb_size+=HIF_SER_SIZEOF(2);            /* reason_code */
            rqb_size+=HIF_SER_SIZEOF(2);            /* lower_rsp */
            rqb_size+=HIF_SER_SIZEOF(4);            /* pnio_status */
            rqb_size+=HIF_SER_SIZEOF(4);            /* nca_status */
            rqb_size+=(HIF_SER_SIZEOF(1) * 6);            /* mac */
            rqb_size+=HIF_SER_SIZEOF(4);            /* device_ip */
            rqb_size+=HIF_SER_SIZEOF(4);            /* device_subnet_mask */
            rqb_size+=HIF_SER_SIZEOF(4);            /* device_gateway_ip */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.info_class);                        /* info_class */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.info_phase);                        /* info_phase */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.reason_code);                        /* reason_code */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.lower_rsp);                        /* lower_rsp */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.pnio_status);                        /* pnio_status */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.nca_status);                        /* nca_status */
            for(i=0;i<6;i++)                                    /* device_mac*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.device_mac.mac[i]);                        /* mac */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.device_ip);                        /* device_ip */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.device_subnet_mask);                        /* device_subnet_mask */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.device_gateway_ip);                        /* device_gateway_ip */
        }
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_MC_EVENT_AR_IN_DATA_RSP*/

		rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;

        /* Specialcase: Serialize xRQB - original lower RQB Pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->hif_helper);         	/* xRQB pointer */
    
        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                				/* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                			/* original upper RQB pointer */

        /* Delete upper RQB list after serialization - SPECIAL-CASE*/
        //free prm_record_list
        hif_ser_cm_free_iocr_list(&ptr_rqb_src->args.channel.event->u.mc.in_data.iocr_list, LSA_NULL);
        
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_OFFLINE_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_OFFLINE_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);            /* reason_code */
            rqb_size+=HIF_SER_SIZEOF(4);            /* reason_pnio_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.ar_offline.reason_code);                        /* reason_code */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.ar_offline.reason_pnio_status);                        /* reason_pnio_status */
        }
    }
    else if  ((opcode==CM_OPC_MC_EVENT_APDU_STATUS_IND)
            ||(opcode==CM_OPC_MC_EVENT_APDU_STATUS_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);            /* apdu_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.apdu_status);                        /* apdu_status */
        }
    }
    else if (opcode==CM_OPC_IND_RES_WITHDRAW)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "withdraw" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.withdraw)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* events */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarms_high */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarms_low */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.withdraw);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.withdraw))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.withdraw->events);                        /* events */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.withdraw->alarms_high);                        /* alarms_high */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.withdraw->alarms_low);                        /* alarms_low */
        }
    }
    else if  ((opcode==CM_OPC_CL_AR_DATA_STATUS_IND)
            ||(opcode==CM_OPC_CL_AR_DATA_STATUS_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);            /* data_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.data_status);                        /* data_status */
        }
    }
    else if (opcode==CM_OPC_PD_CREATE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "create" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.create)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* max_alarm_data_length */
            rqb_size+=(HIF_SER_SIZEOF(1) * 64);            /* annotation */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "oem_data" pointer itself */
            if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.create->oem_data)) /*#6*/
            {
                rqb_size+=HIF_SER_SIZEOF(2);                /* vendor_id */
                rqb_size+=HIF_SER_SIZEOF(2);                /* device_id */
                rqb_size+=(HIF_SER_SIZEOF(1) * 64);                /* IM_Annotation */
                rqb_size+=(HIF_SER_SIZEOF(1) * 64);                /* IM_OrderID */
                rqb_size+=(HIF_SER_SIZEOF(1) * 16);                /* IM_Serial_Number */
                rqb_size+=HIF_SER_SIZEOF(2);                /* IM_Hardware_Revision */
                rqb_size+=HIF_SER_SIZEOF(1);                /* SWRevisionPrefix */
                rqb_size+=HIF_SER_SIZEOF(1);                /* IM_SWRevision_Functional_Enhancement */
                rqb_size+=HIF_SER_SIZEOF(1);                /* IM_SWRevision_Bug_Fix */
                rqb_size+=HIF_SER_SIZEOF(1);                /* IM_SWRevision_Internal_Change */
            }
            rqb_size+=HIF_SER_SIZEOF(2);            /* map_count */
            for(i=0;i<ptr_rqb_src->args.pd.create->map_count;i++)            /* map*/
            {
                rqb_size+=HIF_SER_SIZEOF(2);                /* slot_nr */
                rqb_size+=HIF_SER_SIZEOF(2);                /* subslot_nr */
                rqb_size+=HIF_SER_SIZEOF(4);                /* mod_ident */
                rqb_size+=HIF_SER_SIZEOF(4);                /* sub_ident */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.create))  /*#9*/
        {
            /* INFO: serialize the array size right after the pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->map_count);                        /* map_count */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->max_alarm_data_length);                        /* max_alarm_data_length */
            for(i=0;i<64;i++)                                    /* create*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->annotation[i]);                        /* annotation */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->oem_data);            /* serialize pointer info itself */
            if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.create->oem_data))  /*#9*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->oem_data->vendor_id);                                /* vendor_id */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->oem_data->device_id);                                /* device_id */
                for(i=0;i<64;i++)                                                /* oem_data*/
                {
                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->oem_data->IM_Annotation[i]);                                /* IM_Annotation */
                }
                for(i=0;i<64;i++)                                                /* oem_data*/
                {
                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->oem_data->IM_OrderID[i]);                                /* IM_OrderID */
                }
                for(i=0;i<16;i++)                                                /* oem_data*/
                {
                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->oem_data->IM_Serial_Number[i]);                                /* IM_Serial_Number */
                }
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->oem_data->IM_Hardware_Revision);                                /* IM_Hardware_Revision */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->oem_data->SWRevisionPrefix);                                /* SWRevisionPrefix */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->oem_data->IM_SWRevision_Functional_Enhancement);                                /* IM_SWRevision_Functional_Enhancement */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->oem_data->IM_SWRevision_Bug_Fix);                                /* IM_SWRevision_Bug_Fix */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->oem_data->IM_SWRevision_Internal_Change);                                /* IM_SWRevision_Internal_Change */
            }
            for(i=0;i<ptr_rqb_src->args.pd.create->map_count;i++)                                                /* map*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->map[i].slot_nr);                                /* slot_nr */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->map[i].subslot_nr);                                /* subslot_nr */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->map[i].mod_ident);                                /* mod_ident */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.create->map[i].sub_ident);                                /* sub_ident */
            }
        }
    }
    else if (opcode==CM_OPC_PD_DELETE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "d_lete" pointer itself */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.d_lete);        /* serialize pointer info itself */
    }
    else if (opcode==CM_OPC_PD_REMAP)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "remap" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.remap)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* map_count */
            for(i=0;i<ptr_rqb_src->args.pd.remap->map_count;i++)            /* map*/
            {
                rqb_size+=HIF_SER_SIZEOF(2);                /* slot_nr */
                rqb_size+=HIF_SER_SIZEOF(2);                /* subslot_nr */
                rqb_size+=HIF_SER_SIZEOF(4);                /* mod_ident */
                rqb_size+=HIF_SER_SIZEOF(4);                /* sub_ident */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.remap);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.remap))  /*#9*/
        {
            /* INFO: serialize the array size right after the pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.remap->map_count);                        /* map_count */
            for(i=0;i<ptr_rqb_src->args.pd.remap->map_count;i++)                                                /* map*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.remap->map[i].slot_nr);                                /* slot_nr */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.remap->map[i].subslot_nr);                                /* subslot_nr */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.remap->map[i].mod_ident);                                /* mod_ident */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.remap->map[i].sub_ident);                                /* sub_ident */
            }
        }
    }
    else if (opcode==CM_OPC_PD_LINK_STATUS_INFO)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "link_status" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.link_status)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* interface_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* port_id */
            rqb_size+=HIF_SER_SIZEOF(1);            /* status */
            rqb_size+=HIF_SER_SIZEOF(1);            /* speed */
            rqb_size+=HIF_SER_SIZEOF(1);            /* mode */
            rqb_size+=HIF_SER_SIZEOF(1);            /* autoneg */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.link_status))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->interface_id);                        /* interface_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->port_id);                        /* port_id */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->status);                        /* status */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->speed);                        /* speed */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->mode);                        /* mode */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->autoneg);                        /* autoneg */
        }
    }
    else if (opcode==CM_OPC_PD_SYNC_LED_INFO)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "sync_led_info" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.sync_led_info)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* edd_port_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* sync_led_info */
            rqb_size+=HIF_SER_SIZEOF(1);            /* is_rate_valid */
            rqb_size+=HIF_SER_SIZEOF(1);            /* rcv_sync_prio */
            rqb_size+=HIF_SER_SIZEOF(1);            /* local_prio */
            rqb_size+=HIF_SER_SIZEOF(1);            /* pll_state */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.sync_led_info))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info->edd_port_id);                        /* edd_port_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info->sync_led_info);                        /* sync_led_info */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info->is_rate_valid);                        /* is_rate_valid */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info->rcv_sync_prio);                        /* rcv_sync_prio */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info->local_prio);                        /* local_prio */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info->pll_state);                        /* pll_state */
        }
    }
    else if (opcode==CM_OPC_PD_PRM_BEGIN)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
    }
    else if (opcode==CM_OPC_PD_PRM_READ)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "prm_rdwr" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* record_index */
            rqb_size+=HIF_SER_SIZEOF(4);            /* record_data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "record_data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr->record_data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.pd.prm_rdwr->record_data_length);            /* size of: record_data */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->record_index);                        /* record_index */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->record_data_length);                        /* record_data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->record_data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr->record_data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.pd.prm_rdwr->record_data),ptr_rqb_src->args.pd.prm_rdwr->record_data_length);            /* record_data */
            }
        }
    }
    else if (opcode==CM_OPC_PD_PRM_WRITE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "prm_rdwr" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* record_index */
            rqb_size+=HIF_SER_SIZEOF(4);            /* record_data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "record_data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr->record_data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.pd.prm_rdwr->record_data_length);            /* size of: record_data */
            }
            rqb_size+=HIF_SER_SIZEOF(1);            /* mk_remanent */
            rqb_size+=HIF_SER_SIZEOF(1);            /* is_local */
            rqb_size+=HIF_SER_SIZEOF(4);            /* cls */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->record_index);                        /* record_index */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->record_data_length);                        /* record_data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->record_data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr->record_data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.pd.prm_rdwr->record_data),ptr_rqb_src->args.pd.prm_rdwr->record_data_length);            /* record_data */
            }
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->mk_remanent);                        /* mk_remanent */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->is_local);                        /* is_local */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->cls);                        /* cls */
        }
    }
    else if (opcode==CM_OPC_PD_PRM_END)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "prm_end" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_end)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* set_mrp_off */
            rqb_size+=HIF_SER_SIZEOF(4);            /* time_low */
            rqb_size+=HIF_SER_SIZEOF(2);            /* time_mid */
            rqb_size+=HIF_SER_SIZEOF(2);            /* time_hi_and_version */
            rqb_size+=HIF_SER_SIZEOF(1);            /* clock_seq_hi_and_reserved */
            rqb_size+=(HIF_SER_SIZEOF(1) * 6);            /* node */
            rqb_size+=HIF_SER_SIZEOF(1);            /* pdev_problem */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_end);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_end))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_end->set_mrp_off);                        /* set_mrp_off */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_end->ir_data_uuid.time_low);                        /* time_low */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_end->ir_data_uuid.time_mid);                        /* time_mid */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_end->ir_data_uuid.time_hi_and_version);                        /* time_hi_and_version */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_end->ir_data_uuid.clock_seq_hi_and_reserved);                        /* clock_seq_hi_and_reserved */
            for(i=0;i<6;i++)                                    /* ir_data_uuid*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_end->ir_data_uuid.node[i]);                        /* node */
            }
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_end->pdev_problem);                        /* pdev_problem */
        }
    }
    else if (opcode==CM_OPC_PD_EVENT_APPL_READY_IND)
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else if (opcode==CM_OPC_CL_CREATE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "create" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.create)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* max_devices */
            rqb_size+=(HIF_SER_SIZEOF(1) * 64);            /* annotation */
            rqb_size+=HIF_SER_SIZEOF(2);            /* vendor_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* instance */
            rqb_size+=HIF_SER_SIZEOF(2);            /* rpc_remote_application_timeout1sec */
            rqb_size+=HIF_SER_SIZEOF(4);            /* alarm_reject */
            rqb_size+=HIF_SER_SIZEOF(4);            /* alarm_priority */
            rqb_size+=HIF_SER_SIZEOF(1);            /* sr_ar_number */
            rqb_size+=HIF_SER_SIZEOF(1);            /* IOXS_Required */
            rqb_size+=HIF_SER_SIZEOF(2);            /* initial_data_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.create))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create->max_devices);                        /* max_devices */
            for(i=0;i<64;i++)                                    /* create*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create->annotation[i]);                        /* annotation */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create->vendor_id);                        /* vendor_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create->device_id);                        /* device_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create->instance);                        /* instance */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create->rpc_remote_application_timeout1sec);                        /* rpc_remote_application_timeout1sec */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create->alarm_reject);                        /* alarm_reject */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create->alarm_priority);                        /* alarm_priority */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create->sr_ar_number);                        /* sr_ar_number */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create->IOXS_Required);                        /* IOXS_Required */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.create->initial_data_status);                        /* initial_data_status */
        }
    }
    else if (opcode==CM_OPC_CL_DELETE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
    }
    else if (opcode==CM_OPC_CL_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "control" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.control)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* control_tag */
            rqb_size+=HIF_SER_SIZEOF(2);            /* apdu_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.control);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.control))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.control->control_tag);                        /* control_tag */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.control->apdu_status);                        /* apdu_status */
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_ADD)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_add" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_add)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* planned_mode */
            rqb_size+=HIF_SER_SIZEOF(4);            /* run_mode */
            rqb_size+=HIF_SER_SIZEOF(2);            /* cmi_activity_timeout100ms */
            rqb_size+=HIF_SER_SIZEOF(2);            /* properties */
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_name_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "device_name" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_add->dev_addr.device_name /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.cl.dev_add->dev_addr.device_name_length);            /* size of: device_name */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* device_ip_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "Flink" pointer itself */
            /* calculate size of list: "device_alias_list" */
            rqb_size+=hif_cm_ser_calc_device_alias_list_size(&ptr_rqb_src->args.cl.dev_add->dev_addr.device_alias_list, LSA_TRUE);
            rqb_size+=HIF_SER_SIZEOF(2);            /* vendor_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* instance */
            rqb_size+=HIF_SER_SIZEOF(2);            /* appl_timeout1sec */
            rqb_size+=HIF_SER_SIZEOF(4);            /* max_supported_record_length */
            rqb_size+=HIF_SER_SIZEOF(1);            /* write_multiple_is_supported */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "Flink" pointer itself */
            /* calculate size of list: "ar_list" */
            rqb_size+=hif_cm_ser_calc_ar_list_size(&ptr_rqb_src->args.cl.dev_add->ar_list, LSA_TRUE);
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_add))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->planned_mode);                        /* planned_mode */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->run_mode);                        /* run_mode */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->cmi_activity_timeout100ms);                        /* cmi_activity_timeout100ms */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_addr.properties);                        /* properties */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_addr.device_name_length);                        /* device_name_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_addr.device_name);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_add->dev_addr.device_name /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.cl.dev_add->dev_addr.device_name),ptr_rqb_src->args.cl.dev_add->dev_addr.device_name_length);            /* device_name */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_addr.device_ip_addr);                        /* device_ip_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_addr.device_alias_list.Flink);            /* Flink pointer to check later if a list exists*/
            /* serialize list "device_alias_list" */
            help_ptr=(LSA_UINT8*)hif_cm_ser_device_alias_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.cl.dev_add->dev_addr.device_alias_list, LSA_TRUE);
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_rpc.vendor_id);                        /* vendor_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_rpc.device_id);                        /* device_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_rpc.instance);                        /* instance */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_rpc.appl_timeout1sec);                        /* appl_timeout1sec */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_rpc.max_supported_record_length);                        /* max_supported_record_length */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_rpc.write_multiple_is_supported);                        /* write_multiple_is_supported */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->ar_list.Flink);            /* Flink pointer to check later if a list exists*/
            /* serialize list "ar_list" */
            help_ptr=(LSA_UINT8*)hif_cm_ser_ar_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.cl.dev_add->ar_list, LSA_TRUE);
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_REMOVE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_remove" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_remove)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_remove);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_remove))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_remove->device_nr);                        /* device_nr */
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_control" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_control)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* control_tag */
            rqb_size+=HIF_SER_SIZEOF(2);            /* apdu_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_control);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_control))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_control->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_control->control_tag);                        /* control_tag */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_control->apdu_status);                        /* apdu_status */
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_READ)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "read" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);            /* api */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* record_index */
            rqb_size+=HIF_SER_SIZEOF(2);            /* sequence_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read->rec.data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.cl.read->rec.data_length);            /* size of: data */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* readquery_length */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.api);                        /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.record_index);                        /* record_index */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.sequence_nr);                        /* sequence_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.data_length);                        /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read->rec.data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.cl.read->rec.data),ptr_rqb_src->args.cl.read->rec.data_length);            /* data */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.readquery_length);                        /* readquery_length */
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_READ_QUERY)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "read" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);            /* api */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* record_index */
            rqb_size+=HIF_SER_SIZEOF(2);            /* sequence_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read->rec.data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.cl.read->rec.data_length);            /* size of: data */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.api);                        /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.record_index);                        /* record_index */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.sequence_nr);                        /* sequence_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.data_length);                        /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read->rec.data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.cl.read->rec.data),ptr_rqb_src->args.cl.read->rec.data_length);            /* data */
            }
        }
    }
    else if  ((opcode==CM_OPC_CL_RECORD_READ_IMPLICIT)
            ||(opcode==CM_OPC_CL_RECORD_READ_IMPLICIT_QUERY))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "read_implicit" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* properties */
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_name_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "device_name" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit->dev_addr.device_name /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.cl.read_implicit->dev_addr.device_name_length);            /* size of: device_name */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* device_ip_addr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* vendor_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* instance */
            rqb_size+=HIF_SER_SIZEOF(2);            /* appl_timeout1sec */
            rqb_size+=HIF_SER_SIZEOF(4);            /* time_low */
            rqb_size+=HIF_SER_SIZEOF(2);            /* time_mid */
            rqb_size+=HIF_SER_SIZEOF(2);            /* time_hi_and_version */
            rqb_size+=HIF_SER_SIZEOF(1);            /* clock_seq_hi_and_reserved */
            rqb_size+=HIF_SER_SIZEOF(1);            /* clock_seq_low */
            rqb_size+=(HIF_SER_SIZEOF(1) * 6);            /* node */
            rqb_size+=HIF_SER_SIZEOF(4);            /* api */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* record_index */
            rqb_size+=HIF_SER_SIZEOF(4);            /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit->rec.data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.cl.read_implicit->rec.data_length);            /* size of: data */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->dev_addr.properties);                        /* properties */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->dev_addr.device_name_length);                        /* device_name_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->dev_addr.device_name);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit->dev_addr.device_name /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.cl.read_implicit->dev_addr.device_name),ptr_rqb_src->args.cl.read_implicit->dev_addr.device_name_length);            /* device_name */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->dev_addr.device_ip_addr);                        /* device_ip_addr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->dev_rpc.vendor_id);                        /* vendor_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->dev_rpc.device_id);                        /* device_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->dev_rpc.instance);                        /* instance */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->dev_rpc.appl_timeout1sec);                        /* appl_timeout1sec */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->target_uuid.time_low);                        /* time_low */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->target_uuid.time_mid);                        /* time_mid */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->target_uuid.time_hi_and_version);                        /* time_hi_and_version */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->target_uuid.clock_seq_hi_and_reserved);                        /* clock_seq_hi_and_reserved */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->target_uuid.clock_seq_low);                        /* clock_seq_low */
            for(i=0;i<6;i++)                                    /* target_uuid*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->target_uuid.node[i]);                        /* node */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.api);                        /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.record_index);                        /* record_index */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.data_length);                        /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit->rec.data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.cl.read_implicit->rec.data),ptr_rqb_src->args.cl.read_implicit->rec.data_length);            /* data */
            }
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_WRITE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "write" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);            /* api */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* record_index */
            rqb_size+=HIF_SER_SIZEOF(2);            /* sequence_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write->rec.data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.cl.write->rec.data_length);            /* size of: data */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->rec.api);                        /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->rec.slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->rec.subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->rec.record_index);                        /* record_index */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->rec.sequence_nr);                        /* sequence_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->rec.data_length);                        /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->rec.data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write->rec.data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.cl.write->rec.data),ptr_rqb_src->args.cl.write->rec.data_length);            /* data */
            }
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_WRITE_MULTIPLE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "write_multiple" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write_multiple)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);            /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write_multiple->data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.cl.write_multiple->data_length);            /* size of: data */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "Flink" pointer itself */
            /* calculate size of list: "rec_list" */
            rqb_size+=hif_cm_ser_calc_rec_list_size(&ptr_rqb_src->args.cl.write_multiple->rec_list, LSA_TRUE);
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write_multiple);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write_multiple))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write_multiple->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write_multiple->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write_multiple->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write_multiple->data_length);                        /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write_multiple->data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write_multiple->data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.cl.write_multiple->data),ptr_rqb_src->args.cl.write_multiple->data_length);            /* data */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write_multiple->rec_list.Flink);            /* Flink pointer to check later if a list exists*/
            /* serialize list "rec_list" */
            help_ptr=(LSA_UINT8*)hif_cm_ser_rec_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.cl.write_multiple->rec_list, LSA_TRUE);
        }
    }
    else if (opcode==CM_OPC_CL_ALARM_SEND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "alarm_send" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_send)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);            /* api */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_type */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_tag */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "alarm_data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_send->alarm_data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.cl.alarm_send->alarm_data_length);            /* size of: alarm_data */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_send))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->api);                        /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->alarm_type);                        /* alarm_type */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->alarm_tag);                        /* alarm_tag */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->alarm_data_length);                        /* alarm_data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->alarm_data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_send->alarm_data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.cl.alarm_send->alarm_data),ptr_rqb_src->args.cl.alarm_send->alarm_data_length);            /* alarm_data */
            }
        }
    }
    else if (opcode==CM_OPC_CL_ALARM_ACK_SEND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "alarm_ack_send" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_ack_send)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_priority */
            rqb_size+=HIF_SER_SIZEOF(4);            /* api */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_type */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_sequence */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_channel_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_generic_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_submod_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* reserved */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ar_diagnosis_state */
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_ack_send))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->alarm_priority);                        /* alarm_priority */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->api);                        /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->alarm_type);                        /* alarm_type */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->alarm_sequence);                        /* alarm_sequence */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->diag_channel_available);                        /* diag_channel_available */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->diag_generic_available);                        /* diag_generic_available */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->diag_submod_available);                        /* diag_submod_available */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->reserved);                        /* reserved */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->ar_diagnosis_state);                        /* ar_diagnosis_state */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->cm_pnio_err);                        /* cm_pnio_err */
        }
    }
    else if (opcode==CM_OPC_CL_LOGBOOK_READ)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "logbook_read" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.logbook_read)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* entry_count */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.logbook_read))  /*#9*/
        {
            /* INFO: serialize the array size right after the pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read->entry_count);                        /* entry_count */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read->ar_nr);                        /* ar_nr */
        }
    }
    else if (opcode==CM_OPC_CL_PRM_UPDATE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "prm_update" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.prm_update)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* prm_mode */
            rqb_size+=HIF_SER_SIZEOF(4);            /* api */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "Flink" pointer itself */
            /* calculate size of list: "prm_record_list" */
            rqb_size+=hif_cm_ser_calc_prm_record_list_size(&ptr_rqb_src->args.cl.prm_update->prm_submod.prm_record_list, LSA_TRUE);
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.prm_update);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.prm_update))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.prm_update->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.prm_update->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.prm_update->prm_mode);                        /* prm_mode */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.prm_update->prm_submod.api);                        /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.prm_update->prm_submod.slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.prm_update->prm_submod.subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.prm_update->prm_submod.prm_record_list.Flink);            /* Flink pointer to check later if a list exists*/
            /* serialize list "prm_record_list" */
            help_ptr=(LSA_UINT8*)hif_cm_ser_prm_record_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.cl.prm_update->prm_submod.prm_record_list, LSA_TRUE);
        }
    }
    else if (opcode==CM_OPC_SV_CREATE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "create" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.create)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* rpc_remote_application_timeout1sec */
            rqb_size+=HIF_SER_SIZEOF(4);            /* alarm_priority */
            rqb_size+=HIF_SER_SIZEOF(1);            /* can_RecordDataReadQuery */
            rqb_size+=HIF_SER_SIZEOF(1);            /* can_ARFSUDataAdjust */
            rqb_size+=HIF_SER_SIZEOF(1);            /* enable_AlarmResponder */
            rqb_size+=HIF_SER_SIZEOF(1);            /* enable_DataStatusIndication */
            rqb_size+=HIF_SER_SIZEOF(1);            /* IOXS_Required */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.create);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.create))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.create->rpc_remote_application_timeout1sec);                        /* rpc_remote_application_timeout1sec */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.create->alarm_priority);                        /* alarm_priority */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.create->can_RecordDataReadQuery);                        /* can_RecordDataReadQuery */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.create->can_ARFSUDataAdjust);                        /* can_ARFSUDataAdjust */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.create->enable_AlarmResponder);                        /* enable_AlarmResponder */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.create->enable_DataStatusIndication);                        /* enable_DataStatusIndication */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.create->IOXS_Required);                        /* IOXS_Required */
        }
    }
    else if (opcode==CM_OPC_SV_DELETE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
    }
    else if (opcode==CM_OPC_SV_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "control" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.control)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* cmd */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.control);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.control))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.control->cmd);                        /* cmd */
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_ADD)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_add" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_add)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* vendor_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* instance */
            rqb_size+=(HIF_SER_SIZEOF(1) * 64);            /* annotation */
            rqb_size+=HIF_SER_SIZEOF(2);            /* max_ars_IOC */
            rqb_size+=HIF_SER_SIZEOF(2);            /* max_ars_IOS */
            rqb_size+=HIF_SER_SIZEOF(2);            /* max_ars_DAC */
            rqb_size+=HIF_SER_SIZEOF(2);            /* max_slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* max_subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* max_nr_of_subslots */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_send_max_length */
            rqb_size+=HIF_SER_SIZEOF(1);            /* contains_pdev */
            rqb_size+=HIF_SER_SIZEOF(1);            /* central_pdev */
            rqb_size+=HIF_SER_SIZEOF(1);            /* parking_mode */
            rqb_size+=HIF_SER_SIZEOF(2);            /* write_multiple_parallelism */
            rqb_size+=HIF_SER_SIZEOF(1);            /* SRD_enabled */
            rqb_size+=HIF_SER_SIZEOF(1);            /* CIR_enabled */
            rqb_size+=HIF_SER_SIZEOF(1);            /* PDevPrmInd_enabled */
            rqb_size+=HIF_SER_SIZEOF(2);            /* min_device_interval_31250ns */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_add))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->vendor_id);                        /* vendor_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->device_id);                        /* device_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->instance);                        /* instance */
            for(i=0;i<64;i++)                                    /* dev_add*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->annotation[i]);                        /* annotation */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->max_ars_IOC);                        /* max_ars_IOC */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->max_ars_IOS);                        /* max_ars_IOS */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->max_ars_DAC);                        /* max_ars_DAC */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->max_slot_nr);                        /* max_slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->max_subslot_nr);                        /* max_subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->max_nr_of_subslots);                        /* max_nr_of_subslots */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->alarm_send_max_length);                        /* alarm_send_max_length */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->contains_pdev);                        /* contains_pdev */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->central_pdev);                        /* central_pdev */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->parking_mode);                        /* parking_mode */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->write_multiple_parallelism);                        /* write_multiple_parallelism */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->SRD_enabled);                        /* SRD_enabled */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->CIR_enabled);                        /* CIR_enabled */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->PDevPrmInd_enabled);                        /* PDevPrmInd_enabled */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->min_device_interval_31250ns);                        /* min_device_interval_31250ns */
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_REMOVE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_remove" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_remove)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_remove);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_remove))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_remove->device_nr);                        /* device_nr */
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_READ)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_read" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_read)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_read->data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.sv.dev_read->data_length);            /* size of: data */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* api */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* record_index */
            rqb_size+=HIF_SER_SIZEOF(4);            /* time_low */
            rqb_size+=HIF_SER_SIZEOF(2);            /* time_mid */
            rqb_size+=HIF_SER_SIZEOF(2);            /* time_hi_and_version */
            rqb_size+=HIF_SER_SIZEOF(1);            /* clock_seq_hi_and_reserved */
            rqb_size+=HIF_SER_SIZEOF(1);            /* clock_seq_low */
            rqb_size+=(HIF_SER_SIZEOF(1) * 6);            /* node */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_read))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->data_length);                        /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_read->data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.dev_read->data),ptr_rqb_src->args.sv.dev_read->data_length);            /* data */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->api);                        /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->record_index);                        /* record_index */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->target_ar_uuid.time_low);                        /* time_low */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->target_ar_uuid.time_mid);                        /* time_mid */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->target_ar_uuid.time_hi_and_version);                        /* time_hi_and_version */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->target_ar_uuid.clock_seq_hi_and_reserved);                        /* clock_seq_hi_and_reserved */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->target_ar_uuid.clock_seq_low);                        /* clock_seq_low */
            for(i=0;i<6;i++)                                    /* target_ar_uuid*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->target_ar_uuid.node[i]);                        /* node */
            }
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_control" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_control)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* cmd */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_control);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_control))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_control->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_control->cmd);                        /* cmd */
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_LED_INFO)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_led_info" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_led_info)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* led_info */
            rqb_size+=HIF_SER_SIZEOF(4);            /* maint_info */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_led_info);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_led_info))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_led_info->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_led_info->led_info);                        /* led_info */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_led_info->maint_info);                        /* maint_info */
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_PROVIDE_EVENT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_provide_event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_provide_event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_provide_event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_provide_event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_provide_event->device_nr);                        /* device_nr */
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_PROVIDE_ALARM)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_provide_alarm" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_provide_alarm)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_priority */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_provide_alarm);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_provide_alarm))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_provide_alarm->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_provide_alarm->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_provide_alarm->alarm_priority);                        /* alarm_priority */
        }
    }
    else if (opcode==CM_OPC_SV_SUBMODULE_ADD)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "submod_add" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.submod_add)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* nr_of_elems */
            for(i=0;i<ptr_rqb_src->args.sv.submod_add->nr_of_elems;i++)            /* elem*/
            {
                rqb_size+=HIF_SER_SIZEOF(4);                /* api */
                rqb_size+=HIF_SER_SIZEOF(2);                /* slot_nr */
                rqb_size+=HIF_SER_SIZEOF(2);                /* subslot_nr */
                rqb_size+=HIF_SER_SIZEOF(4);                /* mod_ident */
                rqb_size+=HIF_SER_SIZEOF(4);                /* sub_ident */
                rqb_size+=HIF_SER_SIZEOF(1);                /* im0_bits */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_add);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.submod_add))  /*#9*/
        {
            /* INFO: serialize the array size right after the pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_add->nr_of_elems);                        /* nr_of_elems */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_add->device_nr);                        /* device_nr */
            for(i=0;i<ptr_rqb_src->args.sv.submod_add->nr_of_elems;i++)                                                /* elem*/
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_add->elem[i].api);                                /* api */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_add->elem[i].slot_nr);                                /* slot_nr */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_add->elem[i].subslot_nr);                                /* subslot_nr */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_add->elem[i].mod_ident);                                /* mod_ident */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_add->elem[i].sub_ident);                                /* sub_ident */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_add->elem[i].im0_bits);                                /* im0_bits */
            }
        }
    }
    else if (opcode==CM_OPC_SV_SUBMODULE_REMOVE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "submod_remove" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.submod_remove)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* nr_of_elems */
            for(i=0;i<ptr_rqb_src->args.sv.submod_remove->nr_of_elems;i++)            /* elem*/
            {
                rqb_size+=HIF_SER_SIZEOF(4);                /* api */
                rqb_size+=HIF_SER_SIZEOF(2);                /* slot_nr */
                rqb_size+=HIF_SER_SIZEOF(2);                /* subslot_nr */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_remove);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.submod_remove))  /*#9*/
        {
            /* INFO: serialize the array size right after the pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_remove->nr_of_elems);                        /* nr_of_elems */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_remove->device_nr);                        /* device_nr */
            for(i=0;i<ptr_rqb_src->args.sv.submod_remove->nr_of_elems;i++)                                                /* elem*/
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_remove->elem[i].api);                                /* api */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_remove->elem[i].slot_nr);                                /* slot_nr */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_remove->elem[i].subslot_nr);                                /* subslot_nr */
            }
        }
    }
    else if  ((opcode==CM_OPC_SV_DIAG_ADD)
            ||(opcode==CM_OPC_SV_DIAG_ADD2)
            ||(opcode==CM_OPC_SV_DIAG_REMOVE2))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_SV_DIAG_ADD_PTR_TYPE_CM_OPC_SV_DIAG_ADD_CM_OPC_SV_DIAG_ADD2_CM_OPC_SV_DIAG_REMOVE2*/

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "diag_add" pointer itself */
        if(ptr_rqb_src->args.sv.diag_add != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* nr_of_elems */
            for(i=0;i<ptr_rqb_src->args.sv.diag_add->nr_of_elems;i++)
            {         /* elem*/
                rqb_size+=HIF_SER_SIZEOF(4);           /* api */
                rqb_size+=HIF_SER_SIZEOF(2);           /* slot_nr */
                rqb_size+=HIF_SER_SIZEOF(2);           /* subslot_nr */
                rqb_size+=HIF_SER_SIZEOF(4);           /* diag_tag */
                rqb_size+=HIF_SER_SIZEOF(2);           /* diag_type */
                rqb_size+=HIF_SER_SIZEOF(2);           /* channel_number */
                rqb_size+=HIF_SER_SIZEOF(2);           /* channel_properties */

                if (ptr_rqb_src->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_CHANNEL)
                {
                    rqb_size+=HIF_SER_SIZEOF(2);           /* channel_error_type */
                }
                else if (ptr_rqb_src->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_EXT_CHANNEL)
                {
                    rqb_size+=HIF_SER_SIZEOF(2);           /* channel_error_type */
                    rqb_size+=HIF_SER_SIZEOF(2);           /* ext_channel_error_type */
                    rqb_size+=HIF_SER_SIZEOF(4);           /* ext_channel_add_value */
                }
                else if (ptr_rqb_src->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_QUALIFIED)
                {
                    rqb_size+=HIF_SER_SIZEOF(2);           /* channel_error_type */
                    rqb_size+=HIF_SER_SIZEOF(2);           /* ext_channel_error_type */
                    rqb_size+=HIF_SER_SIZEOF(4);           /* ext_channel_add_value */
                    rqb_size+=HIF_SER_SIZEOF(4);           /* qualified_channel_qualifier */
                }
                else if (ptr_rqb_src->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_GENERIC)
                {
                    rqb_size+=HIF_SER_SIZEOF(2);           /* info_tag */
                    rqb_size+=HIF_SER_SIZEOF(2);           /* info_length */
                    rqb_size+=HIF_SER_SIZEOF(4);           /* serialize "info_data" pointer itself */
                    if (ptr_rqb_src->args.sv.diag_add->elem[i].u.gen.info_data != LSA_NULL)
                    rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.sv.diag_add->elem[i].u.gen.info_length);           /* size of: info_data */
                }
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);              /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);              /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.sv.diag_add != LSA_NULL)
        {
            /* INFO: serialize the array size right after the pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->nr_of_elems);                  /* nr_of_elems */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->device_nr);                  /* device_nr */
            for(i=0;i<ptr_rqb_src->args.sv.diag_add->nr_of_elems;i++)
            {                                    /* elem*/
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].api);                      /* api */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].slot_nr);                      /* slot_nr */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].subslot_nr);                      /* subslot_nr */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].diag_tag);                      /* diag_tag */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].diag_type);                      /* diag_type */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].channel_number);                      /* channel_number */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].channel_properties);                      /* channel_properties */

                if (ptr_rqb_src->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_CHANNEL)
                {
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].u.ch.channel_error_type);                      /* channel_error_type */
                }
                else if (ptr_rqb_src->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_EXT_CHANNEL)
                {
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].u.ext.channel_error_type);                      /* channel_error_type */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].u.ext.ext_channel_error_type);                      /* ext_channel_error_type */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].u.ext.ext_channel_add_value);                      /* ext_channel_add_value */
                }
                else if (ptr_rqb_src->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_QUALIFIED)
                {
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].u.qua.channel_error_type);                      /* channel_error_type */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].u.qua.ext_channel_error_type);                      /* ext_channel_error_type */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].u.qua.ext_channel_add_value);                      /* ext_channel_add_value */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].u.qua.qualified_channel_qualifier);                      /* qualified_channel_qualifier */
                }
                else if (ptr_rqb_src->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_GENERIC)
                {
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].u.gen.info_tag);                      /* info_tag */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].u.gen.info_length);                      /* info_length */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].u.gen.info_data);           /* serialize pointer info itself */
                    if (ptr_rqb_src->args.sv.diag_add->elem[i].u.gen.info_data != LSA_NULL && ptr_rqb_src->args.sv.diag_add->elem[i].u.gen.info_length > 0)
                    HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.diag_add->elem[i].u.gen.info_data),ptr_rqb_src->args.sv.diag_add->elem[i].u.gen.info_length);           /* info_data */
                }
            }
        }
        
    }
    else if (opcode==CM_OPC_SV_DIAG_REMOVE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "diag_remove" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.diag_remove)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* nr_of_elems */
            for(i=0;i<ptr_rqb_src->args.sv.diag_remove->nr_of_elems;i++)            /* elem*/
            {
                rqb_size+=HIF_SER_SIZEOF(4);                /* api */
                rqb_size+=HIF_SER_SIZEOF(2);                /* slot_nr */
                rqb_size+=HIF_SER_SIZEOF(2);                /* subslot_nr */
                rqb_size+=HIF_SER_SIZEOF(4);                /* diag_tag */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_remove);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.diag_remove))  /*#9*/
        {
            /* INFO: serialize the array size right after the pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_remove->nr_of_elems);                        /* nr_of_elems */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_remove->device_nr);                        /* device_nr */
            for(i=0;i<ptr_rqb_src->args.sv.diag_remove->nr_of_elems;i++)                                                /* elem*/
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_remove->elem[i].api);                                /* api */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_remove->elem[i].slot_nr);                                /* slot_nr */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_remove->elem[i].subslot_nr);                                /* subslot_nr */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_remove->elem[i].diag_tag);                                /* diag_tag */
            }
        }
    }
    else if (opcode==CM_OPC_SV_ARSET_TRIGGER)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "arset_trigger" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.arset_trigger)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(1);            /* is_primary */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.arset_trigger);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.arset_trigger))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.arset_trigger->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.arset_trigger->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.arset_trigger->is_primary);                        /* is_primary */
        }
    }
    else if (opcode==CM_OPC_SV_ARSET_ABORT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "arset_abort" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.arset_abort)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* arset_nr */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.arset_abort);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.arset_abort))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.arset_abort->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.arset_abort->arset_nr);                        /* arset_nr */
        }
    }
    else if (opcode==CM_OPC_SV_AR_APPL_READY)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_appl_ready" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_appl_ready)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* nr_of_elems */
            for(i=0;i<ptr_rqb_src->args.sv.ar_appl_ready->nr_of_elems;i++)            /* elem*/
            {
                rqb_size+=HIF_SER_SIZEOF(2);                /* session_key */
                rqb_size+=HIF_SER_SIZEOF(4);                /* api */
                rqb_size+=HIF_SER_SIZEOF(2);                /* slot_nr */
                rqb_size+=HIF_SER_SIZEOF(2);                /* subslot_nr */
                rqb_size+=HIF_SER_SIZEOF(1);                /* appl_ready_pending */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_appl_ready);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_appl_ready))  /*#9*/
        {
            /* INFO: serialize the array size right after the pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_appl_ready->nr_of_elems);                        /* nr_of_elems */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_appl_ready->device_nr);                        /* device_nr */
            for(i=0;i<ptr_rqb_src->args.sv.ar_appl_ready->nr_of_elems;i++)                                                /* elem*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_appl_ready->elem[i].session_key);                                /* session_key */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_appl_ready->elem[i].api);                                /* api */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_appl_ready->elem[i].slot_nr);                                /* slot_nr */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_appl_ready->elem[i].subslot_nr);                                /* subslot_nr */
                HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_appl_ready->elem[i].appl_ready_pending);                                /* appl_ready_pending */
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_control" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_control)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);            /* cmd */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_control);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_control))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_control->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_control->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_control->cmd);                        /* cmd */
        }
    }
    else if (opcode==CM_OPC_SV_AR_ABORT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_abort" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_abort)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_abort);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_abort))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_abort->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_abort->session_key);                        /* session_key */
        }
    }
    else if (opcode==CM_OPC_SV_AR_PDEVPRM_READ)
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_SV_AR_PDEVPRM_RDWR_PTR_TYPE_CM_OPC_SV_AR_PDEVPRM_READ*/

        rqb_size+=HIF_SER_SIZEOF(4);                    /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();         /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* serialize "ar_pdevprm_rdwr" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* record_index */
            rqb_size+=HIF_SER_SIZEOF(4);            /* record_data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "record_data" pointer itself */
            /* No need to serialize buffer
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data_length);            // size of: record_data
            }
            */
            rqb_size+=HIF_SER_SIZEOF(1);            /* mk_remanent */
            rqb_size+=HIF_SER_SIZEOF(1);            /* is_local */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->device_nr);                 /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->session_key);               /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.slot_nr);               /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.subslot_nr);            /* subslot_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_index);          /* record_index */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data_length);    /* record_data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data);           /* serialize pointer info itself */
            /* No need to serialize buffer
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data )) //#11
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data),ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data_length);            // record_data
            }
            */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.mk_remanent);                        /* mk_remanent */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.is_local);                        /* is_local */
        }
        
    }
    else if (opcode==CM_OPC_SV_AR_PDEVPRM_WRITE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_pdevprm_rdwr" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* record_index */
            rqb_size+=HIF_SER_SIZEOF(4);            /* record_data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "record_data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data_length);            /* size of: record_data */
            }
            rqb_size+=HIF_SER_SIZEOF(1);            /* mk_remanent */
            rqb_size+=HIF_SER_SIZEOF(1);            /* is_local */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_index);                        /* record_index */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data_length);                        /* record_data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data),ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data_length);            /* record_data */
            }
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.mk_remanent);                        /* mk_remanent */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.is_local);                        /* is_local */
        }
    }
    else if (opcode==CM_OPC_SV_AR_RIR_ACK)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_rir_ack" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_rir_ack)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_rir_ack);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_rir_ack))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_rir_ack->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_rir_ack->session_key);                        /* session_key */
        }
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_SEND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_alarm_send" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_send)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);            /* api */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_type */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_tag */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "alarm_data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_send->alarm_data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.sv.ar_alarm_send->alarm_data_length);            /* size of: alarm_data */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_send))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->api);                        /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_type);                        /* alarm_type */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_tag);                        /* alarm_tag */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_data_length);                        /* alarm_data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_send->alarm_data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_alarm_send->alarm_data),ptr_rqb_src->args.sv.ar_alarm_send->alarm_data_length);            /* alarm_data */
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_RSP)
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_ALARM_PTR_TYPE_CM_OPC_SV_AR_ALARM_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        LSA_UINT16 freeRes = 0;

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);       /* lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_alarm_send" pointer itself */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        //HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,(LSA_UINT32*)ptr_rqb_src);            /* original upper RQB pointer */
        temp_ptr = (LSA_UINT32*)ptr_rqb_src->args.sv.ar_alarm_send->alarm_data-1;            /* xRQB pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*temp_ptr);                /* xRQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                    /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);              /* original upper RQB pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send);       /* serialize pointer info itself */

        /* Delete upper RQB buffers after upper serialization - SONDERFALL*/
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_send->alarm_data))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_alarm_send->alarm_data-4);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
            ptr_rqb_src->args.sv.ar_alarm_send->alarm_data=LSA_NULL;
        }
        
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_IND)
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_ACK)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_alarm_ack" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_ack)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_priority */
            rqb_size+=HIF_SER_SIZEOF(4);            /* api */
            rqb_size+=HIF_SER_SIZEOF(2);            /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_type */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_sequence */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_channel_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_generic_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_submod_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* reserved */
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_ack))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->alarm_priority);                        /* alarm_priority */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->api);                        /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->slot_nr);                        /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->subslot_nr);                        /* subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->alarm_type);                        /* alarm_type */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->alarm_sequence);                        /* alarm_sequence */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->diag_channel_available);                        /* diag_channel_available */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->diag_generic_available);                        /* diag_generic_available */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->diag_submod_available);                        /* diag_submod_available */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->reserved);                        /* reserved */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->cm_pnio_err);                        /* cm_pnio_err */
        }
    }
    else if  ((opcode==CM_OPC_SV_AR_CONNECT_IND)
            ||(opcode==CM_OPC_SV_AR_CONNECT_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_CONNECT_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        LSA_UINT16 freeRes = 0;

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);       /* lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_event" pointer itself */
        rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "ar_connect" pointer itself */

        {
            CM_UPPER_SV_AR_CONNECT_PTR_TYPE ar_connect = ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect;
            rqb_size+=HIF_SER_SIZEOF(4);           /* ARVendorBlock_cnt */
            if( ar_connect->ARVendorBlock_cnt != 0 )
            {
                rqb_size+=HIF_SER_SIZEOF(4);           /* size helper */
                rqb_size+=HIF_SER_SIZEOF(ar_connect->ARVendorBlock_ptr[ar_connect->ARVendorBlock_cnt]); /* size to copy */
            }
        }

        rqb_size+=HIF_SER_SIZEOF(2);       /* nr_of_iocrs */
        for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->nr_of_iocrs;i++)
        {       /* iocr*/
            rqb_size+=HIF_SER_SIZEOF(4);         /* iocr_user_id */
            rqb_size+=HIF_SER_SIZEOF(2);         /* cycle_phase */
            rqb_size+=HIF_SER_SIZEOF(4);         /* eddx_data_offset */
            rqb_size+=HIF_SER_SIZEOF(4);         /* eddi_buffer_properties   */
            rqb_size+=HIF_SER_SIZEOF(2);         /* eddx_cr_number */
            rqb_size+=HIF_SER_SIZEOF(1);         /* eddp_forward_mode   */
            rqb_size+=HIF_SER_SIZEOF(4);         /* eddp_ct_outdatastart */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        //HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,(LSA_UINT32*)ptr_rqb_src);            /* original upper RQB pointer */
        temp_ptr = (LSA_UINT32*)ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect-1;            /* xRQB pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*temp_ptr);                /* xRQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                              /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));         /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                        /* original upper RQB pointer */

        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);       /* serialize pointer info itself */

        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect);      /* serialize pointer info itself */

        {
            CM_UPPER_SV_AR_CONNECT_PTR_TYPE ar_connect = ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect;
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr, ar_connect->ARVendorBlock_cnt);                               /* ARVendorBlock_cnt */
            if (ar_connect->ARVendorBlock_ptr != LSA_NULL && ar_connect->ARVendorBlock_cnt != 0)
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr, ar_connect->ARVendorBlock_ptr[ar_connect->ARVendorBlock_cnt]); /* size helper */
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)ar_connect->ARVendorBlock_ptr, ar_connect->ARVendorBlock_ptr[ar_connect->ARVendorBlock_cnt]); /* size to copy */
            }
        }

        /* INFO: serialize the array size right after the pointer */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->nr_of_iocrs);              /* nr_of_iocrs */
        for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->nr_of_iocrs;i++)
        {                            /* iocr*/
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].iocr_user_id.uvar32);                  /* iocr_user_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].cycle_phase);                  /* cycle_phase */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddx_data_offset);                  /* eddx_data_offset */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddi_buffer_properties  );                  /* eddi_buffer_properties   */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddx_cr_number);                  /* eddx_cr_number */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddp_forward_mode  );                  /* eddp_forward_mode   */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddp_ct_outdatastart);                  /* eddp_ct_outdatastart */
        }
        /* Delete upper RQB buffers after upper serialization - SONDERFALL*/

        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_station_name))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT32*)ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_station_name);
            if (freeRes != LSA_RET_OK)
                return HIF_ERR_RESOURCE;
            ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_station_name = LSA_NULL;
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ARVendorBlock_ptr))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ARVendorBlock_ptr);
            if (freeRes != LSA_RET_OK)
                return HIF_ERR_RESOURCE;
            ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect = LSA_NULL;
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr);
            if (freeRes != LSA_RET_OK)
                return HIF_ERR_RESOURCE;
            ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr = LSA_NULL;
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect)-1);
            if (freeRes != LSA_RET_OK)
                return HIF_ERR_RESOURCE;
            ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect = LSA_NULL;
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_DISCONNECT_IND)
            ||(opcode==CM_OPC_SV_AR_DISCONNECT_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_DISCONNECT_RSP*/

        LSA_UINT16 freeRes = 0;
        
		rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        
        rqb_size+=HIF_SER_SIZEOF(4);                    /* serialize "ar_event" pointer itself */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* serialize "ar_disconnect" pointer itself */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* nr_of_iocrs */
        for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->nr_of_iocrs;i++)
        {       /* iocr*/
            rqb_size+=HIF_SER_SIZEOF(4);         /* uvar32 */
            rqb_size+=HIF_SER_SIZEOF(2);         /* reduction_ratio */
            rqb_size+=HIF_SER_SIZEOF(2);         /* cycle_phase */
            rqb_size+=HIF_SER_SIZEOF(4);         /* eddx_data_offset */
            rqb_size+=HIF_SER_SIZEOF(4);         /* eddi_buffer_properties   */
            rqb_size+=HIF_SER_SIZEOF(2);         /* eddx_cr_number */
            rqb_size+=HIF_SER_SIZEOF(1);         /* eddp_forward_mode   */
            rqb_size+=HIF_SER_SIZEOF(4);         /* eddp_ct_outdatastart */
        }
        
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;

        /* Specialcase: Serialize xRQB - original lower RQB Pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->hif_helper);         	/* xRQB pointer */
    
        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                				/* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                			/* original upper RQB pointer */

        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);       /* serialize pointer info itself */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect);       /* serialize pointer info itself */

        /* INFO: serialize the array size right after the pointer */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->nr_of_iocrs);              /* nr_of_iocrs */
        for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->nr_of_iocrs;i++)
        {                            /* iocr*/
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].iocr_user_id.uvar32);                  /* uvar32 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].reduction_ratio);          /* reduction_ratio */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].cycle_phase);                          /* cycle_phase */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddx_data_offset);                     /* eddx_data_offset */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddi_buffer_properties  );             /* eddi_buffer_properties   */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddx_cr_number);                       /* eddx_cr_number */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddp_forward_mode  );                   /* eddp_forward_mode   */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddp_ct_outdatastart);                 /* eddp_ct_outdatastart */
        }

        /* Delete upper RQB buffers after upper serialization - SONDERFALL*/
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name);
            if (freeRes != LSA_RET_OK)
                return HIF_ERR_RESOURCE;
            ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name = LSA_NULL;
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ARFSUBlock_ptr))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ARFSUBlock_ptr);
            if (freeRes != LSA_RET_OK)
                return HIF_ERR_RESOURCE;
            ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ARFSUBlock_ptr = LSA_NULL;
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect));
            if (freeRes != LSA_RET_OK)
                return HIF_ERR_RESOURCE;
            ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect = LSA_NULL;
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_OWNERSHIP_IND)
            ||(opcode==CM_OPC_SV_AR_OWNERSHIP_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_OWNERSHIP_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        LSA_UINT16 freeRes = 0;
        LSA_UINT32 j=0;

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);       /* lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_event" pointer itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "ar_ownership" pointer itself */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership != LSA_NULL)
            {
                rqb_size+=HIF_SER_SIZEOF(2);           /* ar_context */
                rqb_size+=HIF_SER_SIZEOF(1);           /* set_mrp_off */
                rqb_size+=HIF_SER_SIZEOF(2);           /* nr_of_elems */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->nr_of_elems;i++)
                {           /* elem*/
                    rqb_size+=HIF_SER_SIZEOF(4);             /* api */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* slot_nr */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* subslot_nr */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* mod_ident */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* mod_properties */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* sub_ident */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* sub_properties */
                    for(j=0;j<2;j++)
                    {             /* descr*/
                        rqb_size+=HIF_SER_SIZEOF(2);               /* data_description */
                        rqb_size+=HIF_SER_SIZEOF(4);               /* uvar32 */
                        rqb_size+=HIF_SER_SIZEOF(2);               /* data_offset */
                        rqb_size+=HIF_SER_SIZEOF(2);               /* data_length */
                        rqb_size+=HIF_SER_SIZEOF(1);               /* iops_length */
                        rqb_size+=HIF_SER_SIZEOF(4);               /* uvar32 */
                        rqb_size+=HIF_SER_SIZEOF(2);               /* iocs_offset */
                        rqb_size+=HIF_SER_SIZEOF(1);               /* iocs_length */
                    }
                    rqb_size+=HIF_SER_SIZEOF(1);             /* is_wrong */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* owner_session_key */
                }
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        //HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);              /* original upper RQB pointer */
        temp_ptr = (LSA_UINT32*)ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership-1;          /* xRQB pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*temp_ptr);                /* xRQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);              /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                        /* original upper RQB pointer */

        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);       /* serialize pointer info itself */

        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                  /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                  /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                  /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership);         /* serialize pointer info itself */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership != LSA_NULL)
            {
                /* INFO: serialize the array size right after the pointer */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->nr_of_elems);                      /* nr_of_elems */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->ar_context);                      /* ar_context */
                HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->set_mrp_off);                      /* set_mrp_off */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->nr_of_elems;i++)
                {                                            /* elem*/
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].api);                          /* api */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].slot_nr);                          /* slot_nr */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].subslot_nr);                          /* subslot_nr */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].mod_ident);                          /* mod_ident */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].mod_properties);                          /* mod_properties */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].sub_ident);                          /* sub_ident */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].sub_properties);                          /* sub_properties */
                    for(j=0;j<2;j++)
                    {                                                    /* descr*/
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_description);                              /* data_description */
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_user_id.uvar32);                              /* uvar32 */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_offset);                              /* data_offset */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_length);                              /* data_length */
                        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iops_length);                              /* iops_length */
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_user_id.uvar32);                              /* uvar32 */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_offset);                              /* iocs_offset */
                        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_length);                              /* iocs_length */
                    }
                    HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].is_wrong);                          /* is_wrong */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].owner_session_key);                          /* owner_session_key */
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership)-1);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_PDEVPRM_IND)
            ||(opcode==CM_OPC_SV_AR_PDEVPRM_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_DATA_STATUS_RSP*/

        rqb_size+=HIF_SER_SIZEOF(4);                        /* original lower RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();             /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);                        /* serialize "ar_event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event))  /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_pdevprm);          /* ar_pdevprm - original xRQB lower pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                               /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);           /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);            /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);          /* session_key */
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_PRM_END_IND)
            ||(opcode==CM_OPC_SV_AR_PRM_END_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_PRM_END_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        LSA_UINT16 freeRes = 0;

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);       /* lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_event" pointer itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            //rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            //rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            //rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "ar_prm_end" pointer itself */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end != LSA_NULL)
            {
                //rqb_size+=HIF_SER_SIZEOF(2);           /* ar_context */
                //rqb_size+=HIF_SER_SIZEOF(2);           /* nr_of_elems */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->nr_of_elems;i++)
                {           /* elem*/
                    //rqb_size+=HIF_SER_SIZEOF(4);             /* api */
                    //rqb_size+=HIF_SER_SIZEOF(2);             /* slot_nr */
                    //rqb_size+=HIF_SER_SIZEOF(2);             /* subslot_nr */
                    rqb_size+=HIF_SER_SIZEOF(1);             /* appl_ready_follows */
                    rqb_size+=HIF_SER_SIZEOF(1);             /* appl_ready_pending */
                }
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        //HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);              /* original upper RQB pointer */
        temp_ptr = (LSA_UINT32*)ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end-1;            /* xRQB pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*temp_ptr);                /* xRQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);              /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                        /* original upper RQB pointer */

        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);       /* serialize pointer info itself */

        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            //HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                  /* device_nr */
            //HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                  /* ar_nr */
            //HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                  /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end);         /* serialize pointer info itself */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end != LSA_NULL)
            {
                /* INFO: serialize the array size right after the pointer */
                //HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->nr_of_elems);                      /* nr_of_elems */
                //HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->ar_context);                      /* ar_context */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->nr_of_elems;i++)
                {                                            /* elem*/
                    //HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->elem[i].api);                          /* api */
                    //HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->elem[i].slot_nr);                          /* slot_nr */
                    //HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->elem[i].subslot_nr);                          /* subslot_nr */
                    HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->elem[i].appl_ready_follows);                          /* appl_ready_follows */
                    HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->elem[i].appl_ready_pending);                          /* appl_ready_pending */
                }
            }
            // SONDERFALL free
            if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end))
            {
                HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT32*)ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end-1);
                if (freeRes != LSA_RET_OK)
                {
                    return HIF_ERR_RESOURCE;
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_SV_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_IN_DATA_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        LSA_UINT16 freeRes = 0;

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);       /* lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_event" pointer itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "ar_in_data" pointer itself */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data != LSA_NULL)
            {
                rqb_size+=HIF_SER_SIZEOF(2);           /* nr_of_elems */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->nr_of_elems;i++)
                {           /* elem*/
                    rqb_size+=HIF_SER_SIZEOF(4);             /* api */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* slot_nr */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* subslot_nr */
                }
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        //HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);              /* original upper RQB pointer */
        temp_ptr = (LSA_UINT32*)ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data-1;            /* xRQB pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*temp_ptr);                /* xRQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);              /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                        /* original upper RQB pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                  /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                  /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                  /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data);         /* serialize pointer info itself */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data != LSA_NULL)
            {
                /* INFO: serialize the array size right after the pointer */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->nr_of_elems);                      /* nr_of_elems */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->nr_of_elems;i++)
                {                                            /* elem*/
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->elem[i].api);                          /* api */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->elem[i].slot_nr);                          /* slot_nr */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->elem[i].subslot_nr);                          /* subslot_nr */
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT32*)ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data-1);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_RIR_IND)
            ||(opcode==CM_OPC_SV_AR_RIR_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_RIR_RSP*/

        rqb_size+=HIF_SER_SIZEOF(4);                    /* Specialcase: original lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();         /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_event" pointer itself */
        
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;

        /* Specialcase: Serialize xRQB - original lower RQB Pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->hif_helper);             /* xRQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));       /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                         /* original upper RQB pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);        /* serialize pointer info itself */
            
    }
    else if  ((opcode==CM_OPC_SV_AR_READ_IND)
            ||(opcode==CM_OPC_SV_AR_READ_RSP)
            ||(opcode==CM_OPC_SV_AR_WRITE_IND)
            ||(opcode==CM_OPC_SV_AR_WRITE_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_READ_RSP_CM_OPC_SV_AR_WRITE_RSP*/

        LSA_UINT16  freeRes;

        rqb_size+=HIF_SER_SIZEOF(4);                    /* Specialcase: original lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_event" pointer itself */
        if (opcode==CM_OPC_SV_AR_READ_RSP)
        {
            rqb_size+=HIF_SER_SIZEOF(4);                /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data_length);       /* size of: data */
            }
        }
        rqb_size+=HIF_SER_SIZEOF(4);       /* cm_pnio_err */
        rqb_size+=HIF_SER_SIZEOF(2);       /* ret_val_1 */
        rqb_size+=HIF_SER_SIZEOF(2);       /* ret_val_2 */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;

        /* Specialcase: Serialize xRQB - original lower RQB Pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->hif_helper);             /* xRQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                                       /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                                 /* original upper RQB pointer */
        
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);                               /* serialize pointer info itself */
        
        if (opcode==CM_OPC_SV_AR_READ_RSP)
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data_length);      /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data);         /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data),ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data_length);       /* data */
            }
        }
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.cm_pnio_err);                  /* cm_pnio_err */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.ret_val_1);                        /* ret_val_1 */
        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.ret_val_2);                        /* ret_val_2 */

        /* Delete upper RQB buffers after upper serialization - SONDERFALL*/
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
            ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data=LSA_NULL;
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_DATA_STATUS_IND)
            ||(opcode==CM_OPC_SV_AR_DATA_STATUS_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(1);            /* curr */
            rqb_size+=HIF_SER_SIZEOF(1);            /* prev */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_data_status.curr);                        /* curr */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_data_status.prev);                        /* prev */
        }
    }
    else if (opcode==CM_OPC_MC_CREATE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "create" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.create)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* max_devices */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.create);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.create))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.create->max_devices);                        /* max_devices */
        }
    }
    else if (opcode==CM_OPC_MC_DELETE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
    }
    else if (opcode==CM_OPC_MC_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "control" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.control)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* control_tag */
            rqb_size+=HIF_SER_SIZEOF(2);            /* apdu_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.control);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.control))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.control->control_tag);                        /* control_tag */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.control->apdu_status);                        /* apdu_status */
        }
    }
    else if (opcode==CM_OPC_MC_DEVICE_ADD)
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_MC_DEVICE_ADD_PTR_TYPE_CM_OPC_MC_DEVICE_ADD*/

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "dev_add" pointer itself */
        if(ptr_rqb_src->args.mc.dev_add != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "Flink" pointer itself */
            /* calculate size of list: "ar_list" */
            rqb_size+=hif_cm_ser_calc_ar_list_size(&ptr_rqb_src->args.mc.dev_add->ar_list, LSA_FALSE);
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);              /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                          /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.dev_add);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.mc.dev_add != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.dev_add->device_nr);                  /* device_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.dev_add->ar_list.Flink);         /* Flink pointer to check later if a list exists*/
            /* serialize list "ar_list" */
            help_ptr=(LSA_UINT8*)hif_cm_ser_ar_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.mc.dev_add->ar_list, LSA_FALSE);
        }
        
    }
    else if (opcode==CM_OPC_MC_DEVICE_REMOVE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_remove" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.dev_remove)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.dev_remove);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.dev_remove))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.dev_remove->device_nr);                        /* device_nr */
        }
    }
    else if (opcode==CM_OPC_MC_DEVICE_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_control" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.dev_control)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* control_tag */
            rqb_size+=HIF_SER_SIZEOF(2);            /* apdu_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.dev_control);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.dev_control))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.dev_control->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.dev_control->control_tag);                        /* control_tag */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.dev_control->apdu_status);                        /* apdu_status */
        }
    }
    else if (opcode==CM_OPC_PD_EVENT_APPL_READY_RSP)
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_OPC_PD_EVENT_xxx_CM_OPC_PD_EVENT_APPL_READY_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        LSA_UINT16 freeRes = 0;

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);       /* lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "event" pointer itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "Flink" pointer itself */
            rqb_size+=HIF_SER_SIZEOF(2);         /* mod_diff_block_length */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "mod_diff_block" pointer itself */
            if (ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block != LSA_NULL)
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length);         /* size of: mod_diff_block */
            /* appl_tag size */
            rqb_size+=hif_cm_ser_calc_diff_list_size(&ptr_rqb_src->args.channel.event->u.pd.appl_ready.diff_list);
        }
        if (rqb_size > 0)
        {
            HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);
        }
        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;

        //xRQB handling
        if (ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length>0)   // special case only if length >0
        {
            temp_ptr = (LSA_UINT32*)ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block-1;           /* xRQB pointer */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*temp_ptr);                                    /* xRQB pointer */
        }
        else
        {
            LSA_UINT32 tmp = 0;
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,tmp);         // xRQB = LSA_NULL
        }

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                    /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));         /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize "event" pointer info itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            // mod_diff_block
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length);                      /* mod_diff_block_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                                                 /* original upper RQB pointer */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block);             /* serialize mod_diff_block pointer info itself */
            if ((ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block != LSA_NULL) && ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length>0)
            HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block),ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length);       /* mod_diff_block */

            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.diff_list.Flink);             /* "diff_list.Flink" pointer to check later if a difflist exists*/
            //serialize appl_tag/module/submodule
            help_ptr=(LSA_UINT8*)hif_cm_ser_diff_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.channel.event->u.pd.appl_ready.diff_list,LSA_TRUE);
        }

        /* Delete upper RQB buffers after upper serialization - SONDERFALL*/
        // difflist free already in hif_cm_ser_diff_list
        if (ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length>0)
        {
            HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block-4);       // mod_diff_block + xRQB-pointer
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
            ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block = LSA_NULL;
        }

        // EF: AP01427283 - S
        if (ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block_length>0)
        {
            HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block-4);       // diag_block + xRQB-pointer
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
            ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block = LSA_NULL;
        }
        // EF: AP01427283 - E
        
    }
    else if  ((opcode==CM_OPC_PD_ALARM_RSP)
            ||(opcode==CM_OPC_CL_ALARM_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_upper_CM_UPPER_ALARM_PTR_TYPE_CM_OPC_PD_ALARM_RSP_CM_OPC_CL_ALARM_RSP*/

        LSA_UINT16 freeRes = 0;
        
		rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        
        if (rqb_size > 0)
        {
            HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_upper() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);
        }
        
        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;

        /* Specialcase: Serialize xRQB - original lower RQB Pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->hif_helper);         	/* xRQB pointer */
    
        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                				/* _opcode */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                			/* original upper RQB pointer */
        
        /* Delete upper RQB buffers after upper serialization - SONDERFALL*/
        if (opcode==CM_OPC_CL_ALARM_RSP)
        {
            // difflist free
            hif_ser_cm_free_diff_list(&ptr_rqb_src->args.channel.alarm->u.cl.diff_list);
            //mod_diff_block free
            if (ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block_length>0)
            {
                HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block);       // mod_diff_block + xRQB-pointer
                if (freeRes != LSA_RET_OK)
                {
                    return HIF_ERR_RESOURCE;
                }
                ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block = LSA_NULL;
                ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block_length = 0;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src->args.channel.alarm->alarm_data);
        if (freeRes != LSA_RET_OK)
            return HIF_ERR_RESOURCE;
        ptr_rqb_src->args.channel.alarm->alarm_data = LSA_NULL;
        
    }
    else
    {
        HIF_PROGRAM_TRACE_02(0,LSA_TRACE_LEVEL_FATAL,"hif_cm_serialize_upper(). RQB-Opcode:0x%x is not valid! pRQB(0x%08x)",opcode,ptr_rqb_src+4);
        HIF_FATAL(0);
    }

    *pSerRqbLen = rqb_size;

    HIF_ASSERT(HIF_IS_NOT_NULL(help_ptr)); /*#4*/

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_SERIALIZE(opcode, *ptr_ptr_rqb_dest, rqb_size, help_ptr, "hif_cm_serialize_upper");

    return HIF_OK;
}

/****************************************************************************
*  Name:        hif_cm_serialize_lower()
*  Purpose:     Function serializes the RQB to the HIF shared memory - 
*               according to the component ID and OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB, stored in the hosts local memory
*               pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the HIF shared memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16  hif_cm_serialize_lower (
    HIF_SYS_HANDLE hSysDev,
    LSA_VOID*      pHifPipeHandle,
    LSA_INT        hShmPool,
    LSA_VOID*      pRqbSrc,
    LSA_VOID**     ppRqbDest,
    LSA_UINT32*    pSerRqbLen )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_UINT32 rqb_size = 0;
    LSA_OPCODE_TYPE opcode = 0;
    CM_RQB_TYPE* ptr_rqb_src = (CM_RQB_TYPE*)pRqbSrc;
    LSA_VOID** ptr_ptr_rqb_dest = ppRqbDest;
    LSA_UINT16 freeRes = 0;
    LSA_UINT32 i=0;
    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_rqb_src)); /*#5*/
    opcode=HIF_RQB_GET_OPCODE(ptr_rqb_src);

    if (opcode==CM_OPC_OPEN_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.open)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.open);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CLOSE_CHANNEL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.close)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.close);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CHANNEL_INFO)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "info" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.info)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* hardware_type */
            rqb_size+=HIF_SER_SIZEOF(2);            /* interface_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* port_cnt */
            rqb_size+=(HIF_SER_SIZEOF(1) * 6);            /* mac */
            rqb_size+=HIF_SER_SIZEOF(4);            /* process_image_base_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* process_image_start_offset */
            rqb_size+=HIF_SER_SIZEOF(4);            /* process_image_end_offset */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.info);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.info))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.info->hardware_type);                        /* hardware_type */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.info->interface_id);                        /* interface_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.info->port_cnt);                        /* port_cnt */
            for(i=0;i<6;i++)                                    /* mac_addr*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.info->mac_addr.mac[i]);                        /* mac */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.info->process_image_base_addr);                        /* process_image_base_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.info->process_image_start_offset);                        /* process_image_start_offset */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.info->process_image_end_offset);                        /* process_image_end_offset */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.info)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.info);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_OVERLOAD_INFO)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "overload" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.overload)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* send_overload_counter */
            rqb_size+=HIF_SER_SIZEOF(4);            /* recv_overload_counter */
            rqb_size+=HIF_SER_SIZEOF(1);            /* send_overload_changed */
            rqb_size+=HIF_SER_SIZEOF(1);            /* recv_overload_changed */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.overload);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.overload))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.overload->send_overload_counter);                        /* send_overload_counter */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.overload->recv_overload_counter);                        /* recv_overload_counter */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.overload->send_overload_changed);                        /* send_overload_changed */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.overload->recv_overload_changed);                        /* recv_overload_changed */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.overload)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.overload);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_PROVIDE_ALARM)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.alarm)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.alarm);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==CM_OPC_PD_ALARM_IND)
            ||(opcode==CM_OPC_CL_ALARM_IND))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_ALARM_PTR_TYPE_CM_OPC_PD_ALARM_IND_CM_OPC_CL_ALARM_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();   	/* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */

        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "alarm" pointer itself */
        if(ptr_rqb_src->args.channel.alarm != LSA_NULL)
        {
            if (opcode==CM_OPC_CL_ALARM_IND)
            {
                rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
                rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            }
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);         /* alarm_priority */
            rqb_size+=HIF_SER_SIZEOF(4);         /* api */
            rqb_size+=HIF_SER_SIZEOF(2);         /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* alarm_type */
            rqb_size+=HIF_SER_SIZEOF(2);         /* alarm_sequence */
            rqb_size+=HIF_SER_SIZEOF(1);         /* diag_channel_available */
            if (opcode==CM_OPC_CL_ALARM_IND)
            {
                rqb_size+=HIF_SER_SIZEOF(1);         /* diag_generic_available */
            }
            rqb_size+=HIF_SER_SIZEOF(1);         /* diag_submod_available */
            if (opcode==CM_OPC_CL_ALARM_IND)
            {
                rqb_size+=HIF_SER_SIZEOF(1);         /* ar_diagnosis_state */
            }
            rqb_size+=HIF_SER_SIZEOF(4);         /* mod_ident */
            rqb_size+=HIF_SER_SIZEOF(4);         /* sub_ident */
            rqb_size+=HIF_SER_SIZEOF(2);         /* alarm_tag */
            rqb_size+=HIF_SER_SIZEOF(2);         /* alarm_data_length */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "alarm_data" pointer itself */
            if (ptr_rqb_src->args.channel.alarm->alarm_data != LSA_NULL)
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.channel.alarm->alarm_data_length);         /* size of: alarm_data */
            rqb_size+=HIF_SER_SIZEOF(4);         /* maintenance_status */
            if (opcode==CM_OPC_CL_ALARM_IND)
            {
                rqb_size+=HIF_SER_SIZEOF(2);       /* mod_diff_block_length */
                rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "mod_diff_block" pointer itself */
                if (ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block != LSA_NULL)
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block_length);       /* size of: mod_diff_block */
                rqb_size+=HIF_SER_SIZEOF(4);        // diff_list.Flink
                /* appl_tag size */
                rqb_size+=hif_cm_ser_calc_diff_list_size(&ptr_rqb_src->args.channel.alarm->u.cl.diff_list);
            }
        }
        if (rqb_size > 0)
        {
            HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);
        }

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));           /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                   /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));       /* _response */

		/* Specialcase: Serialize xRQB - original lower RQB Pointer */
		HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                 /* original lower xRQB pointer */

        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.channel.alarm != LSA_NULL)
        {
            if (opcode==CM_OPC_CL_ALARM_IND)
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->device_nr);                  /* device_nr */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->ar_nr);                  /* ar_nr */
            }
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->session_key);                  /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->alarm_priority);                  /* alarm_priority */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->api);                  /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->slot_nr);                  /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->subslot_nr);                  /* subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->alarm_type);                  /* alarm_type */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->alarm_sequence);                  /* alarm_sequence */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->diag_channel_available);                  /* diag_channel_available */
            if (opcode==CM_OPC_CL_ALARM_IND)
            {
                HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->diag_generic_available);                  /* diag_generic_available */
            }
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->diag_submod_available);                  /* diag_submod_available */
            if (opcode==CM_OPC_CL_ALARM_IND)
            {
                HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->ar_diagnosis_state);                  /* ar_diagnosis_state */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->mod_ident);                  /* mod_ident */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->sub_ident);                  /* sub_ident */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->alarm_tag);                  /* alarm_tag */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->alarm_data_length);                  /* alarm_data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->alarm_data);         /* serialize pointer info itself */
            if ((ptr_rqb_src->args.channel.alarm->alarm_data != LSA_NULL) && (ptr_rqb_src->args.channel.alarm->alarm_data_length >0))
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.channel.alarm->alarm_data),ptr_rqb_src->args.channel.alarm->alarm_data_length);         /* alarm_data */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->maintenance_status);                  /* maintenance_status */
            if (opcode==CM_OPC_CL_ALARM_IND)
            {
                // mod_diff_block
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block_length);            /* mod_diff_block_length */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block);                      /* serialize pointer info itself */
                if ((ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block != LSA_NULL) && ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block_length>0)
                {
                    HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block),ptr_rqb_src->args.channel.alarm->u.cl.mod_diff_block_length);       /* mod_diff_block */
                }
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.alarm->u.cl.diff_list.Flink);       /* "diff_list.Flink" pointer to check later if a difflist exists*/
                //serialize appl_tag/module/submodule
                help_ptr=(LSA_UINT8*)hif_cm_ser_diff_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.channel.alarm->u.cl.diff_list,LSA_FALSE);
            }
        }
        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if (opcode==CM_OPC_ALARM_IND_RES_PROVIDE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.alarm)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.alarm);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_PROVIDE_EVENT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.event);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_EVENT_IND_RES_PROVIDE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.event);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==CM_OPC_CL_AR_ABORT_IND)
            ||(opcode==CM_OPC_CL_AR_ABORT_RSP)
            ||(opcode==CM_OPC_CL_AR_PRE_OFFLINE_IND)
            ||(opcode==CM_OPC_CL_AR_PRE_OFFLINE_RSP)
            ||(opcode==CM_OPC_CL_AR_OFFLINE_IND)
            ||(opcode==CM_OPC_CL_AR_OFFLINE_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(1);            /* reason_code */
            rqb_size+=HIF_SER_SIZEOF(1);            /* padding */
            rqb_size+=HIF_SER_SIZEOF(2);            /* error_cause */
            rqb_size+=(HIF_SER_SIZEOF(1) * 10);            /* additional_info */
            rqb_size+=HIF_SER_SIZEOF(4);            /* device_ip */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.ar_abort.error_cause.reason_code);                        /* reason_code */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.ar_abort.error_cause.padding);                        /* padding */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.ar_abort.error_cause.error_cause);                        /* error_cause */
            for(i=0;i<10;i++)                                    /* error_cause*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.ar_abort.error_cause.additional_info[i]);                        /* additional_info */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.ar_abort.device_ip);                        /* device_ip */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.event);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==CM_OPC_CL_AR_PRE_DATA_IND)
            ||(opcode==CM_OPC_CL_AR_PRE_DATA_RSP)
            ||(opcode==CM_OPC_CL_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_CL_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRE_DATA_IND_CM_OPC_CL_AR_PRE_DATA_RSP_CM_OPC_CL_AR_IN_DATA_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();   	/* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */
        
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "event" pointer itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=(HIF_SER_SIZEOF(1) * 6);         /* mac */
            rqb_size+=HIF_SER_SIZEOF(4);         /* device_ip */
            rqb_size+=HIF_SER_SIZEOF(4);         /* device_subnet_mask */
            rqb_size+=HIF_SER_SIZEOF(4);         /* device_gateway_ip */
            /* appl_ready */
            rqb_size+=HIF_SER_SIZEOF(2);       /* mod_diff_block_length */
            rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "mod_diff_block" pointer itself */
            if (ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block != LSA_NULL)
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block_length);       /* size of: mod_diff_block */
            rqb_size+=HIF_SER_SIZEOF(4);        // diff_list.Flink
            /* appl_tag size */
            rqb_size+=hif_cm_ser_calc_diff_list_size(&ptr_rqb_src->args.channel.event->u.cl.in_data.diff_list);
        }
        
        if (rqb_size > 0)
        {
            HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);
        }


        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));           /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                   /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));       /* _response */

		/* Specialcase: Serialize xRQB - original lower RQB Pointer */
		HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                 /* original lower xRQB pointer */
        
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                  /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                  /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                  /* session_key */
            for(i=0;i<6;i++)
            {                           /* device_mac*/
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.in_data.ip_suite.device_mac.mac[i]);                  /* mac */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.in_data.ip_suite.device_ip);                  /* device_ip */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.in_data.ip_suite.device_subnet_mask);                  /* device_subnet_mask */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.in_data.ip_suite.device_gateway_ip);                  /* device_gateway_ip */
            // mod_diff_block
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block_length);            /* mod_diff_block_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block);                      /* serialize pointer info itself */
            if ((ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block != LSA_NULL) && ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block_length>0)
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block),ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block_length);       /* mod_diff_block */
            }

            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.in_data.diff_list.Flink);       /* "diff_list.Flink" pointer to check later if a difflist exists*/
            //serialize appl_tag/module/submodule
            help_ptr=(LSA_UINT8*)hif_cm_ser_diff_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.channel.event->u.cl.in_data.diff_list,LSA_FALSE);
        }

        /* SPECIAL-CASE- no FREE necessary */
        //Achtung hier kein SPECIAL-CASE
//        if (HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))
//        {
//            if (ptr_rqb_src->args.channel.event->u.cl.in_data.mod_diff_block_length==0)  //kein SPECIAL-CASE(e.g. PRM_Write Leer)
//            {
//                /* Delete lower RQB after lower serialization */
//                HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src->args.channel.event);
//                if (freeRes != LSA_RET_OK)
//                {
//                    return HIF_ERR_RESOURCE;
//                }
//                /* Delete lower RQB after lower serialization */
//                HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
//                if (freeRes != LSA_RET_OK)
//                {
//                    return HIF_ERR_RESOURCE;
//                }
//            }
//        }
        
    }
    else if  ((opcode==CM_OPC_CL_AR_PRM_BEGIN_IND)
            ||(opcode==CM_OPC_CL_AR_PRM_BEGIN_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRM_BEGIN_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();   	/* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */
        
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "event" pointer itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);         /* prm_mode */
            rqb_size+=HIF_SER_SIZEOF(4);         /* api */
            rqb_size+=HIF_SER_SIZEOF(2);         /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "Flink" pointer itself */
            /* calculate size of list: "prm_record_list" */
            rqb_size+=hif_cm_ser_calc_prm_record_list_size(&ptr_rqb_src->args.channel.event->u.cl.prm_begin.prm_submodule.prm_record_list, LSA_TRUE);
        }
        
        if (rqb_size > 0)
        {
            HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);
        }
        
        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));           /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                   /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));       /* _response */

		/* Specialcase: Serialize xRQB - original lower RQB Pointer */
		HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                 /* original lower xRQB pointer */

        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                  /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                  /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                  /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_begin.prm_mode);                  /* prm_mode */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_begin.prm_submodule.api);                  /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_begin.prm_submodule.slot_nr);                  /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_begin.prm_submodule.subslot_nr);                  /* subslot_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_begin.prm_submodule.prm_record_list.Flink);         /* Flink pointer to check later if a list exists*/
            /* serialize list "prm_record_list" */
            help_ptr=(LSA_UINT8*)hif_cm_ser_prm_record_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.channel.event->u.cl.prm_begin.prm_submodule.prm_record_list, LSA_TRUE);
        }
        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if  ((opcode==CM_OPC_CL_AR_PRM_INDATA_IND)
            ||(opcode==CM_OPC_CL_AR_PRM_INDATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRM_INDATA_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();   	/* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */
        
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "event" pointer itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);         /* prm_mode */
            rqb_size+=HIF_SER_SIZEOF(2);         /* mod_diff_block_length */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "mod_diff_block" pointer itself */
            if (ptr_rqb_src->args.channel.event->u.cl.prm_indata.mod_diff_block != LSA_NULL)
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.channel.event->u.cl.prm_indata.mod_diff_block_length);         /* size of: mod_diff_block */
            }
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "Flink" pointer itself */
            /* calculate size of list: "diff_list" */
            rqb_size+=hif_cm_ser_calc_diff_list_size(&ptr_rqb_src->args.channel.event->u.cl.prm_indata.diff_list);
            rqb_size+=HIF_SER_SIZEOF(4);         /* api */
            rqb_size+=HIF_SER_SIZEOF(2);         /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "Flink" pointer itself */
            /* calculate size of list: "prm_record_list" */
            rqb_size+=hif_cm_ser_calc_prm_record_list_size(&ptr_rqb_src->args.channel.event->u.cl.prm_indata.prm_submodule.prm_record_list, LSA_TRUE);
        }
        
        if (rqb_size > 0)
        {
            HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);
        }
        
        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }
        
        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));           /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                   /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));       /* _response */

		/* Specialcase: Serialize xRQB - original lower RQB Pointer */
		HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                 /* original lower xRQB pointer */
        
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                  /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                  /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                  /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_indata.prm_mode);                  /* prm_mode */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_indata.mod_diff_block_length);                  /* mod_diff_block_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_indata.mod_diff_block);         /* serialize pointer info itself */
            if ((ptr_rqb_src->args.channel.event->u.cl.prm_indata.mod_diff_block != LSA_NULL) && ptr_rqb_src->args.channel.event->u.cl.prm_indata.mod_diff_block_length>0)
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.channel.event->u.cl.prm_indata.mod_diff_block),ptr_rqb_src->args.channel.event->u.cl.prm_indata.mod_diff_block_length);         /* mod_diff_block */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_indata.diff_list.Flink);         /* Flink pointer to check later if a list exists*/
            /* serialize list "diff_list" */
            help_ptr=(LSA_UINT8*)hif_cm_ser_diff_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.channel.event->u.cl.prm_indata.diff_list,LSA_FALSE);
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_indata.prm_submodule.api);                  /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_indata.prm_submodule.slot_nr);                  /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_indata.prm_submodule.subslot_nr);                  /* subslot_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.prm_indata.prm_submodule.prm_record_list.Flink);         /* Flink pointer to check later if a list exists*/
            /* serialize list "prm_record_list" */
            help_ptr=(LSA_UINT8*)hif_cm_ser_prm_record_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.channel.event->u.cl.prm_indata.prm_submodule.prm_record_list, LSA_TRUE);
        }

        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_ADDR_INFO_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_ADDR_INFO_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(1);            /* info_class */
            rqb_size+=HIF_SER_SIZEOF(1);            /* info_phase */
            rqb_size+=HIF_SER_SIZEOF(2);            /* reason_code */
            rqb_size+=HIF_SER_SIZEOF(2);            /* lower_rsp */
            rqb_size+=HIF_SER_SIZEOF(4);            /* pnio_status */
            rqb_size+=HIF_SER_SIZEOF(4);            /* nca_status */
            rqb_size+=(HIF_SER_SIZEOF(1) * 6);            /* mac */
            rqb_size+=HIF_SER_SIZEOF(4);            /* device_ip */
            rqb_size+=HIF_SER_SIZEOF(4);            /* device_subnet_mask */
            rqb_size+=HIF_SER_SIZEOF(4);            /* device_gateway_ip */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.info_class);                        /* info_class */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.info_phase);                        /* info_phase */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.reason_code);                        /* reason_code */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.lower_rsp);                        /* lower_rsp */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.pnio_status);                        /* pnio_status */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.nca_status);                        /* nca_status */
            for(i=0;i<6;i++)                                    /* device_mac*/
            {
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.device_mac.mac[i]);                        /* mac */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.device_ip);                        /* device_ip */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.device_subnet_mask);                        /* device_subnet_mask */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.addr_info.device_gateway_ip);                        /* device_gateway_ip */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.event);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_MC_EVENT_AR_IN_DATA_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();   	/* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "event" pointer itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "diff_list.Flink" pointer itself */
            /* "diff_list" itself is always empty */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "good_list.Flink" pointer itself */
            /* "good_list" itself is always empty */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "iocr_list.Flink" pointer itself */
            /* calculate size of list: "iocr_list" */
            rqb_size+=hif_cm_ser_calc_iocr_list_size(&ptr_rqb_src->args.channel.event->u.mc.in_data.iocr_list);
            /* "mod_diff_block_length" is always 0 */
            /* "mod_diff_block" is always LSA_NULL */

        }
        
        if (rqb_size > 0)
        {
            HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);
        }
        
        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));           /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                   /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));       /* _response */

		/* Specialcase: Serialize xRQB - original lower RQB Pointer */
		HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                 /* original lower xRQB pointer */

        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                  /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                  /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                  /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.in_data.diff_list.Flink);         /* Flink pointer to check later if the(empty) list exists */
            /* "diff_list" itself is always empty */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.in_data.good_list.Flink);         /* Flink pointer to check later if the (empty) list exists */
            /* "good_list" itself is always empty */

            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.in_data.iocr_list.Flink);         /* Flink pointer to check later if a list exists*/
            if (HIF_IS_NOT_NULL(&ptr_rqb_src->args.channel.event->u.mc.in_data.iocr_list))
            {
                /* serialize list "iocr_list" */
                help_ptr=(LSA_UINT8*)hif_cm_ser_iocr_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.channel.event->u.mc.in_data.iocr_list);
            }
            /* "mod_diff_block_length" is always 0 */
            /* "mod_diff_block" is always LSA_NULL */
        }
        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_OFFLINE_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_OFFLINE_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);            /* reason_code */
            rqb_size+=HIF_SER_SIZEOF(4);            /* reason_pnio_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.ar_offline.reason_code);                        /* reason_code */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.ar_offline.reason_pnio_status);                        /* reason_pnio_status */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.event);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==CM_OPC_MC_EVENT_APDU_STATUS_IND)
            ||(opcode==CM_OPC_MC_EVENT_APDU_STATUS_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);            /* apdu_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.mc.apdu_status);                        /* apdu_status */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.event);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_IND_RES_WITHDRAW)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.withdraw)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.withdraw);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==CM_OPC_CL_AR_DATA_STATUS_IND)
            ||(opcode==CM_OPC_CL_AR_DATA_STATUS_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);            /* data_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.cl.data_status);                        /* data_status */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.channel.event)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.channel.event);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_PD_CREATE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.create))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.create->oem_data)) /*#14*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.pd.create->oem_data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.create)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.pd.create);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_PD_DELETE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.d_lete)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.pd.d_lete);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_PD_REMAP)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.remap)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.pd.remap);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_PD_LINK_STATUS_INFO)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "link_status" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.link_status)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* interface_id */
            rqb_size+=HIF_SER_SIZEOF(2);            /* port_id */
            rqb_size+=HIF_SER_SIZEOF(1);            /* status */
            rqb_size+=HIF_SER_SIZEOF(1);            /* speed */
            rqb_size+=HIF_SER_SIZEOF(1);            /* mode */
            rqb_size+=HIF_SER_SIZEOF(1);            /* autoneg */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.link_status))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->interface_id);                        /* interface_id */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->port_id);                        /* port_id */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->status);                        /* status */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->speed);                        /* speed */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->mode);                        /* mode */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.link_status->autoneg);                        /* autoneg */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.link_status)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.pd.link_status);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_PD_SYNC_LED_INFO)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "sync_led_info" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.sync_led_info)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* sync_led_info */
            rqb_size+=HIF_SER_SIZEOF(1);            /* is_rate_valid */
            rqb_size+=HIF_SER_SIZEOF(1);            /* rcv_sync_prio */
            rqb_size+=HIF_SER_SIZEOF(1);            /* local_prio */
            rqb_size+=HIF_SER_SIZEOF(1);            /* pll_state */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.sync_led_info))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info->sync_led_info);                        /* sync_led_info */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info->is_rate_valid);                        /* is_rate_valid */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info->rcv_sync_prio);                        /* rcv_sync_prio */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info->local_prio);                        /* local_prio */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.sync_led_info->pll_state);                        /* pll_state */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.sync_led_info)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.pd.sync_led_info);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_PD_PRM_BEGIN)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_PD_PRM_READ)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "prm_rdwr" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* record_data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "record_data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr->record_data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.pd.prm_rdwr->record_data_length);            /* size of: record_data */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_1 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_2 */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->record_data_length);                        /* record_data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->record_data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr->record_data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.pd.prm_rdwr->record_data),ptr_rqb_src->args.pd.prm_rdwr->record_data_length);            /* record_data */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->cm_pnio_err);                        /* cm_pnio_err */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->ret_val_1);                        /* ret_val_1 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->ret_val_2);                        /* ret_val_2 */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr->record_data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.pd.prm_rdwr->record_data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.pd.prm_rdwr);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_PD_PRM_WRITE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "prm_rdwr" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_1 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_2 */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->cm_pnio_err);                        /* cm_pnio_err */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->ret_val_1);                        /* ret_val_1 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_rdwr->ret_val_2);                        /* ret_val_2 */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr->record_data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.pd.prm_rdwr->record_data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_rdwr)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.pd.prm_rdwr);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_PD_PRM_END)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "prm_end" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_end)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* is_master_project */
            rqb_size+=HIF_SER_SIZEOF(1);            /* clock_seq_low */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_end);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_end))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_end->is_master_project);                        /* is_master_project */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.pd.prm_end->ir_data_uuid.clock_seq_low);                        /* clock_seq_low */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.pd.prm_end)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.pd.prm_end);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_PD_EVENT_APPL_READY_IND)
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_PD_EVENT_APPL_READY_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);       /* original lower xRQB pointer Diag Block */
        rqb_size+=HIF_SER_SIZEOF(4);       /* original lower xRQB pointer Diff List */

        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "event" pointer itself */
        if (ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            /* appl_ready */
            // (LaM): Edd Transfer End - S
            rqb_size+=HIF_SER_SIZEOF(4);         /* RxEndNs */
            rqb_size+=HIF_SER_SIZEOF(4);         /* RxLocalTransferEndNs */
            rqb_size+=HIF_SER_SIZEOF(4);         /* TxEndNs */
            rqb_size+=HIF_SER_SIZEOF(4);         /* TxLocalTransferStartNs */
            rqb_size+=HIF_SER_SIZEOF(4);         /* TxLocalTransferEndNs */
            // (LaM): Edd Transfer End - E
            rqb_size+=HIF_SER_SIZEOF(4);       /* faulty_record_index */
            rqb_size+=HIF_SER_SIZEOF(2);       /* mod_diff_block_length */
            rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "mod_diff_block" pointer itself */
            if (ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block != LSA_NULL)
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length);       /* size of: mod_diff_block */
            rqb_size+=HIF_SER_SIZEOF(4);        // diff_list.Flink
            /* appl_tag size */
            rqb_size+=hif_cm_ser_calc_diff_list_size(&ptr_rqb_src->args.channel.event->u.pd.appl_ready.diff_list);

            // EF: AP01427283 - S needed space for diag_block
            rqb_size+=HIF_SER_SIZEOF(2);       /* diag_block_length */
            rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "diag_block" pointer itself */
            if (ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block != LSA_NULL)
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block_length);       /* size of: diag_block */
            // EF: AP01427283 - E needed space for diag_block
        }

        if (rqb_size > 0)
        {
            HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);
        }
        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));              /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                   /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));              /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event);      /* serialize "event" pointer */
        if (ptr_rqb_src->args.channel.event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->device_nr);                /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->ar_nr);                    /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->session_key);              /* session_key */

            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.faulty_record_index);          /* faulty_record_index */

            // (LaM): Edd Transfer End - S
             HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.rsv_interval_red.RxEndNs);                  /* RxEndNs */
             HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.rsv_interval_red.RxLocalTransferEndNs);     /* RxLocalTransferEndNs */
             HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.rsv_interval_red.TxEndNs);                  /* TxEndNs */
             HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.rsv_interval_red.TxLocalTransferStartNs);   /* TxLocalTransferStartNs */
             HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.rsv_interval_red.TxLocalTransferEndNs);     /* TxLocalTransferEndNs */
            // (LaM): Edd Transfer End - E

            // EF: AP01427283 - S add diag_block
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block_length);            /* diag_block_length */
            if (ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block_length>0)    //only special case if length>0
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                 /* original lower xRQB pointer */
            }
            else
            {
                LSA_UINT32 tmp = 0;
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,tmp);                 /* write NULL => not necessary to find it later */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block);                   /* serialize pointer info itself */
            if ((ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block != LSA_NULL) && ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block_length>0)
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block),ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block_length);       /* diag_block */
                // EF: AP01427283 - E add diag_block
            }
            // mod_diff_block
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length);            /* mod_diff_block_length */
            if (ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length>0)    //only special case if length>0
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                 /* original lower xRQB pointer */
            }
            else
            {
                LSA_UINT32 tmp = 0;
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,tmp);                 /* write NULL => not necessary to find it later*/
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block);                   /* serialize pointer info itself */

            if ((ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block != LSA_NULL) && ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length>0)
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block),ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length);       /* mod_diff_block */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.channel.event->u.pd.appl_ready.diff_list.Flink);       /* "diff_list.Flink" pointer to check later if a difflist exists*/
            //serialize appl_tag/module/submodule
            help_ptr=(LSA_UINT8*)hif_cm_ser_diff_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.channel.event->u.pd.appl_ready.diff_list,LSA_FALSE);
        }

        /* SPECIAL-CASE- no FREE necessary */

        //Achtung hier kein SPECIAL-CASE(e.g. PRM_Write Leer)
        if (ptr_rqb_src->args.channel.event->u.pd.appl_ready.mod_diff_block_length==0 && // EF: AP01427283
            ptr_rqb_src->args.channel.event->u.pd.appl_ready.diag_block_length==0)  //kein SPECIAL-CASE(e.g. PRM_Write Leer)
        {
            /* Delete lower RQB after lower serialization */
            HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src->args.channel.event);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
            /* Delete lower RQB after lower serialization */
            HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        
    }
    else if (opcode==CM_OPC_CL_CREATE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.create)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.create);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_DELETE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.control)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.control);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_ADD)
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_CL_DEVICE_ADD_PTR_TYPE_CM_OPC_CL_DEVICE_ADD*/

        CM_UPPER_ARCB_NARE_ALIAS_PTR_TYPE  alias;
        CM_UPPER_ARCB_ADD_PTR_TYPE  ar;

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "dev_add" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_add))
        {
            rqb_size+=HIF_SER_SIZEOF(4);         /* max_supported_record_length */
            rqb_size+=HIF_SER_SIZEOF(4);         /* pnio_status */
            rqb_size+=HIF_SER_SIZEOF(2);         /* nr_of_event_resources */
            rqb_size+=HIF_SER_SIZEOF(2);         /* nr_of_alarm_resources */
            rqb_size+=HIF_SER_SIZEOF(1);         /* is_master_project */
            rqb_size+=HIF_SER_SIZEOF(4);         /* device_ip_addr */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "Flink" pointer itself */
            /* calculate size of list: "ar_list" */
            for (CmListForeach (ar, &ptr_rqb_src->args.cl.dev_add->ar_list, CM_UPPER_ARCB_ADD_PTR_TYPE))
            {
                if (HIF_IS_NOT_NULL(&ar->iocr_list))
                {
                    /* serialize list "iocr_list" */
                    rqb_size+=hif_cm_ser_calc_iocr_list_size(&ar->iocr_list);
                }
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }
        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));              /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                          /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));              /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add);       /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_add))
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->dev_rpc.max_supported_record_length);                  /* max_supported_record_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->pnio_status);                  /* pnio_status */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->nr_of_event_resources);                  /* nr_of_event_resources */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->nr_of_alarm_resources);                  /* nr_of_alarm_resources */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->is_master_project);                       /* is_master_project */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->device_ip);                         /* device_ip_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.dev_add->ar_list.Flink);         /* Flink pointer to check later if a list exists*/
            /* serialize list "ar_list" */
            for (CmListForeach (ar, &ptr_rqb_src->args.cl.dev_add->ar_list, CM_UPPER_ARCB_ADD_PTR_TYPE))
            {
                if (HIF_IS_NOT_NULL(&ar->iocr_list))
                {
                    /* serialize list "iocr_list" */
                    help_ptr=(LSA_UINT8*)hif_cm_ser_iocr_list((LSA_UINT32*)help_ptr, &ar->iocr_list);
                }
            }

            /* Delete lower RQB after lower serialization */
            if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_add->dev_addr.device_name))
            {
                HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.dev_add->dev_addr.device_name);
                HIF_ASSERT (freeRes == LSA_RET_OK);
            }
            /* free device alias_list */
            while (! CmListIsEmpty (ptr_rqb_src->args.cl.dev_add->dev_addr.device_alias_list.Flink))
            {
                alias = (CM_UPPER_ARCB_NARE_ALIAS_PTR_TYPE)ptr_rqb_src->args.cl.dev_add->dev_addr.device_alias_list.Flink;
                if(HIF_IS_NOT_NULL(alias->name))
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,alias->name);
                    HIF_ASSERT (freeRes == LSA_RET_OK);
                }
                CmListRemoveHead (&ptr_rqb_src->args.cl.dev_add->dev_addr.device_alias_list, alias, CM_UPPER_ARCB_NARE_ALIAS_PTR_TYPE);
                HIF_FREE_LOCAL_MEM(&freeRes,alias);
                HIF_ASSERT (freeRes == LSA_RET_OK);
            }
            /* free ar_list */
            if (hif_ser_cm_free_ar_list(&ptr_rqb_src->args.cl.dev_add->ar_list, LSA_TRUE)!=HIF_OK)
            {
                return HIF_ERR_RESOURCE;
            }

            if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_add))
            {
                HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.dev_add);
                HIF_ASSERT (freeRes == LSA_RET_OK);
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        HIF_ASSERT (freeRes == LSA_RET_OK);
        
    }
    else if (opcode==CM_OPC_CL_DEVICE_REMOVE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_remove)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.dev_remove);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.dev_control)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.dev_control);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_READ)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "read" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read->rec.data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.cl.read->rec.data_length);            /* size of: data */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_1 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_2 */
            rqb_size+=HIF_SER_SIZEOF(4);            /* readquery_length */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.data_length);                        /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read->rec.data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.cl.read->rec.data),ptr_rqb_src->args.cl.read->rec.data_length);            /* data */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.cm_pnio_err);                        /* cm_pnio_err */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.ret_val_1);                        /* ret_val_1 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.ret_val_2);                        /* ret_val_2 */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.readquery_length);                        /* readquery_length */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read->rec.data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.read->rec.data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.read);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_READ_QUERY)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "read" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read->rec.data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.cl.read->rec.data_length);            /* size of: data */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_1 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_2 */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.data_length);                        /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read->rec.data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.cl.read->rec.data),ptr_rqb_src->args.cl.read->rec.data_length);            /* data */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.cm_pnio_err);                        /* cm_pnio_err */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.ret_val_1);                        /* ret_val_1 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read->rec.ret_val_2);                        /* ret_val_2 */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read->rec.data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.read->rec.data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.read);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==CM_OPC_CL_RECORD_READ_IMPLICIT)
            ||(opcode==CM_OPC_CL_RECORD_READ_IMPLICIT_QUERY))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "read_implicit" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* device_ip_addr */
            rqb_size+=HIF_SER_SIZEOF(4);            /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit->rec.data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.cl.read_implicit->rec.data_length);            /* size of: data */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_1 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_2 */
            rqb_size+=HIF_SER_SIZEOF(4);            /* readquery_length */
            rqb_size+=HIF_SER_SIZEOF(2);            /* lower_response */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->dev_addr.device_ip_addr);                        /* device_ip_addr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.data_length);                        /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit->rec.data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.cl.read_implicit->rec.data),ptr_rqb_src->args.cl.read_implicit->rec.data_length);            /* data */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.cm_pnio_err);                        /* cm_pnio_err */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.ret_val_1);                        /* ret_val_1 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.ret_val_2);                        /* ret_val_2 */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->rec.readquery_length);                        /* readquery_length */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.read_implicit->lower_response);                        /* lower_response */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit->dev_addr.device_name)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.read_implicit->dev_addr.device_name);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit->rec.data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.read_implicit->rec.data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.read_implicit)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.read_implicit);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_WRITE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "write" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_1 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_2 */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->rec.data_length);                        /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->rec.cm_pnio_err);                        /* cm_pnio_err */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->rec.ret_val_1);                        /* ret_val_1 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write->rec.ret_val_2);                        /* ret_val_2 */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write->rec.data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.write->rec.data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.write);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_WRITE_MULTIPLE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "write_multiple" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write_multiple)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "Flink" pointer itself */
            /* calculate size of list: "rec_list" */
            rqb_size+=hif_cm_ser_calc_rec_list_size(&ptr_rqb_src->args.cl.write_multiple->rec_list, LSA_FALSE);
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write_multiple);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write_multiple))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write_multiple->rec_list.Flink);            /* Flink pointer to check later if a list exists*/
            /* serialize list "rec_list" */
            help_ptr=(LSA_UINT8*)hif_cm_ser_rec_list((LSA_UINT32*)help_ptr, &ptr_rqb_src->args.cl.write_multiple->rec_list, LSA_FALSE);
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.write_multiple->cm_pnio_err);                        /* cm_pnio_err */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write_multiple))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write_multiple->data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.write_multiple->data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.write_multiple)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.write_multiple);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_ALARM_SEND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "alarm_send" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_send)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_priority */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_sequence */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_channel_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_generic_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_submod_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* reserved */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ar_diagnosis_state */
            rqb_size+=HIF_SER_SIZEOF(4);            /* mod_ident */
            rqb_size+=HIF_SER_SIZEOF(4);            /* sub_ident */
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_send))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->alarm_priority);                        /* alarm_priority */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->alarm_sequence);                        /* alarm_sequence */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->diag_channel_available);                        /* diag_channel_available */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->diag_generic_available);                        /* diag_generic_available */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->diag_submod_available);                        /* diag_submod_available */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->reserved);                        /* reserved */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->ar_diagnosis_state);                        /* ar_diagnosis_state */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->mod_ident);                        /* mod_ident */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->sub_ident);                        /* sub_ident */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_send->cm_pnio_err);                        /* cm_pnio_err */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_send))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_send->alarm_data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.alarm_send->alarm_data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_send)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.alarm_send);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_ALARM_ACK_SEND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "alarm_ack_send" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_ack_send)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* ar_diagnosis_state */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_ack_send))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.alarm_ack_send->ar_diagnosis_state);                        /* ar_diagnosis_state */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.alarm_ack_send)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.alarm_ack_send);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_LOGBOOK_READ)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "logbook_read" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.logbook_read)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(8);            /* curr_time_stamp */
            rqb_size+=HIF_SER_SIZEOF(2);            /* entry_count */
            rqb_size+=HIF_SER_SIZEOF(4);            /* entry pointer */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.logbook_read->entry))
            {
                for(i=0;i<ptr_rqb_src->args.cl.logbook_read->entry_count;i++)                /* entry*/
                {
                    rqb_size+=HIF_SER_SIZEOF(8);                    /* time_stamp */
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* session_key */
                    rqb_size+=HIF_SER_SIZEOF(2);                    /* lbentry_type */
                    rqb_size+=HIF_SER_SIZEOF(4);                    /* data_1 */
                    rqb_size+=HIF_SER_SIZEOF(4);                    /* data_2 */
                }
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.logbook_read))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_64((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read->curr_time_stamp);                        /* curr_time_stamp */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read->entry_count);                        /* entry_count */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read->entry);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.logbook_read->entry /*#10*/))
            {
                for(i=0;i<ptr_rqb_src->args.cl.logbook_read->entry_count;i++)                                                                /* entry*/
                {
                    HIF_SER_COPY_HTSHM_64((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read->entry[i].time_stamp);                                        /* time_stamp */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read->entry[i].session_key);                                        /* session_key */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read->entry[i].lbentry_type);                                        /* lbentry_type */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read->entry[i].data_1);                                        /* data_1 */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.logbook_read->entry[i].data_2);                                        /* data_2 */
                }
            }
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.logbook_read))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.logbook_read->entry)) /*#15*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.logbook_read->entry);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.logbook_read)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.logbook_read);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_CL_PRM_UPDATE)
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_CL_PRM_UPDATE_PTR_TYPE_CM_OPC_CL_PRM_UPDATE*/

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "prm_update" pointer itself */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));              /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                          /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));              /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.cl.prm_update);       /* serialize pointer info itself */

        //free prm_record_list
        hif_ser_cm_free_prm_record_list(&ptr_rqb_src->args.cl.prm_update->prm_submod.prm_record_list, LSA_NULL);
        //free prm_update

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.cl.prm_update))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.cl.prm_update);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
        
    }
    else if (opcode==CM_OPC_SV_CREATE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.create)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.create);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_DELETE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.control)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.control);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_ADD)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_add" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_add)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_send_max_length */
            rqb_size+=HIF_SER_SIZEOF(2);            /* nr_of_event_resources */
            rqb_size+=HIF_SER_SIZEOF(2);            /* nr_of_alarm_resources */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_add))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->alarm_send_max_length);                        /* alarm_send_max_length */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->nr_of_event_resources);                        /* nr_of_event_resources */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_add->nr_of_alarm_resources);                        /* nr_of_alarm_resources */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_add)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.dev_add);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_REMOVE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_remove)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.dev_remove);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_READ)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_read" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_read)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_read->data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.sv.dev_read->data_length);            /* size of: data */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* pnio_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_read))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->data_length);                        /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_read->data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.dev_read->data),ptr_rqb_src->args.sv.dev_read->data_length);            /* data */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_read->pnio_status);                        /* pnio_status */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_read))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_read->data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.dev_read->data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_read)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.dev_read);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_control)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.dev_control);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_LED_INFO)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "dev_led_info" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_led_info)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* led_info */
            rqb_size+=HIF_SER_SIZEOF(4);            /* maint_info */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_led_info);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_led_info))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_led_info->led_info);                        /* led_info */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.dev_led_info->maint_info);                        /* maint_info */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_led_info)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.dev_led_info);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_PROVIDE_EVENT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_provide_event)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.dev_provide_event);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_PROVIDE_ALARM)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.dev_provide_alarm)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.dev_provide_alarm);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_SUBMODULE_ADD)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "submod_add" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.submod_add)) /*#6*/
        {
            for(i=0;i<ptr_rqb_src->args.sv.submod_add->nr_of_elems;i++)            /* elem*/
            {
                rqb_size+=HIF_SER_SIZEOF(2);                /* response */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_add);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.submod_add))  /*#9*/
        {
            for(i=0;i<ptr_rqb_src->args.sv.submod_add->nr_of_elems;i++)                                                /* elem*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_add->elem[i].response);                                /* response */
            }
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.submod_add)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.submod_add);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_SUBMODULE_REMOVE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "submod_remove" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.submod_remove)) /*#6*/
        {
            for(i=0;i<ptr_rqb_src->args.sv.submod_remove->nr_of_elems;i++)            /* elem*/
            {
                rqb_size+=HIF_SER_SIZEOF(2);                /* response */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_remove);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.submod_remove))  /*#9*/
        {
            for(i=0;i<ptr_rqb_src->args.sv.submod_remove->nr_of_elems;i++)                                                /* elem*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.submod_remove->elem[i].response);                                /* response */
            }
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.submod_remove)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.submod_remove);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==CM_OPC_SV_DIAG_ADD)
            ||(opcode==CM_OPC_SV_DIAG_ADD2)
            ||(opcode==CM_OPC_SV_DIAG_REMOVE2))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_SV_DIAG_ADD_PTR_TYPE_CM_OPC_SV_DIAG_ADD_CM_OPC_SV_DIAG_ADD2_CM_OPC_SV_DIAG_REMOVE2*/

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "diag_add" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.diag_add))
        {
            for(i=0;i<ptr_rqb_src->args.sv.diag_add->nr_of_elems;i++)                                    /* elem*/
            {
                rqb_size+=HIF_SER_SIZEOF(2);       /* response */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));              /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);              /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));              /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add);       /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.diag_add))
        {
            for(i=0;i<ptr_rqb_src->args.sv.diag_add->nr_of_elems;i++)            /* elem*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_add->elem[i].response);              /* response */
            }
        }
        /* Delete lower RQB after lower serialization */
        for(i=0;i<ptr_rqb_src->args.sv.diag_add->nr_of_elems;i++)
        {
            if (ptr_rqb_src->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_GENERIC)
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.diag_add->elem[i].u.gen.info_data))
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.diag_add->elem[i].u.gen.info_data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.diag_add))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.diag_add);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
        
    }
    else if (opcode==CM_OPC_SV_DIAG_REMOVE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "diag_remove" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.diag_remove)) /*#6*/
        {
            for(i=0;i<ptr_rqb_src->args.sv.diag_remove->nr_of_elems;i++)            /* elem*/
            {
                rqb_size+=HIF_SER_SIZEOF(2);                /* response */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_remove);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.diag_remove))  /*#9*/
        {
            for(i=0;i<ptr_rqb_src->args.sv.diag_remove->nr_of_elems;i++)                                                /* elem*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.diag_remove->elem[i].response);                                /* response */
            }
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.diag_remove)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.diag_remove);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_ARSET_TRIGGER)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.arset_trigger)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.arset_trigger);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_ARSET_ABORT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.arset_abort)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.arset_abort);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_AR_APPL_READY)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_appl_ready" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_appl_ready)) /*#6*/
        {
            for(i=0;i<ptr_rqb_src->args.sv.ar_appl_ready->nr_of_elems;i++)            /* elem*/
            {
                rqb_size+=HIF_SER_SIZEOF(2);                /* response */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_appl_ready);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_appl_ready))  /*#9*/
        {
            for(i=0;i<ptr_rqb_src->args.sv.ar_appl_ready->nr_of_elems;i++)                                                /* elem*/
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_appl_ready->elem[i].response);                                /* response */
            }
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_appl_ready)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_appl_ready);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_AR_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_control)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_control);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_AR_ABORT)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_abort)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_abort);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_AR_PDEVPRM_READ)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_pdevprm_rdwr" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* record_data_length */
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "record_data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data /* #8*/))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data_length);            /* size of: record_data */
            }
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_1 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_2 */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data_length);                        /* record_data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data);            /* serialize pointer info itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data /*#11*/))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data),ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data_length);            /* record_data */
            }
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.cm_pnio_err);                        /* cm_pnio_err */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.ret_val_1);                        /* ret_val_1 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.ret_val_2);                        /* ret_val_2 */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_pdevprm_rdwr);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_AR_PDEVPRM_WRITE)
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_SV_AR_PDEVPRM_RDWR_PTR_TYPE_CM_OPC_SV_AR_PDEVPRM_WRITE*/

        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_pdevprm_rdwr" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(4);            /* serialize "record_data" pointer itself */
            /*
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data ))//#8
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data_length);            // size of: record_data
            }
            */
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_1 */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ret_val_2 */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data);            /* serialize pointer info itself */
            /*
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data ))//#11
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data),ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data_length);            // record_data
            }
            */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.cm_pnio_err);                        /* cm_pnio_err */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.ret_val_1);                        /* ret_val_1 */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.ret_val_2);                        /* ret_val_2 */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_pdevprm_rdwr->rec.record_data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_pdevprm_rdwr)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_pdevprm_rdwr);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
        
    }
    else if (opcode==CM_OPC_SV_AR_RIR_ACK)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_rir_ack)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_rir_ack);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_SEND)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_alarm_send" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_send)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_priority */
            rqb_size+=HIF_SER_SIZEOF(2);            /* alarm_sequence */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_channel_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_generic_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* diag_submod_available */
            rqb_size+=HIF_SER_SIZEOF(1);            /* reserved */
            rqb_size+=HIF_SER_SIZEOF(1);            /* ar_diagnosis_state */
            rqb_size+=HIF_SER_SIZEOF(4);            /* mod_ident */
            rqb_size+=HIF_SER_SIZEOF(4);            /* sub_ident */
            rqb_size+=HIF_SER_SIZEOF(4);            /* cm_pnio_err */
            rqb_size+=HIF_SER_SIZEOF(4);            /* maintenance_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_send))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_priority);                        /* alarm_priority */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_sequence);                        /* alarm_sequence */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->diag_channel_available);                        /* diag_channel_available */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->diag_generic_available);                        /* diag_generic_available */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->diag_submod_available);                        /* diag_submod_available */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->reserved);                        /* reserved */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->ar_diagnosis_state);                        /* ar_diagnosis_state */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->mod_ident);                        /* mod_ident */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->sub_ident);                        /* sub_ident */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->cm_pnio_err);                        /* cm_pnio_err */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->maintenance_status);                        /* maintenance_status */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_send))
        {
     /*#2*/
            {
                if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_send->alarm_data)) /*#13*/
                {
                    HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_alarm_send->alarm_data);
                    if (freeRes != LSA_RET_OK)
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
            }
        }
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_send)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_alarm_send);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_RSP)
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_IND)
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_ALARM_PTR_TYPE_CM_OPC_SV_AR_ALARM_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);       /* original lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_alarm_send" pointer itself */
        if(ptr_rqb_src->args.sv.ar_alarm_send != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(2);         /* alarm_priority */
            rqb_size+=HIF_SER_SIZEOF(4);         /* api */
            rqb_size+=HIF_SER_SIZEOF(2);         /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* alarm_type */
            rqb_size+=HIF_SER_SIZEOF(2);         /* alarm_sequence */
            rqb_size+=HIF_SER_SIZEOF(1);         /* diag_channel_available */
            rqb_size+=HIF_SER_SIZEOF(1);         /* diag_generic_available */
            rqb_size+=HIF_SER_SIZEOF(1);         /* diag_submod_available */
            rqb_size+=HIF_SER_SIZEOF(1);         /* reserved */
            rqb_size+=HIF_SER_SIZEOF(1);         /* ar_diagnosis_state */
            rqb_size+=HIF_SER_SIZEOF(4);         /* mod_ident */
            rqb_size+=HIF_SER_SIZEOF(4);         /* sub_ident */
            rqb_size+=HIF_SER_SIZEOF(2);         /* alarm_tag */
            rqb_size+=HIF_SER_SIZEOF(2);         /* alarm_data_length */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "alarm_data" pointer itself */
            if (ptr_rqb_src->args.sv.ar_alarm_send->alarm_data != LSA_NULL)
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.sv.ar_alarm_send->alarm_data_length);         /* size of: alarm_data */
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));              /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                          /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));              /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.sv.ar_alarm_send != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->device_nr);                       /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->ar_nr);                           /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->session_key);                    /* session_key */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_priority);                 /* alarm_priority */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->api);                         /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->slot_nr);                     /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->subslot_nr);                      /* subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_type);                      /* alarm_type */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_sequence);                 /* alarm_sequence */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->diag_channel_available);          /* diag_channel_available */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->diag_generic_available);          /* diag_generic_available */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->diag_submod_available);           /* diag_submod_available */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->reserved);                     /* reserved */
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->ar_diagnosis_state);              /* ar_diagnosis_state */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->mod_ident);                       /* mod_ident */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->sub_ident);                       /* sub_ident */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_tag);                       /* alarm_tag */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_data_length);              /* alarm_data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_send->alarm_data);         /* serialize pointer info itself */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                          /* original lower xRQB pointer */
            if ((ptr_rqb_src->args.sv.ar_alarm_send->alarm_data != LSA_NULL) && (ptr_rqb_src->args.sv.ar_alarm_send->alarm_data_length >0))
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_alarm_send->alarm_data),ptr_rqb_src->args.sv.ar_alarm_send->alarm_data_length);         /* alarm_data */
            }
        }
        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_ACK)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_alarm_ack" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_ack)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(1);            /* ar_diagnosis_state */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_ack))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_alarm_ack->ar_diagnosis_state);                        /* ar_diagnosis_state */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_alarm_ack)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_alarm_ack);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if  ((opcode==CM_OPC_SV_AR_CONNECT_IND)
            ||(opcode==CM_OPC_SV_AR_CONNECT_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_CONNECT_IND*/

        LSA_UINT16 ARFSUBlock_length = 0;                   //CM_OPC_SV_AR_CONNECT_IND, CM_OPC_SV_AR_DISCONNECT_IND

        LSA_UINT32 cmi_station_name_length = 0;

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_event" pointer itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "ar_connect" pointer itself */
            rqb_size+=HIF_SER_SIZEOF(4);         /* original lower xRQB pointer */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect != LSA_NULL)
            {
                rqb_size+=HIF_SER_SIZEOF(4);           /* host_ip */
                //get length of cmi_station_name
                cmi_station_name_length = HIF_STRLEN((const LSA_CHAR*)ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_station_name)+1;
                rqb_size+=HIF_SER_SIZEOF(4);           /* cmi_station_name_length */
                rqb_size+=HIF_SER_SIZEOF(4);           /* serialize "cmi_station_name" pointer itself */
                if (ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_station_name != LSA_NULL)
                {
                    rqb_size+=HIF_SER_SIZEOF(cmi_station_name_length);           /* size of: cmi_station_name */
                }
                rqb_size+=HIF_SER_SIZEOF(4);           /* time_low */
                rqb_size+=HIF_SER_SIZEOF(2);           /* time_mid */
                rqb_size+=HIF_SER_SIZEOF(2);           /* time_hi_and_version */
                rqb_size+=HIF_SER_SIZEOF(1);           /* clock_seq_hi_and_reserved */
                rqb_size+=HIF_SER_SIZEOF(1);           /* clock_seq_low */
                rqb_size+=(HIF_SER_SIZEOF(1) * 6);           /* node */
                rqb_size+=HIF_SER_SIZEOF(4);           /* time_low */
                rqb_size+=HIF_SER_SIZEOF(2);           /* time_mid */
                rqb_size+=HIF_SER_SIZEOF(2);           /* time_hi_and_version */
                rqb_size+=HIF_SER_SIZEOF(1);           /* clock_seq_hi_and_reserved */
                rqb_size+=HIF_SER_SIZEOF(1);           /* clock_seq_low */
                rqb_size+=(HIF_SER_SIZEOF(1) * 6);           /* node */
                rqb_size+=HIF_SER_SIZEOF(2);           /* alarm_send_max_length */
                rqb_size+=HIF_SER_SIZEOF(2);           /* ar_type */
                rqb_size+=HIF_SER_SIZEOF(4);           /* ar_properties */
                rqb_size+=HIF_SER_SIZEOF(1);           /* is_iosar_with_device_access */
                rqb_size+=HIF_SER_SIZEOF(2);           /* ARFSUBlock_length */
                if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr))
                {
                    ARFSUBlock_length = HIF_NTOH_S( *(LSA_UINT16*) ((LSA_UINT8*)(ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr) + 2/*offset of BlockLength*/) ) + 2/*BlockType*/ + 2/*BlockLength*/;
                }
                rqb_size+=HIF_SER_SIZEOF(4);           /* serialize "ARFSUBlock_ptr" pointer itself */
                if (ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr != LSA_NULL)
                {
                    rqb_size+=HIF_SER_SIZEOF(ARFSUBlock_length);           /* size of: ARFSUBlock_ptr */
                }
                rqb_size+=HIF_SER_SIZEOF(4);           /* sr_rdht_msec */
                rqb_size+=HIF_SER_SIZEOF(4);           /* sr_properties */

                {
                    CM_UPPER_SV_AR_CONNECT_PTR_TYPE ar_connect = ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect;
                    rqb_size+=HIF_SER_SIZEOF(4);           /* ARVendorBlock_cnt */
                    if( ar_connect->ARVendorBlock_cnt != 0 )
                    {
                        rqb_size+=HIF_SER_SIZEOF(4);           /* size helper */
                        rqb_size+=HIF_SER_SIZEOF(ar_connect->ARVendorBlock_ptr[ar_connect->ARVendorBlock_cnt]); /* size to copy */
                    }
                }

                rqb_size+=HIF_SER_SIZEOF(2);           /* send_clock_31250ns */
                rqb_size+=HIF_SER_SIZEOF(2);           /* nr_of_iocrs */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->nr_of_iocrs;i++)
                {           /* iocr*/
                    rqb_size+=HIF_SER_SIZEOF(2);             /* iocr_ref */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* frame_id */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* iocr_type */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* iocr_properties */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* uvar32 */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* reduction_ratio */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* cycle_phase */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* io_buffer_size */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* eddx_apdu_status_length */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* eddx_data_status_offset   */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* eddi_cw_offset   */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* eddi_apdu_status_offset */
                }
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));               /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                           /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));                       /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                                    /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                                  /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect);                  /* serialize pointer info itself */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                                 /* original lower xRQB pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->send_clock_31250ns);          /* send_clock_31250ns */
            /* INFO: serialize the array size right after the pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->nr_of_iocrs);                              /* nr_of_iocrs */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect != LSA_NULL)
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->host_ip);                                 /* host_ip */
                /* store cmi_station_name - length (no length variable available) */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,cmi_station_name_length);                                                                 /* length of cmi_station */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_station_name);                /* serialize pointer info itself */

                if (ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_station_name != LSA_NULL && cmi_station_name_length>0)
                {
                    HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_station_name),cmi_station_name_length);   /* cmi_station_name */
                }
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.time_low);                       /* time_low */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.time_mid);                       /* time_mid */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.time_hi_and_version);           /* time_hi_and_version */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.clock_seq_hi_and_reserved);      /* clock_seq_hi_and_reserved */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.clock_seq_low);                  /* clock_seq_low */
                for(i=0;i<6;i++)
                {                           /* cmi_obj_uuid*/
                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.node[i]);                     /* node */
                }
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ar_uuid.time_low);                            /* time_low */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ar_uuid.time_mid);                            /* time_mid */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ar_uuid.time_hi_and_version);                /* time_hi_and_version */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ar_uuid.clock_seq_hi_and_reserved);           /* clock_seq_hi_and_reserved */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ar_uuid.clock_seq_low);                        /* clock_seq_low */
                for(i=0;i<6;i++)
                {                           /* ar_uuid*/
                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ar_uuid.node[i]);                          /* node */
                }
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->alarm_send_max_length);                       /* alarm_send_max_length */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ar_type);                                 /* ar_type */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ar_properties);                               /* ar_properties */
                HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->is_iosar_with_device_access);                 /* is_iosar_with_device_access */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ARFSUBlock_length);                                                                           /* ARFSUBlock_length */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr);                  /* serialize pointer info itself */
                if (ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr != LSA_NULL && ARFSUBlock_length>0)
                    HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr),ARFSUBlock_length);       /* ARFSUBlock_ptr */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->sr_rdht_msec);                                 /* sr_rdht_msec */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->sr_properties);                                /* sr_properties */

                //AP01354956
                {
                    CM_UPPER_SV_AR_CONNECT_PTR_TYPE ar_connect = ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect;
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr, ar_connect->ARVendorBlock_cnt);                               /* ARVendorBlock_cnt */
                    if (ar_connect->ARVendorBlock_ptr != LSA_NULL && ar_connect->ARVendorBlock_cnt != 0)
                    {
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr, ar_connect->ARVendorBlock_ptr[ar_connect->ARVendorBlock_cnt]); /* size helper */
                        HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)ar_connect->ARVendorBlock_ptr, ar_connect->ARVendorBlock_ptr[ar_connect->ARVendorBlock_cnt]); /* size to copy */
                    }
                }

                //HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->nr_of_iocrs);                                /* nr_of_iocrs */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->nr_of_iocrs;i++)
                {                                                                /* iocr*/
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].iocr_ref);                  /* iocr_ref */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].frame_id);                  /* frame_id */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].iocr_type);                 /* iocr_type */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].iocr_properties);           /* iocr_properties */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].iocr_user_id.uvar32);       /* uvar32 */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].reduction_ratio);           /* reduction_ratio */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].cycle_phase);               /* cycle_phase */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].io_buffer_size);            /* io_buffer_size */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddx_apdu_status_length);   /* eddx_apdu_status_length */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddx_data_status_offset  ); /* eddx_data_status_offset   */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddi_cw_offset  );          /* eddi_cw_offset   */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddi_apdu_status_offset);   /* eddi_apdu_status_offset */
                }
            }
        }
        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if  ((opcode==CM_OPC_SV_AR_DISCONNECT_IND)
            ||(opcode==CM_OPC_SV_AR_DISCONNECT_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_DISCONNECT_IND*/

        LSA_UINT16 ARFSUBlock_length = 0;                   //CM_OPC_SV_AR_CONNECT_IND, CM_OPC_SV_AR_DISCONNECT_IND
        LSA_UINT32 cmi_station_name_length = 0;

        rqb_size+=HIF_SER_SIZEOF(4);        			/* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        	/* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();   	/* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        			/* Specialcase: original lower xRQB pointer */
        
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_event" pointer itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "ar_disconnect" pointer itself */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect != LSA_NULL)
            {
                rqb_size+=HIF_SER_SIZEOF(4);           /* host_ip */
                //get length of cmi_station_name
                cmi_station_name_length = HIF_STRLEN((const LSA_CHAR*)ptr_rqb_src->args.sv.ar_event->u.sv.ar_connect->cmi_station_name)+1;
                rqb_size+=HIF_SER_SIZEOF(4);           /* cmi_station_name_length */
                rqb_size+=HIF_SER_SIZEOF(4);           /* serialize "cmi_station_name" pointer itself */
                if (ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name != LSA_NULL)
                {
                    rqb_size+=HIF_SER_SIZEOF(cmi_station_name_length);           /* size of: cmi_station_name */
                }
                rqb_size+=HIF_SER_SIZEOF(4);           /* time_low */
                rqb_size+=HIF_SER_SIZEOF(2);           /* time_mid */
                rqb_size+=HIF_SER_SIZEOF(2);           /* time_hi_and_version */
                rqb_size+=HIF_SER_SIZEOF(1);           /* clock_seq_hi_and_reserved */
                rqb_size+=HIF_SER_SIZEOF(1);           /* clock_seq_low */
                rqb_size+=(HIF_SER_SIZEOF(1) * 6);           /* node */
                rqb_size+=HIF_SER_SIZEOF(4);           /* time_low */
                rqb_size+=HIF_SER_SIZEOF(2);           /* time_mid */
                rqb_size+=HIF_SER_SIZEOF(2);           /* time_hi_and_version */
                rqb_size+=HIF_SER_SIZEOF(1);           /* clock_seq_hi_and_reserved */
                rqb_size+=HIF_SER_SIZEOF(1);           /* clock_seq_low */
                rqb_size+=(HIF_SER_SIZEOF(1) * 6);           /* node */
                rqb_size+=HIF_SER_SIZEOF(2);           /* alarm_send_max_length */
                rqb_size+=HIF_SER_SIZEOF(2);           /* ar_type */
                rqb_size+=HIF_SER_SIZEOF(4);           /* ar_properties */
                rqb_size+=HIF_SER_SIZEOF(1);           /* is_iosar_with_device_access */
                rqb_size+=HIF_SER_SIZEOF(2);           /* ARFSUBlock_length */
                if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ARFSUBlock_ptr))
                {
                    ARFSUBlock_length = HIF_NTOH_S ( *(LSA_UINT16*) ((LSA_UINT8*)(ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ARFSUBlock_ptr) + 2/*offset of BlockLength*/) ) + 2/*BlockType*/ + 2/*BlockLength*/;
                }
                rqb_size+=HIF_SER_SIZEOF(4);           /* serialize "ARFSUBlock_ptr" pointer itself */
                if (ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ARFSUBlock_ptr != LSA_NULL)
                {
                    rqb_size+=HIF_SER_SIZEOF(ARFSUBlock_length);           /* size of: ARFSUBlock_ptr */
                }
                rqb_size+=HIF_SER_SIZEOF(4);           /* sr_rdht_msec */
                rqb_size+=HIF_SER_SIZEOF(4);           /* sr_properties */
                rqb_size+=HIF_SER_SIZEOF(4);           /* reason_code */
                rqb_size+=HIF_SER_SIZEOF(4);           /* reason_pnio_status */
                rqb_size+=HIF_SER_SIZEOF(1);           /* was_in_data */
                rqb_size+=HIF_SER_SIZEOF(2);           /* send_clock_31250ns */
                rqb_size+=HIF_SER_SIZEOF(2);           /* nr_of_iocrs */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->nr_of_iocrs;i++)
                {           /* iocr*/
                    rqb_size+=HIF_SER_SIZEOF(2);             /* iocr_ref */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* frame_id */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* iocr_type */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* iocr_properties */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* iocr_user_id */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* reduction_ratio */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* cycle_phase */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* io_buffer_size */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* eddx_apdu_status_length */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* eddx_data_status_offset   */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* eddi_cw_offset   */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* eddi_apdu_status_offset */
                }
            }
        }

        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));           /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                   /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));       /* _response */

		/* Specialcase: Serialize xRQB - original lower RQB Pointer */
		HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                 /* original lower xRQB pointer */
        
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);  /* serialize pointer info itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                                /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                                    /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                              /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect);          /* serialize pointer info itself */
            /* INFO: serialize the array size right after the pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->nr_of_iocrs);              /* nr_of_iocrs */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect != LSA_NULL)
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->host_ip);                                  /* host_ip */
                /* store cmi_station_name - length (no length variable available) */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,cmi_station_name_length);                                                                 /* length of cmi_station */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name);              /* serialize pointer info itself */

                if (ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name != LSA_NULL && cmi_station_name_length>0)
                {
                    HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name),cmi_station_name_length);           /* cmi_station_name */
                }
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.time_low);                  /* time_low */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.time_mid);                  /* time_mid */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.time_hi_and_version);       /* time_hi_and_version */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.clock_seq_hi_and_reserved);  /* clock_seq_hi_and_reserved */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.clock_seq_low);              /* clock_seq_low */
                for(i=0;i<6;i++)
                {                           /* cmi_obj_uuid*/
                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.node[i]);                  /* node */
                }
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.time_low);                    /* time_low */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.time_mid);                       /* time_mid */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.time_hi_and_version);            /* time_hi_and_version */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.clock_seq_hi_and_reserved);       /* clock_seq_hi_and_reserved */
                HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.clock_seq_low);                   /* clock_seq_low */
                for(i=0;i<6;i++)
                {                           /* ar_uuid*/
                    HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.node[i]);                       /* node */
                }
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->alarm_send_max_length);                  /* alarm_send_max_length */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ar_type);                          /* ar_type */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ar_properties);                   /* ar_properties */
                HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->is_iosar_with_device_access);                  /* is_iosar_with_device_access */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ARFSUBlock_length);                                                                           /* ARFSUBlock_length */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ARFSUBlock_ptr);         /* serialize pointer info itself */
                if (ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ARFSUBlock_ptr != LSA_NULL && ARFSUBlock_length > 0)
                {
                    HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->ARFSUBlock_ptr),ARFSUBlock_length);         /* ARFSUBlock_ptr */
                }
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->sr_rdht_msec);              /* sr_rdht_msec */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->sr_properties);              /* sr_properties */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->disconnect.reason_code);              /* reason_code */
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->disconnect.reason_pnio_status);              /* reason_pnio_status */
                HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->disconnect.was_in_data);              /* was_in_data */
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->send_clock_31250ns);            /* send_clock_31250ns */

                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->nr_of_iocrs;i++)
                {                            /* iocr*/
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].iocr_ref);                  /* iocr_ref */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].frame_id);                  /* frame_id */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].iocr_type);                  /* iocr_type */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].iocr_properties);                  /* iocr_type */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].iocr_user_id.uvar32);                  /* iocr_user_id */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].reduction_ratio);                                        /* reduction_ratio */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].cycle_phase);                  /* cycle_phase */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].io_buffer_size);                  /* io_buffer_size */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddx_apdu_status_length);                  /* eddx_apdu_status_length */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddx_data_status_offset  );                  /* eddx_data_status_offset   */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddi_cw_offset  );                  /* eddi_cw_offset   */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddi_apdu_status_offset);                  /* eddi_apdu_status_offset */
                }
            }
        }
        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if  ((opcode==CM_OPC_SV_AR_OWNERSHIP_IND)
            ||(opcode==CM_OPC_SV_AR_OWNERSHIP_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_OWNERSHIP_IND*/

        LSA_UINT32 j=0;

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_event" pointer itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "ar_ownership" pointer itself */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership != LSA_NULL)
            {
                rqb_size+=HIF_SER_SIZEOF(4);         /* original lower xRQB pointer */
                rqb_size+=HIF_SER_SIZEOF(2);           /* ar_context */
                rqb_size+=HIF_SER_SIZEOF(1);           /* set_mrp_off */
                rqb_size+=HIF_SER_SIZEOF(2);           /* nr_of_elems */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->nr_of_elems;i++)
                {           /* elem*/
                    rqb_size+=HIF_SER_SIZEOF(4);             /* api */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* slot_nr */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* subslot_nr */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* mod_ident */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* mod_properties */
                    rqb_size+=HIF_SER_SIZEOF(4);             /* sub_ident */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* sub_properties */
                    for(j=0;j<2;j++)
                    {             /* descr*/
                        rqb_size+=HIF_SER_SIZEOF(2);               /* data_description */
                        rqb_size+=HIF_SER_SIZEOF(4);               /* uvar32 */
                        rqb_size+=HIF_SER_SIZEOF(2);               /* data_offset */
                        rqb_size+=HIF_SER_SIZEOF(2);               /* data_length */
                        rqb_size+=HIF_SER_SIZEOF(1);               /* iops_length */
                        rqb_size+=HIF_SER_SIZEOF(4);               /* uvar32 */
                        rqb_size+=HIF_SER_SIZEOF(2);               /* iocs_offset */
                        rqb_size+=HIF_SER_SIZEOF(1);               /* iocs_length */
                    }
                    rqb_size+=HIF_SER_SIZEOF(1);             /* is_wrong */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* owner_session_key */
                }
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));              /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);              /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));              /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                  /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                  /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                  /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership);         /* serialize pointer info itself */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                                 /* original lower xRQB pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->nr_of_elems);                      /* nr_of_elems */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership != LSA_NULL)
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->ar_context);                      /* ar_context */
                HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->set_mrp_off);                      /* set_mrp_off */

                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->nr_of_elems;i++)
                {                                            /* elem*/
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].api);                          /* api */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].slot_nr);                          /* slot_nr */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].subslot_nr);                          /* subslot_nr */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].mod_ident);                          /* mod_ident */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].mod_properties);                          /* mod_properties */
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].sub_ident);                          /* sub_ident */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].sub_properties);                          /* sub_properties */
                    for(j=0;j<2;j++)
                    {                                                    /* descr*/
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_description);                              /* data_description */
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_user_id.uvar32);                              /* uvar32 */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_offset);                              /* data_offset */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_length);                              /* data_length */
                        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iops_length);                              /* iops_length */
                        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_user_id.uvar32);                              /* uvar32 */
                        HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_offset);                              /* iocs_offset */
                        HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_length);                              /* iocs_length */
                    }
                    HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].is_wrong);                          /* is_wrong */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_ownership->elem[i].owner_session_key);                          /* owner_session_key */
                }
            }
        }
        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if  ((opcode==CM_OPC_SV_AR_PDEVPRM_IND)
            ||(opcode==CM_OPC_SV_AR_PDEVPRM_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_DATA_STATUS_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);                        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();             /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();           /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);                        /* serialize "ar_event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event))  /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);            /* original lower xRQB pointer */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                   /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                           /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));              /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);       /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event))  /*#9*/
            {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                    /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                  /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                                 /* original lower xRQB pointer */
            }

        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if  ((opcode==CM_OPC_SV_AR_PRM_END_IND)
            ||(opcode==CM_OPC_SV_AR_PRM_END_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_PRM_END_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_event" pointer itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "ar_prm_end" pointer itself */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end != LSA_NULL)
            {
                rqb_size+=HIF_SER_SIZEOF(4);         /* original lower xRQB pointer */
                rqb_size+=HIF_SER_SIZEOF(2);           /* ar_context */
                rqb_size+=HIF_SER_SIZEOF(2);           /* nr_of_elems */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->nr_of_elems;i++)
                {           /* elem*/
                    rqb_size+=HIF_SER_SIZEOF(4);             /* api */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* slot_nr */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* subslot_nr */
                    rqb_size+=HIF_SER_SIZEOF(1);             /* appl_ready_follows */
                    rqb_size+=HIF_SER_SIZEOF(1);             /* appl_ready_pending */
                }
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));              /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);              /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));               /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                  /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                  /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                  /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end);         /* serialize pointer info itself */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                        /* original lower xRQB pointer */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->nr_of_elems);                      /* nr_of_elems */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end != LSA_NULL)
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->ar_context);                      /* ar_context */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->nr_of_elems;i++)
                {                                            /* elem*/
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->elem[i].api);                          /* api */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->elem[i].slot_nr);                          /* slot_nr */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->elem[i].subslot_nr);                          /* subslot_nr */
                    HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->elem[i].appl_ready_follows);                          /* appl_ready_follows */
                    HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_prm_end->elem[i].appl_ready_pending);                          /* appl_ready_pending */
                }
            }
        }
        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if  ((opcode==CM_OPC_SV_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_SV_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_IN_DATA_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_event" pointer itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "ar_in_data" pointer itself */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data != LSA_NULL)
            {
                rqb_size+=HIF_SER_SIZEOF(4);         /* original lower xRQB pointer */
                rqb_size+=HIF_SER_SIZEOF(2);           /* nr_of_elems */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->nr_of_elems;i++)
                {           /* elem*/
                    rqb_size+=HIF_SER_SIZEOF(4);             /* api */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* slot_nr */
                    rqb_size+=HIF_SER_SIZEOF(2);             /* subslot_nr */
                }
            }
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));              /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);              /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));              /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                  /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                  /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                  /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data);         /* serialize pointer info itself */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                                 /* original lower xRQB pointer */
            if(ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data != LSA_NULL)
            {
                HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->nr_of_elems);                      /* nr_of_elems */
                for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->nr_of_elems;i++)
                {                                            /* elem*/
                    HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->elem[i].api);                          /* api */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->elem[i].slot_nr);                          /* slot_nr */
                    HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_in_data->elem[i].subslot_nr);                          /* subslot_nr */
                }
            }
        }

        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if  ((opcode==CM_OPC_SV_AR_RIR_IND)
            ||(opcode==CM_OPC_SV_AR_RIR_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_RIR_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* Specialcase: original lower xRQB pointer */

        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            /*ar_rir.rsv_interval_red*/
            rqb_size+=HIF_SER_SIZEOF(4);            /* RxEndNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* RxLocalTransferEndNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TxEndNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TxLocalTransferStartNs */
            rqb_size+=HIF_SER_SIZEOF(4);            /* TxLocalTransferEndNs */
            rqb_size+=HIF_SER_SIZEOF(2);            /* nr_of_elems */
            for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_rir.nr_of_elems;i++)            /* elem*/
            {
                rqb_size+=HIF_SER_SIZEOF(4);                /* iocr_user_id.uvar32 */
            }
        }

        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() special-case opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));       /* _response */

        /* Specialcase: Serialize xRQB - original lower RQB Pointer */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                 /* original lower xRQB pointer */

        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rir.rsv_interval_red.RxEndNs);                        /* RxEndNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rir.rsv_interval_red.RxLocalTransferEndNs);                        /* RxLocalTransferEndNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rir.rsv_interval_red.TxEndNs);                        /* TxEndNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rir.rsv_interval_red.TxLocalTransferStartNs);                        /* TxLocalTransferStartNs */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rir.rsv_interval_red.TxLocalTransferEndNs);                        /* TxLocalTransferEndNs */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rir.nr_of_elems);                        /* nr_of_elems */
            for(i=0;i<ptr_rqb_src->args.sv.ar_event->u.sv.ar_rir.nr_of_elems;i++)                                                /* elem*/
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rir.elem[i].iocr_user_id.uvar32);                                /* uvar32 */
            }
        }

    }
    else if  ((opcode==CM_OPC_SV_AR_READ_IND)
            ||(opcode==CM_OPC_SV_AR_READ_RSP)
            ||(opcode==CM_OPC_SV_AR_WRITE_IND)
            ||(opcode==CM_OPC_SV_AR_WRITE_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_READ_IND_CM_OPC_SV_AR_WRITE_IND*/

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);                    /* Specialcase: original lower xRQB pointer */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "ar_event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event))
        {
            rqb_size+=HIF_SER_SIZEOF(2);         /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* session_key */
            rqb_size+=HIF_SER_SIZEOF(4);         /* api */
            rqb_size+=HIF_SER_SIZEOF(2);         /* slot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* subslot_nr */
            rqb_size+=HIF_SER_SIZEOF(2);         /* record_index */
            rqb_size+=HIF_SER_SIZEOF(2);         /* sequence_nr */
            rqb_size+=HIF_SER_SIZEOF(4);         /* data_length */
            rqb_size+=HIF_SER_SIZEOF(4);         /* serialize "data" pointer itself */
            if (HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data))
            {
                rqb_size+=HIF_SER_SIZEOF(ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data_length);         /* size of: data */
            }
            if (opcode==CM_OPC_SV_AR_READ_IND)
            {
                rqb_size+=HIF_SER_SIZEOF(4);         /* readquery_length */
            }
            if (opcode==CM_OPC_SV_AR_WRITE_IND)
            {
                rqb_size+=HIF_SER_SIZEOF(1);         /* is_iosar_with_device_access */
            }
        }

        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                               /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                           /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));                                       /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);                   /* serialize pointer info itself */
        if(ptr_rqb_src->args.sv.ar_event != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                            /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                      /* session_key */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.api);                 /* api */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.slot_nr);             /* slot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.subslot_nr);          /* subslot_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.record_index);        /* record_index */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.sequence_nr);         /* sequence_nr */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data_length);         /* data_length */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data);    /* serialize pointer info itself */
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src);                                     /* original lower xRQB pointer */
            if (ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data != LSA_NULL && ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data > 0)
            {
                HIF_SER_COPY_HTSHM_BUF((LSA_UINT32**)&help_ptr,(LSA_UINT32*)(ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data),ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.data_length);         /* data */
            }
            if (opcode==CM_OPC_SV_AR_READ_IND)
            {
                HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.readquery_length);                  /* readquery_length */
            }
            if (opcode==CM_OPC_SV_AR_WRITE_IND)
            {
                HIF_SER_COPY_HTSHM_LSA_BOOL((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_rec.is_iosar_with_device_access);        /* is_iosar_with_device_access */
            }
        }
        /* SPECIAL-CASE- no FREE necessary */
        
    }
    else if  ((opcode==CM_OPC_SV_AR_DATA_STATUS_IND)
            ||(opcode==CM_OPC_SV_AR_DATA_STATUS_RSP))
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);        /* serialize "ar_event" pointer itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event)) /*#6*/
        {
            rqb_size+=HIF_SER_SIZEOF(2);            /* device_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* ar_nr */
            rqb_size+=HIF_SER_SIZEOF(2);            /* session_key */
            rqb_size+=HIF_SER_SIZEOF(1);            /* curr */
            rqb_size+=HIF_SER_SIZEOF(1);            /* prev */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event);        /* serialize pointer info itself */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event))  /*#9*/
        {
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->device_nr);                        /* device_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->ar_nr);                        /* ar_nr */
            HIF_SER_COPY_HTSHM_16((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->session_key);                        /* session_key */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_data_status.curr);                        /* curr */
            HIF_SER_COPY_HTSHM_8((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.sv.ar_event->u.sv.ar_data_status.prev);                        /* prev */
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.sv.ar_event)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.sv.ar_event);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_MC_CREATE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.create)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.mc.create);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_MC_DELETE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_MC_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.control)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.mc.control);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_MC_DEVICE_ADD)
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_MC_DEVICE_ADD_PTR_TYPE_CM_OPC_MC_DEVICE_ADD*/

        rqb_size+=HIF_SER_SIZEOF(4);       /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();       /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();       /* _response */
        rqb_size+=HIF_SER_SIZEOF(4);       /* serialize "dev_add" pointer itself */
        if(ptr_rqb_src->args.mc.dev_add != LSA_NULL)
        {
            rqb_size+=HIF_SER_SIZEOF(4);         /* pnio_status */
        }
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));              /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                                          /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,CM_RQB_GET_RESPONSE(ptr_rqb_src));              /* _response */
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.dev_add);       /* serialize pointer info itself */
        if(ptr_rqb_src->args.mc.dev_add != LSA_NULL)
        {
            HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,ptr_rqb_src->args.mc.dev_add->pnio_status);                  /* pnio_status */
        }

        //free ar_list
        if (hif_ser_cm_free_ar_list(&ptr_rqb_src->args.mc.dev_add->ar_list, LSA_FALSE)!=HIF_OK)
        {
            return HIF_ERR_RESOURCE;
        }

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.dev_add))
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.mc.dev_add);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
        
    }
    else if (opcode==CM_OPC_MC_DEVICE_REMOVE)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.dev_remove)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.mc.dev_remove);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_MC_DEVICE_CONTROL)
    {
        rqb_size+=HIF_SER_SIZEOF(4);        /* original upper RQB pointer */
        rqb_size+=HIF_SER_SIZEOF_OPCODE_TYPE();        /* _opcode */
        rqb_size+=HIF_SER_SIZEOF_RESPONSE_TYPE();        /* _response */
        HIF_ALLOC_SER_MEM((LSA_VOID**)(&help_ptr), rqb_size, hSysDev, hShmPool);
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_serialize_lower() opc(%d) rqb_size_shm(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,ptr_rqb_src);

        if (HIF_IS_NULL(help_ptr))
        {
            return HIF_ERR_RESOURCE;
        }

        *ptr_ptr_rqb_dest = help_ptr;
        HIF_SER_COPY_HTSHM_32((LSA_UINT32**)&help_ptr,*((LSA_UINT32*)ptr_rqb_src-1));                /* original upper RQB pointer */

        HIF_SER_OPCODE_HTSHM((LSA_UINT32**)&help_ptr,opcode);                /* _opcode */
        HIF_SER_RESPONSE_HTSHM((LSA_UINT32**)&help_ptr,HIF_RQB_GET_RESPONSE(ptr_rqb_src));                /* _response */

        /* Delete lower RQB after lower serialization */
        if(HIF_IS_NOT_NULL(ptr_rqb_src->args.mc.dev_control)) /*#14*/
        {
            HIF_FREE_LOCAL_MEM(&freeRes,ptr_rqb_src->args.mc.dev_control);
            if (freeRes != LSA_RET_OK)
            {
                return HIF_ERR_RESOURCE;
            }
        }
        HIF_FREE_LOCAL_MEM(&freeRes,(LSA_UINT8*)ptr_rqb_src-HIF_SER_SIZEOF(4));
        if (freeRes != LSA_RET_OK)
        {
            return HIF_ERR_RESOURCE;
        }
    }
    else if (opcode==CM_OPC_PD_EVENT_APPL_READY_RSP)
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else if  ((opcode==CM_OPC_PD_ALARM_RSP)
            ||(opcode==CM_OPC_CL_ALARM_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else
    {
        HIF_PROGRAM_TRACE_02(0,LSA_TRACE_LEVEL_FATAL,"hif_cm_serialize_lower(). RQB-Opcode:0x%x is not valid! pRQB(0x%08x)",opcode,ptr_rqb_src+4);
        HIF_FATAL(0);
    }

    *pSerRqbLen = rqb_size;

    HIF_ASSERT(HIF_IS_NOT_NULL(help_ptr)); /*#4*/

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_SERIALIZE(opcode, *ptr_ptr_rqb_dest, rqb_size, help_ptr, "hif_cm_serialize_lower");

    return HIF_OK;
}

/****************************************************************************
*  Name:        hif_cm_deserialize_upper()
*  Purpose:     De-serializes the RQB from the HIF shared memory into the
*               hosts local memory - according to the component ID and
*               OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB in shared memory
                pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the hosts local memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16      hif_cm_deserialize_upper (
        HIF_SYS_HANDLE hSysDev,
        LSA_VOID* pHifPipeHandle,
        LSA_VOID* pRqbSrc,
        LSA_VOID** ppRqbDest )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_OPCODE_TYPE opcode = 0;
    LSA_VOID* ptr_rqb_src = (LSA_VOID*)pRqbSrc;
    CM_RQB_TYPE** ptr_ptr_rqb_dest = (CM_RQB_TYPE**)ppRqbDest;
    LSA_RESPONSE_TYPE response = 0;
    CM_RQB_TYPE* new_rqb  = LSA_NULL;
    LSA_UINT32 i=0;

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_ptr_rqb_dest)); /*#17*/
    HIF_DESER_GET_OPCODE(ptr_rqb_src, opcode);

    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    if (opcode==CM_OPC_OPEN_CHANNEL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_CLOSE_CHANNEL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_CHANNEL_INFO)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.channel.info) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_CHANNEL_INFO_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.info->hardware_type,(LSA_UINT32**)&help_ptr);                /* hardware_type */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.info->interface_id,(LSA_UINT32**)&help_ptr);                /* interface_id */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.info->port_cnt,(LSA_UINT32**)&help_ptr);                /* port_cnt */
                for(i=0;i<6;i++)                                                /* mac*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.channel.info->mac_addr.mac[i],(LSA_UINT32**)&help_ptr);                /* mac */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.info->process_image_base_addr,(LSA_UINT32**)&help_ptr);                /* process_image_base_addr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.info->process_image_start_offset,(LSA_UINT32**)&help_ptr);                /* process_image_start_offset */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.info->process_image_end_offset,(LSA_UINT32**)&help_ptr);                /* process_image_end_offset */
            }
            else
            {
                new_rqb->args.channel.info = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_OVERLOAD_INFO)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.channel.overload) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_OVERLOAD_INFO_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.overload->send_overload_counter,(LSA_UINT32**)&help_ptr);                /* send_overload_counter */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.overload->recv_overload_counter,(LSA_UINT32**)&help_ptr);                /* recv_overload_counter */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.channel.overload->send_overload_changed,(LSA_UINT32**)&help_ptr);                /* send_overload_changed */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.channel.overload->recv_overload_changed,(LSA_UINT32**)&help_ptr);                /* recv_overload_changed */
            }
            else
            {
                new_rqb->args.channel.overload = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_PROVIDE_ALARM)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if  ((opcode==CM_OPC_PD_ALARM_IND)
            ||(opcode==CM_OPC_CL_ALARM_IND))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_ALARM_PTR_TYPE_CM_OPC_PD_ALARM_IND_CM_OPC_CL_ALARM_IND*/

        LSA_UINT32* temp_ptr = LSA_NULL;

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4); /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                                     /* _opcode */
            help_ptr+=4;                                                            /* skip opcode on shared mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);              /* _response */
			HIF_RQB_SET_RESPONSE(new_rqb,response);                                 /* _response */
			HIF_SER_COPY_SHMTH_32(&(new_rqb->hif_helper),(LSA_UINT32**)&help_ptr);  /* orig.  xRQB pointer */

            if((new_rqb->args.channel.alarm!=LSA_NULL) && (*((CM_UPPER_ALARM_PTR_TYPE*)help_ptr))!=LSA_NULL)
            {
                /* INFO: no need to deserialize hif-upper pointer: alarm */
                help_ptr+=HIF_SER_SIZEOF(4);
                if (opcode==CM_OPC_CL_ALARM_IND)
                {
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.alarm->device_nr),(LSA_UINT32**)&help_ptr);           /* device_nr */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.alarm->ar_nr),(LSA_UINT32**)&help_ptr);           /* ar_nr */
                }
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.alarm->session_key),(LSA_UINT32**)&help_ptr);           /* session_key */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.alarm->alarm_priority),(LSA_UINT32**)&help_ptr);           /* alarm_priority */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.alarm->api),(LSA_UINT32**)&help_ptr);           /* api */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.alarm->slot_nr),(LSA_UINT32**)&help_ptr);           /* slot_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.alarm->subslot_nr),(LSA_UINT32**)&help_ptr);           /* subslot_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.alarm->alarm_type),(LSA_UINT32**)&help_ptr);           /* alarm_type */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.alarm->alarm_sequence),(LSA_UINT32**)&help_ptr);           /* alarm_sequence */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.channel.alarm->diag_channel_available),(LSA_UINT32**)&help_ptr);           /* diag_channel_available */
                if (opcode==CM_OPC_CL_ALARM_IND)
                {
                    HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.channel.alarm->diag_generic_available),(LSA_UINT32**)&help_ptr);           /* diag_generic_available */
                }
                HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.channel.alarm->diag_submod_available),(LSA_UINT32**)&help_ptr);           /* diag_submod_available */
                if (opcode==CM_OPC_CL_ALARM_IND)
                {
                    HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.channel.alarm->ar_diagnosis_state),(LSA_UINT32**)&help_ptr);           /* ar_diagnosis_state */
                }
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.alarm->mod_ident),(LSA_UINT32**)&help_ptr);           /* mod_ident */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.alarm->sub_ident),(LSA_UINT32**)&help_ptr);           /* sub_ident */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.alarm->alarm_tag),(LSA_UINT32**)&help_ptr);           /* alarm_tag */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.alarm->alarm_data_length),(LSA_UINT32**)&help_ptr);           /* alarm_data_length */

                if(new_rqb->args.channel.alarm->alarm_data_length>0)   // => "alarm_data" pointer on shared meme
                {
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&temp_ptr, new_rqb->args.channel.alarm->alarm_data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case opc(%d)_alloc alarm_data, alarm_data_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,new_rqb->args.channel.alarm->alarm_data_length,help_ptr,new_rqb+4);
                    if (HIF_IS_NULL(temp_ptr))
                    {
                        return HIF_ERR_RESOURCE;
                    }
                    else
                    {
                        if(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)!=LSA_NULL)
                        {
                            /* INFO: no need to deserialize pointer: alarm_data */
                            help_ptr+=HIF_SER_SIZEOF(4);
                            new_rqb->args.channel.alarm->alarm_data = (CM_COMMON_MEM_U8_PTR_TYPE)temp_ptr;                      // adapt the alarm_data pointer
                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.channel.alarm->alarm_data),(LSA_UINT32**)&help_ptr,new_rqb->args.channel.alarm->alarm_data_length);         /* alarm_data */
                        }
                    }
                }
                else
                {
                    new_rqb->args.channel.alarm->alarm_data = LSA_NULL;
                }

                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.alarm->maintenance_status),(LSA_UINT32**)&help_ptr);           /* maintenance_status */
                if (opcode==CM_OPC_CL_ALARM_IND)
                {
                    /* insert mod_diff_block */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.alarm->u.cl.mod_diff_block_length),(LSA_UINT32**)&help_ptr);         /* mod_diff_block_length */
                    if (new_rqb->args.channel.alarm->u.cl.mod_diff_block_length > 0)
                    {
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&new_rqb->args.channel.alarm->u.cl.mod_diff_block, new_rqb->args.channel.alarm->u.cl.mod_diff_block_length);
                        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d)_alloc diff_block, diff_block_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,new_rqb->args.channel.alarm->u.cl.mod_diff_block_length,help_ptr,new_rqb+4);
                        if (HIF_IS_NULL(new_rqb->args.channel.alarm->u.cl.mod_diff_block))
                        {
                            return HIF_ERR_RESOURCE;
                        }
                        else
                        {
                            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))  // check diff_block pointer on shared mem
                            {
                                help_ptr+=4;                                                                               //skip diff_block_pointer on shared mem
                                HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.channel.alarm->u.cl.mod_diff_block),(LSA_UINT32**)&help_ptr,new_rqb->args.channel.alarm->u.cl.mod_diff_block_length);         /* mod_diff_block */
                            }
                            else
                            {
                                new_rqb->args.channel.alarm->u.cl.mod_diff_block = LSA_NULL;
                            }
                        }

                        /* insert diff_list */
                        if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check diff_list pointer on shared mem
                        {
                            help_ptr+=4;   // skip diff_list_pointer
                            /* insert diff_list */
                            CmListInitialize (& new_rqb->args.channel.alarm->u.cl.diff_list);
                            //deserialize appl_tag/module/submodule
                            help_ptr = hif_cm_deser_diff_list(&new_rqb->args.channel.alarm->u.cl.diff_list,(LSA_UINT8*)help_ptr,LSA_TRUE);
                        }
                    }
                    else
                    {
                        CmListInitialize (& new_rqb->args.channel.alarm->u.cl.diff_list);
                        new_rqb->args.channel.alarm->u.cl.mod_diff_block = LSA_NULL;
                        help_ptr+=4;   // skip mod_diff_block_pointer
                        help_ptr+=4;   // skip diff_list.Flink - pointer
                    }
                }
            }
            else
            {
                /* INFO: no need to deserialize hif-upper pointer: alarm */
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
       
    }
    else if (opcode==CM_OPC_ALARM_IND_RES_PROVIDE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_PROVIDE_EVENT)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_EVENT_IND_RES_PROVIDE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if  ((opcode==CM_OPC_CL_AR_ABORT_IND)
            ||(opcode==CM_OPC_CL_AR_ABORT_RSP)
            ||(opcode==CM_OPC_CL_AR_PRE_OFFLINE_IND)
            ||(opcode==CM_OPC_CL_AR_PRE_OFFLINE_RSP)
            ||(opcode==CM_OPC_CL_AR_OFFLINE_IND)
            ||(opcode==CM_OPC_CL_AR_OFFLINE_RSP))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.channel.event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.channel.event->u.cl.ar_abort.error_cause.reason_code,(LSA_UINT32**)&help_ptr);                /* reason_code */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.channel.event->u.cl.ar_abort.error_cause.padding,(LSA_UINT32**)&help_ptr);                /* padding */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->u.cl.ar_abort.error_cause.error_cause,(LSA_UINT32**)&help_ptr);                /* error_cause */
                for(i=0;i<10;i++)                                                /* additional_info*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.channel.event->u.cl.ar_abort.error_cause.additional_info[i],(LSA_UINT32**)&help_ptr);                /* additional_info */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.cl.ar_abort.device_ip,(LSA_UINT32**)&help_ptr);                /* device_ip */
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if  ((opcode==CM_OPC_CL_AR_PRE_DATA_IND)
            ||(opcode==CM_OPC_CL_AR_PRE_DATA_RSP)
            ||(opcode==CM_OPC_CL_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_CL_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRE_DATA_IND_CM_OPC_CL_AR_PRE_DATA_RSP_CM_OPC_CL_AR_IN_DATA_IND*/

        LSA_UINT32* temp_ptr = LSA_NULL;

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4); /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                                     /* _opcode */
            help_ptr+=4;                                                            /* skip opcode on shared mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);              /* _response */
			HIF_RQB_SET_RESPONSE(new_rqb,response);                                 /* _response */
			HIF_SER_COPY_SHMTH_32(&(new_rqb->hif_helper),(LSA_UINT32**)&help_ptr);  /* orig.  xRQB pointer */

            if((new_rqb->args.channel.event!=LSA_NULL) && (*((CM_UPPER_EVENT_PTR_TYPE*)help_ptr))!=LSA_NULL)
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->device_nr),(LSA_UINT32**)&help_ptr);           /* device_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->ar_nr),(LSA_UINT32**)&help_ptr);           /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->session_key),(LSA_UINT32**)&help_ptr);           /* session_key */
                for(i=0;i<6;i++)
                {                                 /* mac*/
                    HIF_SER_COPY_SHMTH_8(&(new_rqb->args.channel.event->u.cl.in_data.ip_suite.device_mac.mac[i]),(LSA_UINT32**)&help_ptr);           /* mac */
                }
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.event->u.cl.in_data.ip_suite.device_ip),(LSA_UINT32**)&help_ptr);           /* device_ip */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.event->u.cl.in_data.ip_suite.device_subnet_mask),(LSA_UINT32**)&help_ptr);           /* device_subnet_mask */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.event->u.cl.in_data.ip_suite.device_gateway_ip),(LSA_UINT32**)&help_ptr);           /* device_gateway_ip */

                /* insert mod_diff_block */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->u.cl.in_data.mod_diff_block_length),(LSA_UINT32**)&help_ptr);         /* mod_diff_block_length */
                if (new_rqb->args.channel.event->u.cl.in_data.mod_diff_block_length > 0)
                {
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&temp_ptr, new_rqb->args.channel.event->u.cl.in_data.mod_diff_block_length);    // alloc first buffer
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case opc(%d)_alloc diff_block, diff_block_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,new_rqb->args.channel.event->u.cl.in_data.mod_diff_block_length,help_ptr,new_rqb+4);
                    if (HIF_IS_NULL(temp_ptr))
                    {
                        return HIF_ERR_RESOURCE;
                    }
                    else
                    {
                        if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))  // check diff_block pointer on shared mem
                        {
                            new_rqb->args.channel.event->u.cl.in_data.mod_diff_block = temp_ptr;                        // adapt the diff_block_pointer
                            help_ptr+=4;                                                                               //skip diff_block_pointer on shared mem
                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.channel.event->u.cl.in_data.mod_diff_block),(LSA_UINT32**)&help_ptr,new_rqb->args.channel.event->u.cl.in_data.mod_diff_block_length);         /* mod_diff_block */
                        }
                        else
                        {
                            new_rqb->args.channel.event->u.cl.in_data.mod_diff_block = LSA_NULL;
                        }
                    }

                    /* insert diff_list */
                    if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check diff_list pointer on shared mem
                    {
                        help_ptr+=4;   // skip diff_list_pointer
                        /* insert diff_list */
                        CmListInitialize (& new_rqb->args.channel.event->u.cl.in_data.diff_list);
                        //deserialize appl_tag/module/submodule
                        help_ptr = hif_cm_deser_diff_list(&new_rqb->args.channel.event->u.cl.in_data.diff_list,(LSA_UINT8*)help_ptr,LSA_TRUE);
                    }
                    else
                    {
                        CmListInitialize (& new_rqb->args.channel.event->u.cl.in_data.diff_list);
                        HIF_FATAL(0);
                    }
                }
                else
                {
                    CmListInitialize (& new_rqb->args.channel.event->u.cl.in_data.diff_list);
                    new_rqb->args.channel.event->u.cl.in_data.mod_diff_block = LSA_NULL;
                }

            }
            else
            {
                /* INFO: no need to deserialize hif-upper pointer: event */
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
       
    }
    else if  ((opcode==CM_OPC_CL_AR_PRM_BEGIN_IND)
            ||(opcode==CM_OPC_CL_AR_PRM_BEGIN_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRM_BEGIN_IND*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4); /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                                     /* _opcode */
            help_ptr+=4;                                                            /* skip opcode on shared mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);              /* _response */
			HIF_RQB_SET_RESPONSE(new_rqb,response);                                 /* _response */
			HIF_SER_COPY_SHMTH_32(&(new_rqb->hif_helper),(LSA_UINT32**)&help_ptr);  /* orig.  xRQB pointer */

            if((new_rqb->args.channel.event!=LSA_NULL) && (*((CM_UPPER_EVENT_PTR_TYPE*)help_ptr))!=LSA_NULL)
            {
                /* INFO: no need to deserialize hif-upper pointer: event */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->device_nr),(LSA_UINT32**)&help_ptr);                                   /* device_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->ar_nr),(LSA_UINT32**)&help_ptr);                                       /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->session_key),(LSA_UINT32**)&help_ptr);                                 /* session_key */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->u.cl.prm_begin.prm_mode),(LSA_UINT32**)&help_ptr);                     /* prm_mode */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.event->u.cl.prm_begin.prm_submodule.api),(LSA_UINT32**)&help_ptr);            /* api */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->u.cl.prm_begin.prm_submodule.slot_nr),(LSA_UINT32**)&help_ptr);        /* slot_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->u.cl.prm_begin.prm_submodule.subslot_nr),(LSA_UINT32**)&help_ptr);     /* subslot_nr */
                /* insert list: "prm_record_list" */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "prm_record_list" pointer on shared mem
                {
                    /* INFO: no need to deserialize pointer: prm_record_list " */
                    help_ptr+=HIF_SER_SIZEOF(4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.channel.event->u.cl.prm_begin.prm_submodule.prm_record_list.Flink))
                    {
                        /* deserialize list: "prm_record_list" */
                        help_ptr = hif_cm_deser_prm_record_list(&new_rqb->args.channel.event->u.cl.prm_begin.prm_submodule.prm_record_list,(LSA_UINT8*)help_ptr, LSA_NULL);
                    }
                    else
                    {
                        new_rqb->args.channel.event->u.cl.prm_begin.prm_submodule.prm_record_list.Flink = LSA_NULL;
                    }
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_CL_AR_PRM_INDATA_IND)
            ||(opcode==CM_OPC_CL_AR_PRM_INDATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRM_INDATA_IND*/

        LSA_UINT32* temp_ptr = LSA_NULL;

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4); /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                                     /* _opcode */
            help_ptr+=4;                                                            /* skip opcode on shared mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);              /* _response */
			HIF_RQB_SET_RESPONSE(new_rqb,response);                                 /* _response */
			HIF_SER_COPY_SHMTH_32(&(new_rqb->hif_helper),(LSA_UINT32**)&help_ptr);  /* orig.  xRQB pointer */

            if((new_rqb->args.channel.event!=LSA_NULL) && (*((CM_UPPER_EVENT_PTR_TYPE*)help_ptr))!=LSA_NULL)
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->device_nr),(LSA_UINT32**)&help_ptr);           /* device_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->ar_nr),(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->session_key),(LSA_UINT32**)&help_ptr);         /* session_key */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->u.cl.prm_indata.prm_mode),(LSA_UINT32**)&help_ptr);                         /* prm_mode */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->u.cl.prm_indata.mod_diff_block_length),(LSA_UINT32**)&help_ptr);           /* mod_diff_block_length */
                HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&temp_ptr, new_rqb->args.channel.event->u.cl.prm_indata.mod_diff_block_length);    // alloc first buffer
                HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case opc(%d)_alloc diff_block, diff_block_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,new_rqb->args.channel.event->u.cl.prm_indata.mod_diff_block_length,help_ptr,new_rqb+4);
                if (HIF_IS_NULL(temp_ptr))
                {
                    return HIF_ERR_RESOURCE;
                }
                else
                {
                    if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))     // check diff_block pointer on shared mem
                    {
                        new_rqb->args.channel.event->u.cl.prm_indata.mod_diff_block = temp_ptr;                     // adapt the diff_block_pointer
                        help_ptr+=4;                                                                               //skip diff_block_pointer on shared mem
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.channel.event->u.cl.prm_indata.mod_diff_block),(LSA_UINT32**)&help_ptr,new_rqb->args.channel.event->u.cl.prm_indata.mod_diff_block_length);         /* mod_diff_block */
                    }
                    else
                    {
                        new_rqb->args.channel.event->u.cl.prm_indata.mod_diff_block = LSA_NULL;
                    }
                }
                /* insert list: "diff_list" */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "diff_list.Flink" pointer on shared mem
                {
                    /* INFO: no need to deserialize pointer: diff_list " */
                    help_ptr+=HIF_SER_SIZEOF(4);
                    /* insert diff_list */
                    CmListInitialize (& new_rqb->args.channel.event->u.cl.prm_indata.diff_list);
                    /* deserialize list: "diff_list" */
                    help_ptr = hif_cm_deser_diff_list(&new_rqb->args.channel.event->u.cl.prm_indata.diff_list,(LSA_UINT8*)help_ptr,LSA_TRUE);
                }
                else
                {
                    CmListInitialize (& new_rqb->args.channel.event->u.cl.prm_indata.diff_list);
                    new_rqb->args.channel.event->u.cl.prm_indata.diff_list.Flink = LSA_NULL;
                }

                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.event->u.cl.prm_indata.prm_submodule.api),(LSA_UINT32**)&help_ptr);           /* api */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->u.cl.prm_indata.prm_submodule.slot_nr),(LSA_UINT32**)&help_ptr);           /* slot_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->u.cl.prm_indata.prm_submodule.subslot_nr),(LSA_UINT32**)&help_ptr);           /* subslot_nr */
                /* initialize prm_record_list  */
                CmListInitialize (&new_rqb->args.cl.prm_update->prm_submod.prm_record_list);
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "prm_record_list.Flink" pointer on shared mem
                {
                    /* INFO: no need to deserialize pointer: prm_record_list " */
                    help_ptr+=HIF_SER_SIZEOF(4);
                    /* deserialize list: "prm_record_list" */
                    help_ptr = hif_cm_deser_prm_record_list(&new_rqb->args.channel.event->u.cl.prm_begin.prm_submodule.prm_record_list,(LSA_UINT8*)help_ptr, LSA_NULL);
                }
                else
                {
                    new_rqb->args.channel.event->u.cl.prm_begin.prm_submodule.prm_record_list.Flink = LSA_NULL;
                }
            }
        }
       
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_ADDR_INFO_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_ADDR_INFO_RSP))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.channel.event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.channel.event->u.mc.addr_info.info_class,(LSA_UINT32**)&help_ptr);                /* info_class */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.channel.event->u.mc.addr_info.info_phase,(LSA_UINT32**)&help_ptr);                /* info_phase */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->u.mc.addr_info.reason_code,(LSA_UINT32**)&help_ptr);                /* reason_code */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->u.mc.addr_info.lower_rsp,(LSA_UINT32**)&help_ptr);                /* lower_rsp */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.addr_info.pnio_status,(LSA_UINT32**)&help_ptr);                /* pnio_status */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.addr_info.nca_status,(LSA_UINT32**)&help_ptr);                /* nca_status */
                for(i=0;i<6;i++)                                                /* mac*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.channel.event->u.mc.addr_info.device_mac.mac[i],(LSA_UINT32**)&help_ptr);                /* mac */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.addr_info.device_ip,(LSA_UINT32**)&help_ptr);                /* device_ip */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.addr_info.device_subnet_mask,(LSA_UINT32**)&help_ptr);                /* device_subnet_mask */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.addr_info.device_gateway_ip,(LSA_UINT32**)&help_ptr);                /* device_gateway_ip */
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_MC_EVENT_AR_IN_DATA_IND*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4); /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                                     /* _opcode */
            help_ptr+=4;                                                            /* skip opcode on shared mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);              /* _response */
			HIF_RQB_SET_RESPONSE(new_rqb,response);                                 /* _response */
			HIF_SER_COPY_SHMTH_32(&(new_rqb->hif_helper),(LSA_UINT32**)&help_ptr);  /* orig.  xRQB pointer */

            if((new_rqb->args.channel.event!=LSA_NULL) && (*((CM_UPPER_EVENT_PTR_TYPE*)help_ptr))!=LSA_NULL)
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->device_nr),(LSA_UINT32**)&help_ptr);           /* device_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->ar_nr),(LSA_UINT32**)&help_ptr);           /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->session_key),(LSA_UINT32**)&help_ptr);           /* session_key */
                /* insert empty "diff_list" */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "diff_list.Flink" pointer on shared mem
                {
                    /* INFO: no need to deserialize pointer: diff_list " */
                    help_ptr+=HIF_SER_SIZEOF(4);
                    /* just create empty "diff_list" */
                    CmListInitialize (&new_rqb->args.channel.event->u.mc.in_data.diff_list);
                }
                else
                {
                    new_rqb->args.channel.event->u.mc.in_data.diff_list.Flink = LSA_NULL;
                }
                /* insert empty "good_list" */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "good_list.Flink" pointer on shared mem
                {
                    /* INFO: no need to deserialize pointer: good_list " */
                    help_ptr+=HIF_SER_SIZEOF(4);
                    /* just create empty "good_list" */
                    CmListInitialize (&new_rqb->args.channel.event->u.mc.in_data.good_list);
                }
                else
                {
                    new_rqb->args.channel.event->u.mc.in_data.good_list.Flink = LSA_NULL;
                }
                /* insert list: "iocr_list" */
                CmListInitialize (&new_rqb->args.channel.event->u.mc.in_data.iocr_list);
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "iocr_list.Flink" pointer on shared mem
                {
                    /* INFO: no need to deserialize pointer: iocr_list " */
                    help_ptr+=HIF_SER_SIZEOF(4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.channel.event->u.mc.in_data.iocr_list.Flink))
                    {
                        /* deserialize list: "iocr_list" */
                        help_ptr = hif_cm_deser_iocr_list(&new_rqb->args.channel.event->u.mc.in_data.iocr_list,(LSA_UINT8*)help_ptr, LSA_NULL);
                    }
                }
                else
                {
                    new_rqb->args.channel.event->u.mc.in_data.iocr_list.Flink = LSA_NULL;
                }
                new_rqb->args.channel.event->u.mc.in_data.mod_diff_block_length = 0;             /* mod_diff_block_length always 0*/
                new_rqb->args.channel.event->u.mc.in_data.mod_diff_block = LSA_NULL;                /* mod_diff_block always empty */
            }
        }
       
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_OFFLINE_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_OFFLINE_RSP))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.channel.event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.ar_offline.reason_code,(LSA_UINT32**)&help_ptr);                /* reason_code */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.ar_offline.reason_pnio_status,(LSA_UINT32**)&help_ptr);                /* reason_pnio_status */
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if  ((opcode==CM_OPC_MC_EVENT_APDU_STATUS_IND)
            ||(opcode==CM_OPC_MC_EVENT_APDU_STATUS_RSP))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.channel.event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->u.mc.apdu_status,(LSA_UINT32**)&help_ptr);                /* apdu_status */
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_IND_RES_WITHDRAW)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if  ((opcode==CM_OPC_CL_AR_DATA_STATUS_IND)
            ||(opcode==CM_OPC_CL_AR_DATA_STATUS_RSP))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.channel.event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->u.cl.data_status,(LSA_UINT32**)&help_ptr);                /* data_status */
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_PD_CREATE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */


        }
    }
    else if (opcode==CM_OPC_PD_DELETE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_PD_REMAP)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_PD_LINK_STATUS_INFO)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.pd.link_status) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_PD_LINK_STATUS_INFO_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.link_status->interface_id,(LSA_UINT32**)&help_ptr);                /* interface_id */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.link_status->port_id,(LSA_UINT32**)&help_ptr);                /* port_id */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.link_status->status,(LSA_UINT32**)&help_ptr);                /* status */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.link_status->speed,(LSA_UINT32**)&help_ptr);                /* speed */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.link_status->mode,(LSA_UINT32**)&help_ptr);                /* mode */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.link_status->autoneg,(LSA_UINT32**)&help_ptr);                /* autoneg */
            }
            else
            {
                new_rqb->args.pd.link_status = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_PD_SYNC_LED_INFO)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.pd.sync_led_info) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_PD_SYNC_LED_INFO_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.sync_led_info->sync_led_info,(LSA_UINT32**)&help_ptr);                /* sync_led_info */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.pd.sync_led_info->is_rate_valid,(LSA_UINT32**)&help_ptr);                /* is_rate_valid */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.sync_led_info->rcv_sync_prio,(LSA_UINT32**)&help_ptr);                /* rcv_sync_prio */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.sync_led_info->local_prio,(LSA_UINT32**)&help_ptr);                /* local_prio */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.sync_led_info->pll_state,(LSA_UINT32**)&help_ptr);                /* pll_state */
            }
            else
            {
                new_rqb->args.pd.sync_led_info = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_PD_PRM_BEGIN)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if (opcode==CM_OPC_PD_PRM_READ)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.pd.prm_rdwr) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_PD_PRM_RDWR_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.prm_rdwr->record_data_length,(LSA_UINT32**)&help_ptr);                /* record_data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.pd.prm_rdwr->record_data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.pd.prm_rdwr->record_data)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.pd.prm_rdwr->record_data),(LSA_UINT32**)&help_ptr,new_rqb->args.pd.prm_rdwr->record_data_length);                /* record_data */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.prm_rdwr->cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.prm_rdwr->ret_val_1,(LSA_UINT32**)&help_ptr);                /* ret_val_1 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.prm_rdwr->ret_val_2,(LSA_UINT32**)&help_ptr);                /* ret_val_2 */
            }
            else
            {
                new_rqb->args.pd.prm_rdwr = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_PD_PRM_WRITE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.pd.prm_rdwr) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_PD_PRM_RDWR_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.prm_rdwr->cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.prm_rdwr->ret_val_1,(LSA_UINT32**)&help_ptr);                /* ret_val_1 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.prm_rdwr->ret_val_2,(LSA_UINT32**)&help_ptr);                /* ret_val_2 */
            }
            else
            {
                new_rqb->args.pd.prm_rdwr = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_PD_PRM_END)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.pd.prm_end) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_PD_PRM_END_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.pd.prm_end->is_master_project,(LSA_UINT32**)&help_ptr);                /* is_master_project */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.prm_end->ir_data_uuid.clock_seq_low,(LSA_UINT32**)&help_ptr);                /* clock_seq_low */
            }
            else
            {
                new_rqb->args.pd.prm_end = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_PD_EVENT_APPL_READY_IND)
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_PD_EVENT_APPL_READY_IND*/

        LSA_UINT32* temp_ptr = LSA_NULL;

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);       /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                  /* _response */
            CM_RQB_SET_RESPONSE(new_rqb,response);                                    /* _response */

            if((new_rqb->args.channel.event!=LSA_NULL) && (*((CM_UPPER_EVENT_PTR_TYPE*)help_ptr))!=LSA_NULL)
            {
                /* INFO: no need to deserialize hif-upper pointer: event */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->device_nr),(LSA_UINT32**)&help_ptr);           /* device_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->ar_nr),(LSA_UINT32**)&help_ptr);               /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->session_key),(LSA_UINT32**)&help_ptr);         /* session_key */

                // (LaM): Edd Transfer End - S
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.channel.event->u.pd.appl_ready.rsv_interval_red.RxEndNs,(LSA_UINT32**)&help_ptr);                /* RxEndNs */
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.channel.event->u.pd.appl_ready.rsv_interval_red.RxLocalTransferEndNs,(LSA_UINT32**)&help_ptr);   /* RxLocalTransferEndNs */
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.channel.event->u.pd.appl_ready.rsv_interval_red.TxEndNs,(LSA_UINT32**)&help_ptr);                /* TxEndNs */
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.channel.event->u.pd.appl_ready.rsv_interval_red.TxLocalTransferStartNs,(LSA_UINT32**)&help_ptr); /* TxLocalTransferStartNs */
                HIF_SER_COPY_SHMTH_32(&new_rqb->args.channel.event->u.pd.appl_ready.rsv_interval_red.TxLocalTransferEndNs,(LSA_UINT32**)&help_ptr);   /* TxLocalTransferEndNs */
                // (LaM): Edd Transfer End - E

                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.event->u.pd.appl_ready.faulty_record_index),(LSA_UINT32**)&help_ptr);       /* faulty_record_index */

                // EF: AP01427283 - S insert diag_block
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->u.pd.appl_ready.diag_block_length),(LSA_UINT32**)&help_ptr);         /* diag_block_length */
                if (new_rqb->args.channel.event->u.pd.appl_ready.diag_block_length > 0)
                {
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&temp_ptr, new_rqb->args.channel.event->u.pd.appl_ready.diag_block_length+4);    // alloc first buffer including xRQB-ID
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d)_alloc diag_block, diag_block_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,new_rqb->args.channel.event->u.pd.appl_ready.diag_block_length,help_ptr,new_rqb+4);
                    if (HIF_IS_NULL(temp_ptr))
                    {
                        return HIF_ERR_RESOURCE;
                    }
                    else
                    {
                        //save xRQB-ID pointer before the first buffer
                        HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);         /* orig.  xRQB pointer */
                        temp_ptr+=1;
                        if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))  // check diag_block pointer on shared mem
                        {
                            new_rqb->args.channel.event->u.pd.appl_ready.diag_block = temp_ptr;                     // adapt the diag_block_pointer
                            help_ptr+=4;                                                                            //skip diag_block_pointer on shared mem
                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.channel.event->u.pd.appl_ready.diag_block),(LSA_UINT32**)&help_ptr,new_rqb->args.channel.event->u.pd.appl_ready.diag_block_length);         /* mod_diff_block */
                        }
                        else
                        {
                            new_rqb->args.channel.event->u.pd.appl_ready.diag_block = LSA_NULL;
                        }
                    }
                }
                else
                {
                    new_rqb->args.channel.event->u.pd.appl_ready.diag_block = LSA_NULL;
                    help_ptr+=HIF_SER_SIZEOF(8); // EF: AP01427283 - skip rqb and diag_block pointer
                }
                // EF: AP01427283 - E insert diag_block

                /* insert mod_diff_block */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block_length),(LSA_UINT32**)&help_ptr);         /* mod_diff_block_length */
                if (new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block_length > 0)
                {
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&temp_ptr, new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block_length+4);    // alloc first buffer including xRQB-ID
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d)_alloc diff_block, diff_block_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block_length,help_ptr,new_rqb+4);
                    if (HIF_IS_NULL(temp_ptr))
                    {
                        return HIF_ERR_RESOURCE;
                    }
                    else
                    {
                        //save xRQB-ID pointer before the first buffer
                        HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);         /* orig.  xRQB pointer */
                        temp_ptr+=1;
                        if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))  // check diff_block pointer on shared mem
                        {
                            new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block = temp_ptr;                     // adapt the diff_block_pointer
                            help_ptr+=4;                                                                               //skip diff_block_pointer on shared mem
                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block),(LSA_UINT32**)&help_ptr,new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block_length);         /* mod_diff_block */
                        }
                        else
                        {
                            new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block = LSA_NULL;
                        }
                    }

                    /* insert diff_list */
                    if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check diff_list pointer on shared mem
                    {
                        help_ptr+=4;   // skip diff_list_pointer
                        /* insert diff_list */
                        CmListInitialize (& new_rqb->args.channel.event->u.pd.appl_ready.diff_list);
                        //deserialize appl_tag/module/submodule
                        help_ptr = hif_cm_deser_diff_list(&new_rqb->args.channel.event->u.pd.appl_ready.diff_list,(LSA_UINT8*)help_ptr,LSA_TRUE);
                    }
                }
                else
                {
                    CmListInitialize (& new_rqb->args.channel.event->u.pd.appl_ready.diff_list);
                    new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block = LSA_NULL;
                }
            }
            else
            {
                /* INFO: no need to deserialize hif-upper pointer: event */
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
        
    }
    else if (opcode==CM_OPC_CL_CREATE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_CL_DELETE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if (opcode==CM_OPC_CL_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_ADD)
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_CL_DEVICE_ADD_PTR_TYPE_CM_OPC_CL_DEVICE_ADD*/

        CM_UPPER_ARCB_ADD_PTR_TYPE  ar;
        LSA_UINT16 iocr_list_count=0, i_iocr=0;
        CM_UPPER_ARCB_IOCR_PTR_TYPE  iocr;

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);       /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                  /* _response */
            CM_RQB_SET_RESPONSE(new_rqb,response);                                    /* _response */

            if((new_rqb->args.cl.dev_add!=LSA_NULL) && (*((CM_UPPER_CL_DEVICE_ADD_PTR_TYPE*)help_ptr))!=LSA_NULL)
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_CL_DEVICE_ADD_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.cl.dev_add->dev_rpc.max_supported_record_length),(LSA_UINT32**)&help_ptr);           /* max_supported_record_length */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.cl.dev_add->pnio_status),(LSA_UINT32**)&help_ptr);           /* pnio_status */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.dev_add->nr_of_event_resources),(LSA_UINT32**)&help_ptr);           /* nr_of_event_resources */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.dev_add->nr_of_alarm_resources),(LSA_UINT32**)&help_ptr);           /* nr_of_alarm_resources */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.cl.dev_add->is_master_project),(LSA_UINT32**)&help_ptr);                /* is_master_project */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.cl.dev_add->device_ip),(LSA_UINT32**)&help_ptr);                  /* device_ip_addr */

                /* updae iocr_list */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "ar_list.Flink" pointer on shared mem
                {
                    /* INFO: no need to deserialize pointer: ar_list " */
                    help_ptr+=HIF_SER_SIZEOF(4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.dev_add->ar_list.Flink))
                    {
                        for (CmListForeach (ar, &new_rqb->args.cl.dev_add->ar_list, CM_UPPER_ARCB_ADD_PTR_TYPE))
                        {
                            if (HIF_IS_NOT_NULL(ar->iocr_list.Flink))
                            {
                                /* UPDATE "iocr_list" */
                                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&(iocr_list_count),(LSA_UINT32**)&help_ptr);          /* iocr_count */
                                for (CmListForeach (iocr, &ar->iocr_list, CM_UPPER_ARCB_IOCR_PTR_TYPE))
                                {
                                    if (HIF_IS_NOT_NULL(iocr))
                                    {
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->iocr_type,(LSA_UINT32**)&help_ptr);               /* iocr_type */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->iocr_ref,(LSA_UINT32**)&help_ptr);                /* iocr_ref */
                                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->iocr_properties,(LSA_UINT32**)&help_ptr);     /* iocr_properties */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->frame_id,(LSA_UINT32**)&help_ptr);                /* frame_id */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->data_length,(LSA_UINT32**)&help_ptr);         /* data_length */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->send_clock,(LSA_UINT32**)&help_ptr);          /* send_clock */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->reduction_ratio,(LSA_UINT32**)&help_ptr);     /* reduction_ratio */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->phase,(LSA_UINT32**)&help_ptr);                   /* phase */
                                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->frame_send_offset,(LSA_UINT32**)&help_ptr);       /* frame_send_offset */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->data_hold_factor,(LSA_UINT32**)&help_ptr);        /* data_hold_factor */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->iocr_tag_header,(LSA_UINT32**)&help_ptr);     /* iocr_tag_header */
                                        for(i=0;i<6;i++)
                                        {                           /* create*/
                                            HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&iocr->iocr_multicast_mac.mac[i],(LSA_UINT32**)&help_ptr);                  /* node */
                                        }
                                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_properties,(LSA_UINT32**)&help_ptr);              /* edd_properties */
                                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_data_offset,(LSA_UINT32**)&help_ptr);             /* edd_data_offset */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->edd_cr_number,(LSA_UINT32**)&help_ptr);                   /* edd_cr_number */
                                        HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&iocr->edd_forward_mode,(LSA_UINT32**)&help_ptr);              /* edd_forward_mode */
                                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_ct_outdatastart,(LSA_UINT32**)&help_ptr);         /* edd_ct_outdatastart */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->apdu_status_length,(LSA_UINT32**)&help_ptr);          /* apdu_status_length */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->partial_length,(LSA_UINT32**)&help_ptr);              /* partial_length */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->partial_offset,(LSA_UINT32**)&help_ptr);              /* partial_offset */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->subframe_data,(LSA_UINT32**)&help_ptr);               /* subframe_data */
                                        HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&iocr->subframe_offset,(LSA_UINT32**)&help_ptr);             /* subframe_offset */
                                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_apdustatus_offset,(LSA_UINT32**)&help_ptr);           /* edd_apdustatus_offset */
                                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_cw_offset,(LSA_UINT32**)&help_ptr);           /* edd_cw_offset */
                                        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&iocr->edd_datastatus_offset,(LSA_UINT32**)&help_ptr);           /* edd_datastatus_offset */
                                    }
                                }
                                i_iocr=1;
                            }
                        }
                    }
                }
                else
                {
                    new_rqb->args.cl.dev_add->ar_list.Flink = LSA_NULL;
                }

            }
        }
        
    }
    else if (opcode==CM_OPC_CL_DEVICE_REMOVE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_CL_RECORD_READ)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.cl.read) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_CL_RECORD_READ_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read->rec.data_length,(LSA_UINT32**)&help_ptr);                /* data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.cl.read->rec.data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.read->rec.data)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.cl.read->rec.data),(LSA_UINT32**)&help_ptr,new_rqb->args.cl.read->rec.data_length);                /* data */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read->rec.cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.ret_val_1,(LSA_UINT32**)&help_ptr);                /* ret_val_1 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.ret_val_2,(LSA_UINT32**)&help_ptr);                /* ret_val_2 */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read->rec.readquery_length,(LSA_UINT32**)&help_ptr);                /* readquery_length */
            }
            else
            {
                new_rqb->args.cl.read = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_READ_QUERY)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.cl.read) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_CL_RECORD_READ_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read->rec.data_length,(LSA_UINT32**)&help_ptr);                /* data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.cl.read->rec.data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.read->rec.data)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.cl.read->rec.data),(LSA_UINT32**)&help_ptr,new_rqb->args.cl.read->rec.data_length);                /* data */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read->rec.cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.ret_val_1,(LSA_UINT32**)&help_ptr);                /* ret_val_1 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.ret_val_2,(LSA_UINT32**)&help_ptr);                /* ret_val_2 */
            }
            else
            {
                new_rqb->args.cl.read = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if  ((opcode==CM_OPC_CL_RECORD_READ_IMPLICIT)
            ||(opcode==CM_OPC_CL_RECORD_READ_IMPLICIT_QUERY))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.cl.read_implicit) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_CL_RECORD_READ_IMPLICIT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read_implicit->dev_addr.device_ip_addr,(LSA_UINT32**)&help_ptr);                /* device_ip_addr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read_implicit->rec.data_length,(LSA_UINT32**)&help_ptr);                /* data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.cl.read_implicit->rec.data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.read_implicit->rec.data)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.cl.read_implicit->rec.data),(LSA_UINT32**)&help_ptr,new_rqb->args.cl.read_implicit->rec.data_length);                /* data */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read_implicit->rec.cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->rec.ret_val_1,(LSA_UINT32**)&help_ptr);                /* ret_val_1 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->rec.ret_val_2,(LSA_UINT32**)&help_ptr);                /* ret_val_2 */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read_implicit->rec.readquery_length,(LSA_UINT32**)&help_ptr);                /* readquery_length */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->lower_response,(LSA_UINT32**)&help_ptr);                /* lower_response */
            }
            else
            {
                new_rqb->args.cl.read_implicit = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_WRITE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.cl.write) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_CL_RECORD_WRITE_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.write->rec.data_length,(LSA_UINT32**)&help_ptr);                /* data_length */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.write->rec.cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.write->rec.ret_val_1,(LSA_UINT32**)&help_ptr);                /* ret_val_1 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.write->rec.ret_val_2,(LSA_UINT32**)&help_ptr);                /* ret_val_2 */
            }
            else
            {
                new_rqb->args.cl.write = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_WRITE_MULTIPLE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.cl.write_multiple) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_CL_RECORD_WRITE_MULTIPLE_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                /* insert list: "rec_list" */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "rec_list.Flink" pointer on shared mem /*#25*/
                {
                    /* INFO: no need to deserialize pointer: rec_list " */
                    help_ptr+=HIF_SER_SIZEOF(4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.write_multiple->rec_list.Flink)) /*#26*/
                    {
                        /* deserialize list: "rec_list" */
                        help_ptr = hif_cm_deser_rec_list(&new_rqb->args.cl.write_multiple->rec_list,(LSA_UINT8*)help_ptr,LSA_TRUE);
                    }
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.write_multiple->cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
            }
            else
            {
                new_rqb->args.cl.write_multiple = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_CL_ALARM_SEND)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.cl.alarm_send) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_CL_ALARM_SEND_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_send->alarm_priority,(LSA_UINT32**)&help_ptr);                /* alarm_priority */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_send->alarm_sequence,(LSA_UINT32**)&help_ptr);                /* alarm_sequence */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.cl.alarm_send->diag_channel_available,(LSA_UINT32**)&help_ptr);                /* diag_channel_available */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.cl.alarm_send->diag_generic_available,(LSA_UINT32**)&help_ptr);                /* diag_generic_available */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.cl.alarm_send->diag_submod_available,(LSA_UINT32**)&help_ptr);                /* diag_submod_available */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.cl.alarm_send->reserved,(LSA_UINT32**)&help_ptr);                /* reserved */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.cl.alarm_send->ar_diagnosis_state,(LSA_UINT32**)&help_ptr);                /* ar_diagnosis_state */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.alarm_send->mod_ident,(LSA_UINT32**)&help_ptr);                /* mod_ident */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.alarm_send->sub_ident,(LSA_UINT32**)&help_ptr);                /* sub_ident */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.alarm_send->cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
            }
            else
            {
                new_rqb->args.cl.alarm_send = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_CL_ALARM_ACK_SEND)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.cl.alarm_ack_send) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_CL_ALARM_ACK_SEND_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.cl.alarm_ack_send->ar_diagnosis_state,(LSA_UINT32**)&help_ptr);                /* ar_diagnosis_state */
            }
            else
            {
                new_rqb->args.cl.alarm_ack_send = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_CL_LOGBOOK_READ)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.cl.logbook_read) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_CL_LOGBOOK_READ_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_64((LSA_UINT64*)&new_rqb->args.cl.logbook_read->curr_time_stamp,(LSA_UINT32**)&help_ptr);                /* curr_time_stamp */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.logbook_read->entry_count,(LSA_UINT32**)&help_ptr);                /* entry_count */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))                /* => pointer "entry" on shared-mem */ /*#20*/
                {
                    help_ptr+=HIF_SER_SIZEOF(4);
                for(i=0;i<new_rqb->args.cl.logbook_read->entry_count;i++)                                                /* entry*/
                {
                    HIF_SER_COPY_SHMTH_64((LSA_UINT64*)&new_rqb->args.cl.logbook_read->entry[i].time_stamp,(LSA_UINT32**)&help_ptr);                    /* time_stamp */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.logbook_read->entry[i].session_key,(LSA_UINT32**)&help_ptr);                    /* session_key */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.logbook_read->entry[i].lbentry_type,(LSA_UINT32**)&help_ptr);                    /* lbentry_type */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.logbook_read->entry[i].data_1,(LSA_UINT32**)&help_ptr);                    /* data_1 */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.logbook_read->entry[i].data_2,(LSA_UINT32**)&help_ptr);                    /* data_2 */
                }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer pointer */
                }
            }
            else
            {
                new_rqb->args.cl.logbook_read = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_CL_PRM_UPDATE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_CREATE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_DELETE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if (opcode==CM_OPC_SV_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_ADD)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.dev_add) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_SV_DEVICE_ADD_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->alarm_send_max_length,(LSA_UINT32**)&help_ptr);                /* alarm_send_max_length */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->nr_of_event_resources,(LSA_UINT32**)&help_ptr);                /* nr_of_event_resources */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->nr_of_alarm_resources,(LSA_UINT32**)&help_ptr);                /* nr_of_alarm_resources */
            }
            else
            {
                new_rqb->args.sv.dev_add = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_REMOVE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_READ)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.dev_read) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_SV_DEVICE_READ_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.dev_read->data_length,(LSA_UINT32**)&help_ptr);                /* data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.sv.dev_read->data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.sv.dev_read->data)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.dev_read->data),(LSA_UINT32**)&help_ptr,new_rqb->args.sv.dev_read->data_length);                /* data */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.dev_read->pnio_status,(LSA_UINT32**)&help_ptr);                /* pnio_status */
            }
            else
            {
                new_rqb->args.sv.dev_read = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_LED_INFO)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.dev_led_info) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_SV_DEVICE_LED_INFO_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.dev_led_info->led_info,(LSA_UINT32**)&help_ptr);                /* led_info */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.dev_led_info->maint_info,(LSA_UINT32**)&help_ptr);                /* maint_info */
            }
            else
            {
                new_rqb->args.sv.dev_led_info = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_PROVIDE_EVENT)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_PROVIDE_ALARM)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_SUBMODULE_ADD)
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_MC_DEVICE_ADD_PTR_TYPE_CM_OPC_MC_DEVICE_ADD*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);       /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                  /* _response */
            CM_RQB_SET_RESPONSE(new_rqb,response);                                    /* _response */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))           /* => pointer "entry" on shared-mem */
            {
                help_ptr+=HIF_SER_SIZEOF(4);
                for(i=0;i<new_rqb->args.sv.submod_add->nr_of_elems;i++)
                {
                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.submod_add->elem[i].response,(LSA_UINT32**)&help_ptr);         /* response */
                }
            }
            else
            {
                new_rqb->args.sv.submod_add = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
        
    }
    else if (opcode==CM_OPC_SV_SUBMODULE_REMOVE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.submod_remove) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_SV_SUBMODULE_REMOVE_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                for(i=0;i<new_rqb->args.sv.submod_remove->nr_of_elems;i++)                                                /* elem*/
                {
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.submod_remove->elem[i].response,(LSA_UINT32**)&help_ptr);                    /* response */
                }
            }
            else
            {
                new_rqb->args.sv.submod_remove = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if  ((opcode==CM_OPC_SV_DIAG_ADD)
            ||(opcode==CM_OPC_SV_DIAG_ADD2)
            ||(opcode==CM_OPC_SV_DIAG_REMOVE2))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.diag_add) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_SV_DIAG_ADD_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                for(i=0;i<new_rqb->args.sv.diag_add->nr_of_elems;i++)                                                /* elem*/
                {
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.diag_add->elem[i].response,(LSA_UINT32**)&help_ptr);                    /* response */
                }
            }
            else
            {
                new_rqb->args.sv.diag_add = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_SV_DIAG_REMOVE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.diag_remove) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_SV_DIAG_REMOVE_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                for(i=0;i<new_rqb->args.sv.diag_remove->nr_of_elems;i++)                                                /* elem*/
                {
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.diag_remove->elem[i].response,(LSA_UINT32**)&help_ptr);                    /* response */
                }
            }
            else
            {
                new_rqb->args.sv.diag_remove = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_SV_ARSET_TRIGGER)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_ARSET_ABORT)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_AR_APPL_READY)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_appl_ready) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_SV_AR_APPL_READY_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                for(i=0;i<new_rqb->args.sv.ar_appl_ready->nr_of_elems;i++)                                                /* elem*/
                {
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_appl_ready->elem[i].response,(LSA_UINT32**)&help_ptr);                    /* response */
                }
            }
            else
            {
                new_rqb->args.sv.ar_appl_ready = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_AR_ABORT)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_AR_PDEVPRM_READ)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_pdevprm_rdwr) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_SV_AR_PDEVPRM_RDWR_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length,(LSA_UINT32**)&help_ptr);                /* record_data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data)) /*#24*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data),(LSA_UINT32**)&help_ptr,new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length);                /* record_data */
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.ret_val_1,(LSA_UINT32**)&help_ptr);                /* ret_val_1 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.ret_val_2,(LSA_UINT32**)&help_ptr);                /* ret_val_2 */
            }
            else
            {
                new_rqb->args.sv.ar_pdevprm_rdwr = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_PDEVPRM_WRITE)
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_SV_AR_PDEVPRM_RDWR_PTR_TYPE_CM_OPC_SV_AR_PDEVPRM_WRITE*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_pdevprm_rdwr) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_SV_AR_PDEVPRM_RDWR_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    /*
                    if (HIF_IS_NOT_NULL(new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data)) //#24
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data),(LSA_UINT32**)&help_ptr,new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length);                // record_data
                    }
                    */
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.ret_val_1,(LSA_UINT32**)&help_ptr);                /* ret_val_1 */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.ret_val_2,(LSA_UINT32**)&help_ptr);                /* ret_val_2 */
            }
            else
            {
                new_rqb->args.sv.ar_pdevprm_rdwr = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
        
    }
    else if (opcode==CM_OPC_SV_AR_RIR_ACK)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_SEND)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_alarm_send) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_ALARM_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_send->alarm_priority,(LSA_UINT32**)&help_ptr);                /* alarm_priority */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_send->alarm_sequence,(LSA_UINT32**)&help_ptr);                /* alarm_sequence */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_alarm_send->diag_channel_available,(LSA_UINT32**)&help_ptr);                /* diag_channel_available */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_alarm_send->diag_generic_available,(LSA_UINT32**)&help_ptr);                /* diag_generic_available */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_alarm_send->diag_submod_available,(LSA_UINT32**)&help_ptr);                /* diag_submod_available */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.ar_alarm_send->reserved,(LSA_UINT32**)&help_ptr);                /* reserved */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_alarm_send->ar_diagnosis_state,(LSA_UINT32**)&help_ptr);                /* ar_diagnosis_state */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_alarm_send->mod_ident,(LSA_UINT32**)&help_ptr);                /* mod_ident */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_alarm_send->sub_ident,(LSA_UINT32**)&help_ptr);                /* sub_ident */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_alarm_send->cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_alarm_send->maintenance_status,(LSA_UINT32**)&help_ptr);                /* maintenance_status */
            }
            else
            {
                new_rqb->args.sv.ar_alarm_send = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_RSP)
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_IND)
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_ALARM_PTR_TYPE_CM_OPC_SV_AR_ALARM_IND*/

        LSA_UINT32* temp_ptr = LSA_NULL;

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);       /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                  /* _response */
            CM_RQB_SET_RESPONSE(new_rqb,response);                                    /* _response */

            if((new_rqb->args.sv.ar_alarm_send!=LSA_NULL) && (*((CM_UPPER_ALARM_PTR_TYPE*)help_ptr))!=LSA_NULL)
            {
                /* INFO: no need to deserialize hif-upper pointer: ar_alarm_send */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_alarm_send->device_nr),(LSA_UINT32**)&help_ptr);           /* device_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_alarm_send->ar_nr),(LSA_UINT32**)&help_ptr);           /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_alarm_send->session_key),(LSA_UINT32**)&help_ptr);           /* session_key */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_alarm_send->alarm_priority),(LSA_UINT32**)&help_ptr);           /* alarm_priority */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_alarm_send->api),(LSA_UINT32**)&help_ptr);           /* api */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_alarm_send->slot_nr),(LSA_UINT32**)&help_ptr);           /* slot_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_alarm_send->subslot_nr),(LSA_UINT32**)&help_ptr);           /* subslot_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_alarm_send->alarm_type),(LSA_UINT32**)&help_ptr);           /* alarm_type */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_alarm_send->alarm_sequence),(LSA_UINT32**)&help_ptr);           /* alarm_sequence */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.sv.ar_alarm_send->diag_channel_available),(LSA_UINT32**)&help_ptr);           /* diag_channel_available */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.sv.ar_alarm_send->diag_generic_available),(LSA_UINT32**)&help_ptr);           /* diag_generic_available */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.sv.ar_alarm_send->diag_submod_available),(LSA_UINT32**)&help_ptr);           /* diag_submod_available */
                HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_alarm_send->reserved),(LSA_UINT32**)&help_ptr);           /* reserved */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.sv.ar_alarm_send->ar_diagnosis_state),(LSA_UINT32**)&help_ptr);           /* ar_diagnosis_state */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_alarm_send->mod_ident),(LSA_UINT32**)&help_ptr);           /* mod_ident */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_alarm_send->sub_ident),(LSA_UINT32**)&help_ptr);           /* sub_ident */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_alarm_send->alarm_tag),(LSA_UINT32**)&help_ptr);           /* alarm_tag */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_alarm_send->alarm_data_length),(LSA_UINT32**)&help_ptr);           /* alarm_data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.sv.ar_alarm_send->alarm_data_length>0)
                {
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&temp_ptr, new_rqb->args.sv.ar_alarm_send->alarm_data_length+4);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d)_alloc alarm_data, alarm_data_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,new_rqb->args.sv.ar_alarm_send->alarm_data_length,help_ptr,new_rqb+4);
                    if (HIF_IS_NULL(temp_ptr))
                    {
                        return HIF_ERR_RESOURCE;
                    }
                    else
                    {
                        if(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)!=LSA_NULL)
                        {
                            /* INFO: no need to deserialize pointer: alarm_data */
                            help_ptr+=HIF_SER_SIZEOF(4);
                            // save xRQB-ID pointer before the first buffer
                            HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                            /* orig.  xRQB pointer */
                            temp_ptr+=1;
                            new_rqb->args.sv.ar_alarm_send->alarm_data = (CM_COMMON_MEM_U8_PTR_TYPE)temp_ptr;               // adapt the alarm_data pointer
                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_alarm_send->alarm_data),(LSA_UINT32**)&help_ptr,new_rqb->args.sv.ar_alarm_send->alarm_data_length);         /* alarm_data */
                        }
                    }
                }
                else
                {
                    new_rqb->args.sv.ar_alarm_send->alarm_data = LSA_NULL;
                }
            }
        }
        
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_ACK)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_alarm_ack) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_ALARM_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_alarm_ack->ar_diagnosis_state,(LSA_UINT32**)&help_ptr);                /* ar_diagnosis_state */
            }
            else
            {
                new_rqb->args.sv.ar_alarm_ack = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if  ((opcode==CM_OPC_SV_AR_CONNECT_IND)
            ||(opcode==CM_OPC_SV_AR_CONNECT_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_CONNECT_IND*/

        LSA_UINT32* temp_ptr = LSA_NULL;

        LSA_UINT32 cmi_station_name_length = 0;
        LSA_UINT16 ARFSUBlock_length = 0;                   //CM_OPC_SV_AR_CONNECT_IND, CM_OPC_SV_AR_DISCONNECT_IND

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);       /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                /* _response */
            CM_RQB_SET_RESPONSE(new_rqb,response);                                    /* _response */

            if((new_rqb->args.sv.ar_event!=LSA_NULL) && (*((CM_UPPER_EVENT_PTR_TYPE*)help_ptr))!=LSA_NULL)
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->device_nr),(LSA_UINT32**)&help_ptr);       /* device_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->ar_nr),(LSA_UINT32**)&help_ptr);          /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->session_key),(LSA_UINT32**)&help_ptr);     /* session_key */

                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check pointer on shared mem
                {
                    temp_ptr = LSA_NULL;

                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(temp_ptr),sizeof(CM_SV_AR_CONNECT_TYPE)+ 4  +((HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+8)))-1)*sizeof(CM_SV_AR_CONNECT_IOCR_TYPE)));
                    HIF_ASSERT(temp_ptr != LSA_NULL);
                    new_rqb->args.sv.ar_event->u.sv.ar_connect = (CM_SV_AR_CONNECT_TYPE*)(((LSA_UINT8*)temp_ptr)+4);

                    help_ptr+=HIF_SER_SIZEOF(4);
                    HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                            /* orig.  xRQB pointer */
                    temp_ptr = LSA_NULL;

                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->send_clock_31250ns),(LSA_UINT32**)&help_ptr);      /* send_clock_31250ns */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->nr_of_iocrs),(LSA_UINT32**)&help_ptr);             /* nr_of_iocrs */

                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->host_ip),(LSA_UINT32**)&help_ptr);             /* host_ip */
                    HIF_SER_COPY_SHMTH_32(&cmi_station_name_length,(LSA_UINT32**)&help_ptr);             /* cmi_station_name_length */
                    if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && cmi_station_name_length > 0)
                    {
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.sv.ar_event->u.sv.ar_connect->cmi_station_name), cmi_station_name_length);
                        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d)_alloc cmi_station_name, alarm_data_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,cmi_station_name_length,help_ptr,new_rqb+4);
                        if (HIF_IS_NULL(new_rqb->args.sv.ar_event->u.sv.ar_connect->cmi_station_name))
                        {
                            return HIF_ERR_RESOURCE;
                        }
                        else
                        {
                            /* INFO: no need to deserialize pointer: cmi_station_name */
                            help_ptr+=HIF_SER_SIZEOF(4);
                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_event->u.sv.ar_connect->cmi_station_name),(LSA_UINT32**)&help_ptr,cmi_station_name_length);         /* cmi_station_name_length */
                        }
                    }
                    else
                    {
                        new_rqb->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name = LSA_NULL;
                        help_ptr+=HIF_SER_SIZEOF(4);      // skip cmi_station_name ptr
                    }
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.time_low),(LSA_UINT32**)&help_ptr);             /* time_low */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.time_mid),(LSA_UINT32**)&help_ptr);             /* time_mid */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.time_hi_and_version),(LSA_UINT32**)&help_ptr);             /* time_hi_and_version */
                    HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.clock_seq_hi_and_reserved),(LSA_UINT32**)&help_ptr);             /* clock_seq_hi_and_reserved */
                    HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.clock_seq_low),(LSA_UINT32**)&help_ptr);             /* clock_seq_low */
                    for(i=0;i<6;i++)
                    {                                       /* node*/
                        HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->cmi_obj_uuid.node[i]),(LSA_UINT32**)&help_ptr);             /* node */
                    }
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->ar_uuid.time_low),(LSA_UINT32**)&help_ptr);             /* time_low */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->ar_uuid.time_mid),(LSA_UINT32**)&help_ptr);             /* time_mid */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->ar_uuid.time_hi_and_version),(LSA_UINT32**)&help_ptr);             /* time_hi_and_version */
                    HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->ar_uuid.clock_seq_hi_and_reserved),(LSA_UINT32**)&help_ptr);             /* clock_seq_hi_and_reserved */
                    HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->ar_uuid.clock_seq_low),(LSA_UINT32**)&help_ptr);             /* clock_seq_low */
                    for(i=0;i<6;i++)
                    {                                       /* node*/
                        HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->ar_uuid.node[i]),(LSA_UINT32**)&help_ptr);             /* node */
                    }
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->alarm_send_max_length),(LSA_UINT32**)&help_ptr);                    /* alarm_send_max_length */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->ar_type),(LSA_UINT32**)&help_ptr);                              /* ar_type */
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->ar_properties),(LSA_UINT32**)&help_ptr);                            /* ar_properties */
                    HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->is_iosar_with_device_access),(LSA_UINT32**)&help_ptr);              /* is_iosar_with_device_access */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ARFSUBlock_length,(LSA_UINT32**)&help_ptr);                                                                 /* ARFSUBlock_length */
                    if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && ARFSUBlock_length > 0)
                    {
                        help_ptr+=4;          /* skip buffer pointer */
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr),ARFSUBlock_length);
                        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%x) pRQB(0x%x)",ARFSUBlock_length,opcode,help_ptr,new_rqb+4);
                        if (HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr))
                        {
                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr),(LSA_UINT32**)&help_ptr,ARFSUBlock_length);             /* record_data */
                        }
                        else
                        {
                            return HIF_ERR_RESOURCE;
                        }
                    }
                    else
                    {
                        help_ptr+=4;          /* skip buffer-pointer */
                        new_rqb->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr = LSA_NULL;
                    }
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->sr_rdht_msec),(LSA_UINT32**)&help_ptr);             /* sr_rdht_msec */
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->sr_properties),(LSA_UINT32**)&help_ptr);             /* sr_properties */
                    //AP01354956
                    HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_connect->ARVendorBlock_cnt,(LSA_UINT32**)&help_ptr);          /* ARVendorBlock_cnt */
                    if (new_rqb->args.sv.ar_event->u.sv.ar_connect->ARVendorBlock_cnt != 0)
                    {
                        LSA_UINT32 size;
                        HIF_SER_COPY_SHMTH_32(&size,(LSA_UINT32**)&help_ptr);           /* size helper */
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.sv.ar_event->u.sv.ar_connect->ARVendorBlock_ptr), size);
                        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%x) pRQB(0x%x)",size,opcode,help_ptr,new_rqb+4);
                        if (HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event->u.sv.ar_connect->ARVendorBlock_ptr))
                        {
                            HIF_SER_COPY_SHMTH_BUF(new_rqb->args.sv.ar_event->u.sv.ar_connect->ARVendorBlock_ptr, (LSA_UINT32**)&help_ptr, size);
                        }
                        else
                        {
                            return HIF_ERR_RESOURCE;
                        }
                    }
                    else
                    {
                        //help_ptr+=4;          /* skip buffer-pointer */
                        new_rqb->args.sv.ar_event->u.sv.ar_connect->ARVendorBlock_ptr = LSA_NULL;
                    }
                    for(i=0;i<new_rqb->args.sv.ar_event->u.sv.ar_connect->nr_of_iocrs;i++)
                    {                                                /* iocr*/
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].iocr_ref),(LSA_UINT32**)&help_ptr);                  /* iocr_ref */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].frame_id),(LSA_UINT32**)&help_ptr);                  /* frame_id */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].iocr_type),(LSA_UINT32**)&help_ptr);                  /* iocr_type */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].iocr_properties),(LSA_UINT32**)&help_ptr);                  /* iocr_properties */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].iocr_user_id.uvar32),(LSA_UINT32**)&help_ptr);                  /* uvar32 */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].reduction_ratio),(LSA_UINT32**)&help_ptr);                  /* reduction_ratio */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].cycle_phase),(LSA_UINT32**)&help_ptr);                  /* cycle_phase */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].io_buffer_size),(LSA_UINT32**)&help_ptr);                  /* io_buffer_size */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddx_apdu_status_length),(LSA_UINT32**)&help_ptr);                  /* eddx_apdu_status_length */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddx_data_status_offset  ),(LSA_UINT32**)&help_ptr);                  /* eddx_data_status_offset   */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddi_cw_offset  ),(LSA_UINT32**)&help_ptr);                  /* eddi_cw_offset   */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddi_apdu_status_offset),(LSA_UINT32**)&help_ptr);                  /* eddi_apdu_status_offset */
                    }
                }
                else
                {
                    new_rqb->args.sv.ar_event->u.sv.ar_connect = LSA_NULL;
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_DISCONNECT_IND)
            ||(opcode==CM_OPC_SV_AR_DISCONNECT_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_DISCONNECT_IND*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        LSA_UINT32 cmi_station_name_length = 0;
        LSA_UINT16 ARFSUBlock_length = 0;                   //CM_OPC_SV_AR_CONNECT_IND, CM_OPC_SV_AR_DISCONNECT_IND

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4); /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                                     /* _opcode */
            help_ptr+=4;                                                            /* skip opcode on shared mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);              /* _response */
			HIF_RQB_SET_RESPONSE(new_rqb,response);                                 /* _response */
			HIF_SER_COPY_SHMTH_32(&(new_rqb->hif_helper),(LSA_UINT32**)&help_ptr);  /* orig.  xRQB pointer */

            if((new_rqb->args.sv.ar_event!=LSA_NULL) && (*((CM_UPPER_EVENT_PTR_TYPE*)help_ptr))!=LSA_NULL)
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->device_nr),(LSA_UINT32**)&help_ptr);             /* device_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->ar_nr),(LSA_UINT32**)&help_ptr);                 /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->session_key),(LSA_UINT32**)&help_ptr);           /* session_key */


                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check pointer on shared mem
                {
                    temp_ptr = LSA_NULL;

                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(temp_ptr),sizeof(CM_SV_AR_CONNECT_TYPE) + ((HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+8)))-1)*sizeof(CM_SV_AR_CONNECT_IOCR_TYPE)));

                    if (HIF_IS_NOT_NULL(temp_ptr))
                    {
                        new_rqb->args.sv.ar_event->u.sv.ar_connect = (CM_SV_AR_CONNECT_TYPE*)(((LSA_UINT8*)temp_ptr));
                        help_ptr+=HIF_SER_SIZEOF(4);
                    }
                    else
                    {
                        help_ptr+=HIF_SER_SIZEOF(4);
                        return HIF_ERR_RESOURCE;
                    }

                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->nr_of_iocrs),(LSA_UINT32**)&help_ptr);             /* nr_of_iocrs */

                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->host_ip),(LSA_UINT32**)&help_ptr);             /* host_ip */
                    HIF_SER_COPY_SHMTH_32(&cmi_station_name_length,(LSA_UINT32**)&help_ptr);                                         /* cmi_station_name_length */
                    if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && cmi_station_name_length > 0)
                    {
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name), cmi_station_name_length);
                        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d)_alloc cmi_station_name, alarm_data_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,cmi_station_name_length,help_ptr,new_rqb+4);
                        if (HIF_IS_NULL(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name))
                        {
                            return HIF_ERR_RESOURCE;
                        }
                        else
                        {
                            /* INFO: no need to deserialize pointer: cmi_station_name */
                            help_ptr+=HIF_SER_SIZEOF(4);
                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name),(LSA_UINT32**)&help_ptr,cmi_station_name_length);         /* alarm_data */
                        }
                    }
                    else
                    {
                        new_rqb->args.sv.ar_event->u.sv.ar_disconnect->cmi_station_name = LSA_NULL;
                        help_ptr+=HIF_SER_SIZEOF(4);      // skip cmi_station_name ptr
                    }
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.time_low),(LSA_UINT32**)&help_ptr);                 /* time_low */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.time_mid),(LSA_UINT32**)&help_ptr);                 /* time_mid */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.time_hi_and_version),(LSA_UINT32**)&help_ptr);        /* time_hi_and_version */
                    HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.clock_seq_hi_and_reserved),(LSA_UINT32**)&help_ptr);    /* clock_seq_hi_and_reserved */
                    HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.clock_seq_low),(LSA_UINT32**)&help_ptr);             /* clock_seq_low */
                    for(i=0;i<6;i++)
                    {                                       /* node*/
                        HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->cmi_obj_uuid.node[i]),(LSA_UINT32**)&help_ptr);                   /* node */
                    }
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.time_low),(LSA_UINT32**)&help_ptr);                      /* time_low */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.time_mid),(LSA_UINT32**)&help_ptr);                      /* time_mid */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.time_hi_and_version),(LSA_UINT32**)&help_ptr);             /* time_hi_and_version */
                    HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.clock_seq_hi_and_reserved),(LSA_UINT32**)&help_ptr);         /* clock_seq_hi_and_reserved */
                    HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.clock_seq_low),(LSA_UINT32**)&help_ptr);                  /* clock_seq_low */
                    for(i=0;i<6;i++)
                    {                                       /* node*/
                        HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->ar_uuid.node[i]),(LSA_UINT32**)&help_ptr);                    /* node */
                    }
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->alarm_send_max_length),(LSA_UINT32**)&help_ptr);             /* alarm_send_max_length */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->ar_type),(LSA_UINT32**)&help_ptr);                               /* ar_type */
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->ar_properties),(LSA_UINT32**)&help_ptr);                     /* ar_properties */
                    HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->is_iosar_with_device_access),(LSA_UINT32**)&help_ptr);           /* is_iosar_with_device_access */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&ARFSUBlock_length,(LSA_UINT32**)&help_ptr);                                                                 /* ARFSUBlock_length */
                    if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && ARFSUBlock_length > 0)
                    {
                        help_ptr+=4;          /* skip buffer pointer */
                        HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr),ARFSUBlock_length);
                        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%x) pRQB(0x%x)",ARFSUBlock_length,opcode,help_ptr,new_rqb+4);
                        if (HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr))
                        {
                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr),(LSA_UINT32**)&help_ptr,ARFSUBlock_length);             /* record_data */
                        }
                        else
                        {
                            return HIF_ERR_RESOURCE;
                        }
                    }
                    else
                    {
                        help_ptr+=4;          /* skip buffer-pointer */
                        new_rqb->args.sv.ar_event->u.sv.ar_connect->ARFSUBlock_ptr = LSA_NULL;
                    }
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->sr_rdht_msec),(LSA_UINT32**)&help_ptr);             /* sr_rdht_msec */
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->sr_properties),(LSA_UINT32**)&help_ptr);             /* sr_properties */
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->disconnect.reason_code),(LSA_UINT32**)&help_ptr);             /* reason_code */
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->disconnect.reason_pnio_status),(LSA_UINT32**)&help_ptr);             /* reason_pnio_status */
                    HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->disconnect.was_in_data),(LSA_UINT32**)&help_ptr);             /* was_in_data */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->u.sv.ar_disconnect->send_clock_31250ns,(LSA_UINT32**)&help_ptr);            /* send_clock_31250ns */
                    for(i=0;i<new_rqb->args.sv.ar_event->u.sv.ar_disconnect->nr_of_iocrs;i++)
                    {                                                /* iocr*/
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].iocr_ref),(LSA_UINT32**)&help_ptr);                  /* iocr_ref */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].frame_id),(LSA_UINT32**)&help_ptr);                  /* frame_id */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].iocr_type),(LSA_UINT32**)&help_ptr);                  /* iocr_type */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].iocr_properties),(LSA_UINT32**)&help_ptr);                  /* iocr_properties */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].iocr_user_id.uvar32),(LSA_UINT32**)&help_ptr);        /* iocr_user_id */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].reduction_ratio),(LSA_UINT32**)&help_ptr);            /* reduction_ratio */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].cycle_phase),(LSA_UINT32**)&help_ptr);                  /* cycle_phase */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].io_buffer_size),(LSA_UINT32**)&help_ptr);                  /* io_buffer_size */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddx_apdu_status_length),(LSA_UINT32**)&help_ptr);                  /* eddx_apdu_status_length */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddx_data_status_offset  ),(LSA_UINT32**)&help_ptr);                  /* eddx_data_status_offset   */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddi_cw_offset  ),(LSA_UINT32**)&help_ptr);                  /* eddi_cw_offset   */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddi_apdu_status_offset),(LSA_UINT32**)&help_ptr);                  /* eddi_apdu_status_offset */
                    }
                }
                else
                {
                    help_ptr+=HIF_SER_SIZEOF(4);
                    new_rqb->args.sv.ar_event->u.sv.ar_connect = LSA_NULL;
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_OWNERSHIP_IND)
            ||(opcode==CM_OPC_SV_AR_OWNERSHIP_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_OWNERSHIP_IND*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        LSA_UINT32 j=0;

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);       /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                  /* _response */
            CM_RQB_SET_RESPONSE(new_rqb,response);                                    /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->device_nr,(LSA_UINT32**)&help_ptr);           /* device_nr */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->ar_nr,(LSA_UINT32**)&help_ptr);           /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->session_key,(LSA_UINT32**)&help_ptr);           /* session_key */

                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))         /* check pointer "ar_ownership" on shared-mem */
                {
                    temp_ptr = LSA_NULL;
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(temp_ptr),sizeof(CM_SV_AR_OWNERSHIP_TYPE)+ 4 +((HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+8))) -1 )*sizeof(CM_SV_AR_OWNERSHIP_ELEMENT_TYPE)));

                    if (HIF_IS_NOT_NULL(temp_ptr))
                    {
                        new_rqb->args.sv.ar_event->u.sv.ar_ownership = (CM_UPPER_SV_AR_OWNERSHIP_PTR_TYPE)(((LSA_UINT8*)temp_ptr)+4);
                        help_ptr+=HIF_SER_SIZEOF(4);
                        HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                            /* orig.  xRQB pointer */
                        temp_ptr = LSA_NULL;
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }

                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->nr_of_elems,(LSA_UINT32**)&help_ptr);             /* nr_of_elems */

                    if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event->u.sv.ar_ownership))
                    {
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->ar_context,(LSA_UINT32**)&help_ptr);             /* ar_context */
                        HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->set_mrp_off,(LSA_UINT32**)&help_ptr);             /* set_mrp_off */

                        for(i=0;i<new_rqb->args.sv.ar_event->u.sv.ar_ownership->nr_of_elems;i++)
                        {                                                /* elem*/
                            HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].api,(LSA_UINT32**)&help_ptr);                  /* api */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].slot_nr,(LSA_UINT32**)&help_ptr);                  /* slot_nr */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].subslot_nr,(LSA_UINT32**)&help_ptr);                  /* subslot_nr */
                            HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].mod_ident,(LSA_UINT32**)&help_ptr);                  /* mod_ident */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].mod_properties,(LSA_UINT32**)&help_ptr);                  /* mod_properties */
                            HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].sub_ident,(LSA_UINT32**)&help_ptr);                  /* sub_ident */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].sub_properties,(LSA_UINT32**)&help_ptr);                  /* sub_properties */
                            for(j=0;j<2;j++)
                            {                                                               /* descr*/
                                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_description,(LSA_UINT32**)&help_ptr);                       /* data_description */
                                HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_user_id.uvar32,(LSA_UINT32**)&help_ptr);                       /* uvar32 */
                                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_offset,(LSA_UINT32**)&help_ptr);                       /* data_offset */
                                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_length,(LSA_UINT32**)&help_ptr);                       /* data_length */
                                HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iops_length,(LSA_UINT32**)&help_ptr);                       /* iops_length */
                                HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_user_id.uvar32,(LSA_UINT32**)&help_ptr);                       /* uvar32 */
                                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_offset,(LSA_UINT32**)&help_ptr);                       /* iocs_offset */
                                HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_length,(LSA_UINT32**)&help_ptr);                       /* iocs_length */
                            }
                            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].is_wrong,(LSA_UINT32**)&help_ptr);                  /* is_wrong */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].owner_session_key,(LSA_UINT32**)&help_ptr);                  /* owner_session_key */
                        }
                    }
                }
                else
                {
                    help_ptr+=HIF_SER_SIZEOF(4);
                    new_rqb->args.sv.ar_event->u.sv.ar_ownership = LSA_NULL;
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_PDEVPRM_IND)
            ||(opcode==CM_OPC_SV_AR_PDEVPRM_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_DATA_STATUS_IND*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                                             /* _opcode */
            help_ptr+=4;                                                                    /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                      /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                         /* _response */
            if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->device_nr,(LSA_UINT32**)&help_ptr);          /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->ar_nr,(LSA_UINT32**)&help_ptr);              /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->session_key,(LSA_UINT32**)&help_ptr);        /* session_key */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_event->u.sv.ar_pdevprm,(LSA_UINT32**)&help_ptr);    /* session_key */
            }
            else
            {
                new_rqb->args.sv.ar_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_PRM_END_IND)
            ||(opcode==CM_OPC_SV_AR_PRM_END_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_PRM_END_IND*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);       /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                  /* _response */
            CM_RQB_SET_RESPONSE(new_rqb,response);                                    /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->device_nr,(LSA_UINT32**)&help_ptr);           /* device_nr */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->ar_nr,(LSA_UINT32**)&help_ptr);           /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->session_key,(LSA_UINT32**)&help_ptr);           /* session_key */

                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))         /* check pointer "ar_prm_end" on shared-mem */
                {
                    temp_ptr = LSA_NULL;
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(temp_ptr),sizeof(CM_SV_AR_PRM_END_TYPE)+ 4 +((HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+8)))-1)*sizeof(CM_SV_AR_PRM_END_ELEMENT_TYPE)));

                    if (HIF_IS_NOT_NULL(temp_ptr))
                    {
                        new_rqb->args.sv.ar_event->u.sv.ar_prm_end = (CM_UPPER_SV_AR_PRM_END_PTR_TYPE)(((LSA_UINT8*)temp_ptr)+4);
                        help_ptr+=HIF_SER_SIZEOF(4);
                        HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                            /* orig.  xRQB pointer */
                        temp_ptr = LSA_NULL;
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }

                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->nr_of_elems,(LSA_UINT32**)&help_ptr);             /* nr_of_elems */

                    if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event->u.sv.ar_prm_end))
                    {
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->ar_context,(LSA_UINT32**)&help_ptr);             /* ar_context */

                        for(i=0;i<new_rqb->args.sv.ar_event->u.sv.ar_prm_end->nr_of_elems;i++)
                        {                                                /* elem*/
                            HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->elem[i].api,(LSA_UINT32**)&help_ptr);                  /* api */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->elem[i].slot_nr,(LSA_UINT32**)&help_ptr);                  /* slot_nr */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->elem[i].subslot_nr,(LSA_UINT32**)&help_ptr);                  /* subslot_nr */
                            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->elem[i].appl_ready_follows,(LSA_UINT32**)&help_ptr);                  /* appl_ready_follows */
                            HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->elem[i].appl_ready_pending,(LSA_UINT32**)&help_ptr);                  /* appl_ready_pending */
                        }
                    }
                }
                else
                {
                    help_ptr+=HIF_SER_SIZEOF(4);
                    new_rqb->args.sv.ar_event->u.sv.ar_prm_end = LSA_NULL;
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_SV_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_IN_DATA_IND*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);       /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                  /* _response */
            CM_RQB_SET_RESPONSE(new_rqb,response);                                    /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->device_nr,(LSA_UINT32**)&help_ptr);           /* device_nr */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->ar_nr,(LSA_UINT32**)&help_ptr);           /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->session_key,(LSA_UINT32**)&help_ptr);           /* session_key */

                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))         /* check pointer "ar_in_data" on shared-mem */
                {
                    temp_ptr = LSA_NULL;
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(temp_ptr),sizeof(CM_SV_AR_IN_DATA_TYPE)+ 4 +((HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+8)))-1)*sizeof(CM_SV_AR_IN_DATA_ELEMENT_TYPE)));

                    if (HIF_IS_NOT_NULL(temp_ptr))
                    {
                        new_rqb->args.sv.ar_event->u.sv.ar_in_data = (CM_UPPER_SV_AR_IN_DATA_PTR_TYPE)(((LSA_UINT8*)temp_ptr)+4);
                        help_ptr+=HIF_SER_SIZEOF(4);
                        HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                            /* orig.  xRQB pointer */
                        temp_ptr = LSA_NULL;
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }

                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_in_data->nr_of_elems,(LSA_UINT32**)&help_ptr);             /* nr_of_elems */

                    if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event->u.sv.ar_in_data))
                    {
                        /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_SV_AR_IN_DATA_PTR_TYPE */
                        help_ptr+=HIF_SER_SIZEOF(4);
                        for(i=0;i<new_rqb->args.sv.ar_event->u.sv.ar_in_data->nr_of_elems;i++)
                        {                                                /* elem*/
                            HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_in_data->elem[i].api,(LSA_UINT32**)&help_ptr);                  /* api */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_in_data->elem[i].slot_nr,(LSA_UINT32**)&help_ptr);                  /* slot_nr */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_in_data->elem[i].subslot_nr,(LSA_UINT32**)&help_ptr);                  /* subslot_nr */
                        }
                    }
                }
                else
                {
                    help_ptr+=HIF_SER_SIZEOF(4);
                    new_rqb->args.sv.ar_event->u.sv.ar_in_data = LSA_NULL;
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_RIR_IND)
            ||(opcode==CM_OPC_SV_AR_RIR_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_RIR_IND*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                                                            /* skip opcode on shared mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
            HIF_SER_COPY_SHMTH_32(&(new_rqb->hif_helper),(LSA_UINT32**)&help_ptr);  /* orig.  xRQB pointer */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_event->u.sv.ar_rir.rsv_interval_red.RxEndNs,(LSA_UINT32**)&help_ptr);                /* RxEndNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_event->u.sv.ar_rir.rsv_interval_red.RxLocalTransferEndNs,(LSA_UINT32**)&help_ptr);                /* RxLocalTransferEndNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_event->u.sv.ar_rir.rsv_interval_red.TxEndNs,(LSA_UINT32**)&help_ptr);                /* TxEndNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_event->u.sv.ar_rir.rsv_interval_red.TxLocalTransferStartNs,(LSA_UINT32**)&help_ptr);                /* TxLocalTransferStartNs */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_event->u.sv.ar_rir.rsv_interval_red.TxLocalTransferEndNs,(LSA_UINT32**)&help_ptr);                /* TxLocalTransferEndNs */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->u.sv.ar_rir.nr_of_elems,(LSA_UINT32**)&help_ptr);                /* nr_of_elems */
                for(i=0;i<new_rqb->args.sv.ar_event->u.sv.ar_rir.nr_of_elems;i++)                                                /* elem*/
                {
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_event->u.sv.ar_rir.elem[i].iocr_user_id.uvar32,(LSA_UINT32**)&help_ptr);                    /* uvar32 */
                }
            }
            else if(HIF_IS_NULL(new_rqb->args.sv.ar_event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))
            {
                HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x) - ar_event is NULL but used",opcode,ptr_rqb_src,new_rqb+4);
                return HIF_ERR_RESOURCE;
            }
            else
            {
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
            
    }
    else if  ((opcode==CM_OPC_SV_AR_READ_IND)
            ||(opcode==CM_OPC_SV_AR_READ_RSP)
            ||(opcode==CM_OPC_SV_AR_WRITE_IND)
            ||(opcode==CM_OPC_SV_AR_WRITE_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_upper_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_READ_IND_CM_OPC_SV_AR_WRITE_IND*/

        LSA_UINT32* temp_ptr = LSA_NULL;

        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);       /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src);
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                  /* _response */
            CM_RQB_SET_RESPONSE(new_rqb,response);                                    /* _response */

            if((new_rqb->args.sv.ar_event!=LSA_NULL) && (*((CM_UPPER_EVENT_PTR_TYPE*)help_ptr))!=LSA_NULL)
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->device_nr),(LSA_UINT32**)&help_ptr);                         /* device_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->ar_nr),(LSA_UINT32**)&help_ptr);                             /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->session_key),(LSA_UINT32**)&help_ptr);                       /* session_key */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.api),(LSA_UINT32**)&help_ptr);                   /* api */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.slot_nr),(LSA_UINT32**)&help_ptr);               /* slot_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.subslot_nr),(LSA_UINT32**)&help_ptr);            /* subslot_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.record_index),(LSA_UINT32**)&help_ptr);          /* record_index */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.sequence_nr),(LSA_UINT32**)&help_ptr);           /* sequence_nr */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.data_length),(LSA_UINT32**)&help_ptr);           /* data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.sv.ar_event->u.sv.ar_rec.data_length > 0)
                {
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&temp_ptr, new_rqb->args.sv.ar_event->u.sv.ar_rec.data_length+4);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d)_alloc read/write data, data_length(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,new_rqb->args.sv.ar_event->u.sv.ar_rec.data_length,help_ptr,new_rqb+4);
                    if (HIF_IS_NULL(temp_ptr))
                    {
                        return HIF_ERR_RESOURCE;
                    }
                    else
                    {
                        if(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)!=LSA_NULL)
                        {
                            /* INFO: no need to deserialize pointer: ar_rec.data */
                            help_ptr+=HIF_SER_SIZEOF(4);
                            // save xRQB-ID pointer before the first buffer
                            HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                            /* orig.  xRQB pointer */
                            temp_ptr+=1;
                            new_rqb->args.sv.ar_event->u.sv.ar_rec.data = (CM_COMMON_MEM_U8_PTR_TYPE)temp_ptr;              // adapt the alarm_data pointer
                            HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_event->u.sv.ar_rec.data),(LSA_UINT32**)&help_ptr,new_rqb->args.sv.ar_event->u.sv.ar_rec.data_length);         /* alarm_data */
                        }
                    }
                }
                else
                {
                    new_rqb->args.sv.ar_event->u.sv.ar_rec.data = LSA_NULL;
                    help_ptr+=HIF_SER_SIZEOF(4);
                }
                if (opcode==CM_OPC_SV_AR_READ_IND)
                {
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.readquery_length),(LSA_UINT32**)&help_ptr);                    /* readquery_length */
                }
                if (opcode==CM_OPC_SV_AR_WRITE_IND)
                {
                    HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.is_iosar_with_device_access),(LSA_UINT32**)&help_ptr);           /* is_iosar_with_device_access */
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_DATA_STATUS_IND)
            ||(opcode==CM_OPC_SV_AR_DATA_STATUS_RSP))
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_EVENT_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.ar_event->u.sv.ar_data_status.curr,(LSA_UINT32**)&help_ptr);                /* curr */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.ar_event->u.sv.ar_data_status.prev,(LSA_UINT32**)&help_ptr);                /* prev */
            }
            else
            {
                new_rqb->args.sv.ar_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_MC_CREATE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_MC_DELETE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */
        }
    }
    else if (opcode==CM_OPC_MC_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_MC_DEVICE_ADD)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

            if(HIF_IS_NOT_NULL(new_rqb->args.mc.dev_add) && HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr))) /*#19*/
            {
                /* INFO: no need to deserialize hif-upper pointer: CM_UPPER_MC_DEVICE_ADD_PTR_TYPE */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.mc.dev_add->pnio_status,(LSA_UINT32**)&help_ptr);                /* pnio_status */
            }
            else
            {
                new_rqb->args.mc.dev_add = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_MC_DEVICE_REMOVE)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_MC_DEVICE_CONTROL)
    {
        help_ptr = (LSA_UINT8*)ptr_rqb_src + HIF_SER_SIZEOF(4);        /* start deserialization after the original upper RQB pointer */

        if (HIF_IS_NULL((LSA_UINT8*)ptr_rqb_src))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            new_rqb = (CM_RQB_TYPE*)hif_get_rqb_id(ptr_rqb_src); /* get orig. upper RQB */
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_upper() opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,ptr_rqb_src,new_rqb+4);
            *ptr_ptr_rqb_dest = new_rqb;

            /* restore the Upper RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);                        /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                                                /* _response */

        }
    }
    else if (opcode==CM_OPC_PD_EVENT_APPL_READY_RSP)
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else if  ((opcode==CM_OPC_PD_ALARM_RSP)
            ||(opcode==CM_OPC_CL_ALARM_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else
    {
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"hif_cm_deserialize_upper(). RQB-Opcode:0x%x is not valid! shm_addr(0x%08x) pRQB(0x%08x)", opcode, ptr_rqb_src, new_rqb+4);
        HIF_FATAL(0);
    }
    HIF_ASSERT(HIF_IS_NOT_NULL(new_rqb)); /*#16*/
    *ptr_ptr_rqb_dest = new_rqb;

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_DESERIALIZE(ptr_rqb_src, opcode, help_ptr, "hif_cm_deserialize_upper");

    return HIF_OK;
}

/****************************************************************************
*  Name:        hif_cm_deserialize_lower()
*  Purpose:     De-serializes the RQB from the HIF shared memory into the
*               hosts local memory - according to the component ID and
*               OP-code in the RQB.
*  Input:       pRqbSrc - pointer to the RQB in shared memory
                pPipe   - pointer to pipe management structure
*  Output:      ppRqbDest - pointer to the RQB in the hosts local memory
*  Return:      HIF_OK
*               HIF_ERR_RESOURCE
****************************************************************************/
LSA_UINT16      hif_cm_deserialize_lower (
        HIF_SYS_HANDLE hSysDev,
        LSA_VOID* pHifPipeHandle,
        LSA_VOID* pRqbSrc,
        LSA_VOID** ppRqbDest )
{
    LSA_UINT8* help_ptr = LSA_NULL;
    LSA_OPCODE_TYPE opcode = 0;
    LSA_VOID* ptr_rqb_src = (LSA_VOID*)pRqbSrc;
    CM_RQB_TYPE** ptr_ptr_rqb_dest = (CM_RQB_TYPE**)ppRqbDest;
    CM_RQB_TYPE* new_rqb  = LSA_NULL;
    LSA_UINT32 rqb_size = 0;
    LSA_UINT32 i=0;

    HIF_ASSERT(HIF_IS_NOT_NULL(ptr_ptr_rqb_dest)); /*#17*/
    HIF_DESER_GET_OPCODE(ptr_rqb_src, opcode);

    LSA_UNUSED_ARG(hSysDev);
    LSA_UNUSED_ARG(pHifPipeHandle);

    if (opcode==CM_OPC_OPEN_CHANNEL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "open" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.open)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.open));
                if (HIF_IS_NULL(new_rqb->args.channel.open))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.open = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.channel.open!=LSA_NULL) /*#if1*/
            {
                HIF_SER_SYS_PATH_SHMTH(&new_rqb->args.channel.open->sys_path,(LSA_UINT32**)&help_ptr);                /* sys_path */
            }
        }
    }
    else if (opcode==CM_OPC_CLOSE_CHANNEL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "close" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.close)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.close));
                if (HIF_IS_NULL(new_rqb->args.channel.close))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.close = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_CHANNEL_INFO)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "info" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.info)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.info));
                if (HIF_IS_NULL(new_rqb->args.channel.info))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.info = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_OVERLOAD_INFO)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "overload" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.overload)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.overload));
                if (HIF_IS_NULL(new_rqb->args.channel.overload))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.overload = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.channel.overload!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.overload->send_overload_counter,(LSA_UINT32**)&help_ptr);                /* send_overload_counter */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.overload->recv_overload_counter,(LSA_UINT32**)&help_ptr);                /* recv_overload_counter */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.channel.overload->send_overload_changed,(LSA_UINT32**)&help_ptr);                /* send_overload_changed */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.channel.overload->recv_overload_changed,(LSA_UINT32**)&help_ptr);                /* recv_overload_changed */
            }
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_PROVIDE_ALARM)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "alarm" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.alarm)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.alarm));
                if (HIF_IS_NULL(new_rqb->args.channel.alarm))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.alarm = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.channel.alarm!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.alarm->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.alarm->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.alarm->alarm_priority,(LSA_UINT32**)&help_ptr);                /* alarm_priority */
            }
        }
    }
    else if  ((opcode==CM_OPC_PD_ALARM_IND)
            ||(opcode==CM_OPC_CL_ALARM_IND))
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else if (opcode==CM_OPC_ALARM_IND_RES_PROVIDE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "alarm" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.alarm)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.alarm));
                if (HIF_IS_NULL(new_rqb->args.channel.alarm))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.alarm = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.channel.alarm!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.alarm->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.alarm->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.alarm->alarm_priority,(LSA_UINT32**)&help_ptr);                /* alarm_priority */
            }
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_PROVIDE_EVENT)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "event" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.event));
                if (HIF_IS_NULL(new_rqb->args.channel.event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.channel.event!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
            }
        }
    }
    else if (opcode==CM_OPC_EVENT_IND_RES_PROVIDE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "event" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.event));
                if (HIF_IS_NULL(new_rqb->args.channel.event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if  ((opcode==CM_OPC_CL_AR_ABORT_IND)
            ||(opcode==CM_OPC_CL_AR_ABORT_RSP)
            ||(opcode==CM_OPC_CL_AR_PRE_OFFLINE_IND)
            ||(opcode==CM_OPC_CL_AR_PRE_OFFLINE_RSP)
            ||(opcode==CM_OPC_CL_AR_OFFLINE_IND)
            ||(opcode==CM_OPC_CL_AR_OFFLINE_RSP))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "event" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.event));
                if (HIF_IS_NULL(new_rqb->args.channel.event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.channel.event!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.channel.event->u.cl.ar_abort.error_cause.reason_code,(LSA_UINT32**)&help_ptr);                /* reason_code */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.channel.event->u.cl.ar_abort.error_cause.padding,(LSA_UINT32**)&help_ptr);                /* padding */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->u.cl.ar_abort.error_cause.error_cause,(LSA_UINT32**)&help_ptr);                /* error_cause */
                for(i=0;i<10;i++)                                                /* additional_info*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.channel.event->u.cl.ar_abort.error_cause.additional_info[i],(LSA_UINT32**)&help_ptr);                /* additional_info */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.cl.ar_abort.device_ip,(LSA_UINT32**)&help_ptr);                /* device_ip */
            }
        }
    }
    else if  ((opcode==CM_OPC_CL_AR_PRE_DATA_IND)
            ||(opcode==CM_OPC_CL_AR_PRE_DATA_RSP)
            ||(opcode==CM_OPC_CL_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_CL_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRE_DATA_RSP_CM_OPC_CL_AR_IN_DATA_RSP*/

       LSA_UINT32* temp_ptr = LSA_NULL;
    
        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        /* SPECIAL-CASE- get xRQB (new_rqb) manually */
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);	/* xRQB pointer */
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,new_rqb+4);
        
        if (HIF_IS_NULL(new_rqb))	/* Kein lower RQB vorhanden */
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            temp_ptr = (LSA_UINT32*)new_rqb;						/* remember new_rqb and store xRQB-ID later to here */
            *ptr_ptr_rqb_dest = new_rqb;							  /* return real lower rqb src without orig. upper RQB pointer */
    
            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            help_ptr+=4;						/* Specialcase: skip original upper pointer on shared mem */

            if(*((CM_UPPER_EVENT_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL)         /* => pointer "event" on shared-mem */
            {
                if (HIF_IS_NULL(new_rqb->args.channel.event))  //kein SPECIAL-CASE=> allocate
                {
                    HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.event));
                    if (HIF_IS_NULL(new_rqb->args.channel.event))
                    {
                        return HIF_ERR_RESOURCE;
                    }
                    help_ptr+=HIF_SER_SIZEOF(4);
                    CmListInitialize (& new_rqb->args.channel.event->u.cl.in_data.diff_list);
                    new_rqb->args.channel.event->u.cl.in_data.mod_diff_block = LSA_NULL;
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->device_nr),(LSA_UINT32**)&help_ptr);           /* device_nr */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->ar_nr),(LSA_UINT32**)&help_ptr);           /* ar_nr */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->session_key),(LSA_UINT32**)&help_ptr);           /* session_key */
                    for(i=0;i<6;i++)
                    {                                 /* mac*/
                        HIF_SER_COPY_SHMTH_8(&(new_rqb->args.channel.event->u.cl.in_data.ip_suite.device_mac.mac[i]),(LSA_UINT32**)&help_ptr);           /* mac */
                    }
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.event->u.cl.in_data.ip_suite.device_ip),(LSA_UINT32**)&help_ptr);           /* device_ip */
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.event->u.cl.in_data.ip_suite.device_subnet_mask),(LSA_UINT32**)&help_ptr);           /* device_subnet_mask */
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.channel.event->u.cl.in_data.ip_suite.device_gateway_ip),(LSA_UINT32**)&help_ptr);           /* device_gateway_ip */
                }
                else
                {
                    // keep the orig. alarm-pointer
                    help_ptr+=HIF_SER_SIZEOF(4);
                }
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
        
    }
    else if  ((opcode==CM_OPC_CL_AR_PRM_BEGIN_IND)
            ||(opcode==CM_OPC_CL_AR_PRM_BEGIN_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRM_BEGIN_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;
    
        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        /* SPECIAL-CASE- get xRQB (new_rqb) manually */
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);	/* xRQB pointer */
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,new_rqb+4);
        
        if (HIF_IS_NULL(new_rqb))	/* Kein lower RQB vorhanden */
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            temp_ptr = (LSA_UINT32*)new_rqb;						/* remember new_rqb and store xRQB-ID later to here */
            *ptr_ptr_rqb_dest = new_rqb;							  /* return real lower rqb src without orig. upper RQB pointer */
    
            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            help_ptr+=4;						/* Specialcase: skip original upper pointer on shared mem */
            if(*((CM_UPPER_EVENT_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL)        /* => pointer "event" on shared-mem */
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.event));
                if (HIF_IS_NULL(new_rqb->args.channel.event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
        
    }
    else if  ((opcode==CM_OPC_CL_AR_PRM_INDATA_IND)
            ||(opcode==CM_OPC_CL_AR_PRM_INDATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_CL_AR_PRM_INDATA_RSP*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        /* SPECIAL-CASE- get xRQB (new_rqb) manually */
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);	/* xRQB pointer */
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,new_rqb+4);
        
        if (HIF_IS_NULL(new_rqb))	/* Kein lower RQB vorhanden */
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            *ptr_ptr_rqb_dest = new_rqb;							  /* return real lower rqb src without orig. upper RQB pointer */
    
            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            help_ptr+=4;						/* Specialcase: skip original upper pointer on shared mem */
        }
        
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_ADDR_INFO_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_ADDR_INFO_RSP))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "event" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.event));
                if (HIF_IS_NULL(new_rqb->args.channel.event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.channel.event!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.channel.event->u.mc.addr_info.info_class,(LSA_UINT32**)&help_ptr);                /* info_class */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.channel.event->u.mc.addr_info.info_phase,(LSA_UINT32**)&help_ptr);                /* info_phase */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->u.mc.addr_info.reason_code,(LSA_UINT32**)&help_ptr);                /* reason_code */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->u.mc.addr_info.lower_rsp,(LSA_UINT32**)&help_ptr);                /* lower_rsp */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.addr_info.pnio_status,(LSA_UINT32**)&help_ptr);                /* pnio_status */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.addr_info.nca_status,(LSA_UINT32**)&help_ptr);                /* nca_status */
                for(i=0;i<6;i++)                                                /* mac*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.channel.event->u.mc.addr_info.device_mac.mac[i],(LSA_UINT32**)&help_ptr);                /* mac */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.addr_info.device_ip,(LSA_UINT32**)&help_ptr);                /* device_ip */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.addr_info.device_subnet_mask,(LSA_UINT32**)&help_ptr);                /* device_subnet_mask */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.addr_info.device_gateway_ip,(LSA_UINT32**)&help_ptr);                /* device_gateway_ip */
            }
        }
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_MC_EVENT_AR_IN_DATA_RSP*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        /* SPECIAL-CASE- get xRQB (new_rqb) manually */
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);	/* xRQB pointer */
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,new_rqb+4);
        
        if (HIF_IS_NULL(new_rqb))	/* Kein lower RQB vorhanden */
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            *ptr_ptr_rqb_dest = new_rqb;							  /* return real lower rqb src without orig. upper RQB pointer */
    
            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            help_ptr+=4;						/* Specialcase: skip original upper pointer on shared mem */
        }
        
    }
    else if  ((opcode==CM_OPC_MC_EVENT_AR_OFFLINE_IND)
            ||(opcode==CM_OPC_MC_EVENT_AR_OFFLINE_RSP))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "event" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.event));
                if (HIF_IS_NULL(new_rqb->args.channel.event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.channel.event!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.ar_offline.reason_code,(LSA_UINT32**)&help_ptr);                /* reason_code */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.channel.event->u.mc.ar_offline.reason_pnio_status,(LSA_UINT32**)&help_ptr);                /* reason_pnio_status */
            }
        }
    }
    else if  ((opcode==CM_OPC_MC_EVENT_APDU_STATUS_IND)
            ||(opcode==CM_OPC_MC_EVENT_APDU_STATUS_RSP))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "event" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.event));
                if (HIF_IS_NULL(new_rqb->args.channel.event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.channel.event!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->u.mc.apdu_status,(LSA_UINT32**)&help_ptr);                /* apdu_status */
            }
        }
    }
    else if (opcode==CM_OPC_IND_RES_WITHDRAW)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "withdraw" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.withdraw)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.withdraw));
                if (HIF_IS_NULL(new_rqb->args.channel.withdraw))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.withdraw = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.channel.withdraw!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.withdraw->events,(LSA_UINT32**)&help_ptr);                /* events */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.withdraw->alarms_high,(LSA_UINT32**)&help_ptr);                /* alarms_high */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.withdraw->alarms_low,(LSA_UINT32**)&help_ptr);                /* alarms_low */
            }
        }
    }
    else if  ((opcode==CM_OPC_CL_AR_DATA_STATUS_IND)
            ||(opcode==CM_OPC_CL_AR_DATA_STATUS_RSP))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "event" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.event));
                if (HIF_IS_NULL(new_rqb->args.channel.event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.channel.event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.channel.event!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.channel.event->u.cl.data_status,(LSA_UINT32**)&help_ptr);                /* data_status */
            }
        }
    }
    else if (opcode==CM_OPC_PD_CREATE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "create" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.pd.create)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.pd.create)+ (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+4)))-1)*sizeof(CM_PD_MAP_TYPE));
                if (HIF_IS_NULL(new_rqb->args.pd.create))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.pd.create = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.pd.create!=LSA_NULL) /*#if1*/
            {
                /* INFO: deserialize the array size from right after the pointer */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.create->map_count,(LSA_UINT32**)&help_ptr);                /* map_count */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.create->max_alarm_data_length,(LSA_UINT32**)&help_ptr);                /* max_alarm_data_length */
                for(i=0;i<64;i++)                                                /* annotation*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.pd.create->annotation[i],(LSA_UINT32**)&help_ptr);                /* annotation */
                }

                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))                /* check pointer "oem_data" on shared-mem */ /*#18*/
                {
                    HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.pd.create->oem_data)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.pd.create->oem_data));
                    if (HIF_IS_NULL(new_rqb->args.pd.create->oem_data))
                    {
                        return HIF_ERR_RESOURCE;
                    }
                    help_ptr+=HIF_SER_SIZEOF(4);
                }
                else
                {
                    new_rqb->args.pd.create->oem_data = LSA_NULL;
                    help_ptr+=HIF_SER_SIZEOF(4);
                }
                if(new_rqb->args.pd.create->oem_data!=LSA_NULL) /*#if1*/
                {
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.create->oem_data->vendor_id,(LSA_UINT32**)&help_ptr);                    /* vendor_id */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.create->oem_data->device_id,(LSA_UINT32**)&help_ptr);                    /* device_id */
                    for(i=0;i<64;i++)                                                            /* IM_Annotation*/
                    {
                        HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.pd.create->oem_data->IM_Annotation[i],(LSA_UINT32**)&help_ptr);                    /* IM_Annotation */
                    }
                    for(i=0;i<64;i++)                                                            /* IM_OrderID*/
                    {
                        HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.pd.create->oem_data->IM_OrderID[i],(LSA_UINT32**)&help_ptr);                    /* IM_OrderID */
                    }
                    for(i=0;i<16;i++)                                                            /* IM_Serial_Number*/
                    {
                        HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.pd.create->oem_data->IM_Serial_Number[i],(LSA_UINT32**)&help_ptr);                    /* IM_Serial_Number */
                    }
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.create->oem_data->IM_Hardware_Revision,(LSA_UINT32**)&help_ptr);                    /* IM_Hardware_Revision */
                    HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.create->oem_data->SWRevisionPrefix,(LSA_UINT32**)&help_ptr);                    /* SWRevisionPrefix */
                    HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.create->oem_data->IM_SWRevision_Functional_Enhancement,(LSA_UINT32**)&help_ptr);                    /* IM_SWRevision_Functional_Enhancement */
                    HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.create->oem_data->IM_SWRevision_Bug_Fix,(LSA_UINT32**)&help_ptr);                    /* IM_SWRevision_Bug_Fix */
                    HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.create->oem_data->IM_SWRevision_Internal_Change,(LSA_UINT32**)&help_ptr);                    /* IM_SWRevision_Internal_Change */
                }
                for(i=0;i<new_rqb->args.pd.create->map_count;i++)                                                /* map*/
                {
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.create->map[i].slot_nr,(LSA_UINT32**)&help_ptr);                    /* slot_nr */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.create->map[i].subslot_nr,(LSA_UINT32**)&help_ptr);                    /* subslot_nr */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.create->map[i].mod_ident,(LSA_UINT32**)&help_ptr);                    /* mod_ident */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.create->map[i].sub_ident,(LSA_UINT32**)&help_ptr);                    /* sub_ident */
                }
            }
        }
    }
    else if (opcode==CM_OPC_PD_DELETE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "d_lete" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.pd.d_lete)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.pd.d_lete));
                if (HIF_IS_NULL(new_rqb->args.pd.d_lete))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.pd.d_lete = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
    }
    else if (opcode==CM_OPC_PD_REMAP)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "remap" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.pd.remap)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.pd.remap)+ (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+4)))-1)*sizeof(CM_PD_MAP_TYPE));
                if (HIF_IS_NULL(new_rqb->args.pd.remap))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.pd.remap = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.pd.remap!=LSA_NULL) /*#if1*/
            {
                /* INFO: deserialize the array size from right after the pointer */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.remap->map_count,(LSA_UINT32**)&help_ptr);                /* map_count */
                for(i=0;i<new_rqb->args.pd.remap->map_count;i++)                                                /* map*/
                {
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.remap->map[i].slot_nr,(LSA_UINT32**)&help_ptr);                    /* slot_nr */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.remap->map[i].subslot_nr,(LSA_UINT32**)&help_ptr);                    /* subslot_nr */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.remap->map[i].mod_ident,(LSA_UINT32**)&help_ptr);                    /* mod_ident */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.remap->map[i].sub_ident,(LSA_UINT32**)&help_ptr);                    /* sub_ident */
                }
            }
        }
    }
    else if (opcode==CM_OPC_PD_LINK_STATUS_INFO)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "link_status" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.pd.link_status)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.pd.link_status));
                if (HIF_IS_NULL(new_rqb->args.pd.link_status))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.pd.link_status = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.pd.link_status!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.link_status->interface_id,(LSA_UINT32**)&help_ptr);                /* interface_id */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.link_status->port_id,(LSA_UINT32**)&help_ptr);                /* port_id */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.link_status->status,(LSA_UINT32**)&help_ptr);                /* status */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.link_status->speed,(LSA_UINT32**)&help_ptr);                /* speed */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.link_status->mode,(LSA_UINT32**)&help_ptr);                /* mode */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.link_status->autoneg,(LSA_UINT32**)&help_ptr);                /* autoneg */
            }
        }
    }
    else if (opcode==CM_OPC_PD_SYNC_LED_INFO)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "sync_led_info" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.pd.sync_led_info)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.pd.sync_led_info));
                if (HIF_IS_NULL(new_rqb->args.pd.sync_led_info))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.pd.sync_led_info = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.pd.sync_led_info!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.sync_led_info->edd_port_id,(LSA_UINT32**)&help_ptr);                /* edd_port_id */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.sync_led_info->sync_led_info,(LSA_UINT32**)&help_ptr);                /* sync_led_info */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.pd.sync_led_info->is_rate_valid,(LSA_UINT32**)&help_ptr);                /* is_rate_valid */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.sync_led_info->rcv_sync_prio,(LSA_UINT32**)&help_ptr);                /* rcv_sync_prio */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.sync_led_info->local_prio,(LSA_UINT32**)&help_ptr);                /* local_prio */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.sync_led_info->pll_state,(LSA_UINT32**)&help_ptr);                /* pll_state */
            }
        }
    }
    else if (opcode==CM_OPC_PD_PRM_BEGIN)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
        }
    }
    else if (opcode==CM_OPC_PD_PRM_READ)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "prm_rdwr" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.pd.prm_rdwr)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.pd.prm_rdwr));
                if (HIF_IS_NULL(new_rqb->args.pd.prm_rdwr))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.pd.prm_rdwr = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.pd.prm_rdwr!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.prm_rdwr->slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.prm_rdwr->subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.prm_rdwr->record_index,(LSA_UINT32**)&help_ptr);                /* record_index */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.prm_rdwr->record_data_length,(LSA_UINT32**)&help_ptr);                /* record_data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.pd.prm_rdwr->record_data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.pd.prm_rdwr->record_data),new_rqb->args.pd.prm_rdwr->record_data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.pd.prm_rdwr->record_data_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.pd.prm_rdwr->record_data)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.pd.prm_rdwr->record_data),(LSA_UINT32**)&help_ptr,new_rqb->args.pd.prm_rdwr->record_data_length);                /* record_data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.pd.prm_rdwr->record_data = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
            }
        }
    }
    else if (opcode==CM_OPC_PD_PRM_WRITE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "prm_rdwr" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.pd.prm_rdwr)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.pd.prm_rdwr));
                if (HIF_IS_NULL(new_rqb->args.pd.prm_rdwr))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.pd.prm_rdwr = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.pd.prm_rdwr!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.prm_rdwr->slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.prm_rdwr->subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.prm_rdwr->record_index,(LSA_UINT32**)&help_ptr);                /* record_index */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.prm_rdwr->record_data_length,(LSA_UINT32**)&help_ptr);                /* record_data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.pd.prm_rdwr->record_data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.pd.prm_rdwr->record_data),new_rqb->args.pd.prm_rdwr->record_data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.pd.prm_rdwr->record_data_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.pd.prm_rdwr->record_data)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.pd.prm_rdwr->record_data),(LSA_UINT32**)&help_ptr,new_rqb->args.pd.prm_rdwr->record_data_length);                /* record_data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.pd.prm_rdwr->record_data = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.pd.prm_rdwr->mk_remanent,(LSA_UINT32**)&help_ptr);                /* mk_remanent */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.pd.prm_rdwr->is_local,(LSA_UINT32**)&help_ptr);                /* is_local */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.prm_rdwr->cls,(LSA_UINT32**)&help_ptr);                /* cls */
            }
        }
    }
    else if (opcode==CM_OPC_PD_PRM_END)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "prm_end" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.pd.prm_end)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.pd.prm_end));
                if (HIF_IS_NULL(new_rqb->args.pd.prm_end))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.pd.prm_end = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.pd.prm_end!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.pd.prm_end->set_mrp_off,(LSA_UINT32**)&help_ptr);                /* set_mrp_off */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.pd.prm_end->ir_data_uuid.time_low,(LSA_UINT32**)&help_ptr);                /* time_low */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.prm_end->ir_data_uuid.time_mid,(LSA_UINT32**)&help_ptr);                /* time_mid */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.pd.prm_end->ir_data_uuid.time_hi_and_version,(LSA_UINT32**)&help_ptr);                /* time_hi_and_version */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.pd.prm_end->ir_data_uuid.clock_seq_hi_and_reserved,(LSA_UINT32**)&help_ptr);                /* clock_seq_hi_and_reserved */
                for(i=0;i<6;i++)                                                /* node*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.pd.prm_end->ir_data_uuid.node[i],(LSA_UINT32**)&help_ptr);                /* node */
                }
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.pd.prm_end->pdev_problem,(LSA_UINT32**)&help_ptr);                /* pdev_problem */
            }
        }
    }
    else if (opcode==CM_OPC_PD_EVENT_APPL_READY_IND)
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else if (opcode==CM_OPC_CL_CREATE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "create" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.create)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.create));
                if (HIF_IS_NULL(new_rqb->args.cl.create))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.create = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.create!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.create->max_devices,(LSA_UINT32**)&help_ptr);                /* max_devices */
                for(i=0;i<64;i++)                                                /* annotation*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.cl.create->annotation[i],(LSA_UINT32**)&help_ptr);                /* annotation */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.create->vendor_id,(LSA_UINT32**)&help_ptr);                /* vendor_id */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.create->device_id,(LSA_UINT32**)&help_ptr);                /* device_id */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.create->instance,(LSA_UINT32**)&help_ptr);                /* instance */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.create->rpc_remote_application_timeout1sec,(LSA_UINT32**)&help_ptr);                /* rpc_remote_application_timeout1sec */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.create->alarm_reject,(LSA_UINT32**)&help_ptr);                /* alarm_reject */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.create->alarm_priority,(LSA_UINT32**)&help_ptr);                /* alarm_priority */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.cl.create->sr_ar_number,(LSA_UINT32**)&help_ptr);                /* sr_ar_number */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.cl.create->IOXS_Required,(LSA_UINT32**)&help_ptr);                /* IOXS_Required */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.create->initial_data_status,(LSA_UINT32**)&help_ptr);                /* initial_data_status */
            }
        }
    }
    else if (opcode==CM_OPC_CL_DELETE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
        }
    }
    else if (opcode==CM_OPC_CL_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "control" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.control)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.control));
                if (HIF_IS_NULL(new_rqb->args.cl.control))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.control = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.control!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.control->control_tag,(LSA_UINT32**)&help_ptr);                /* control_tag */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.control->apdu_status,(LSA_UINT32**)&help_ptr);                /* apdu_status */
            }
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_ADD)
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_CL_DEVICE_ADD_PTR_TYPE_CM_OPC_CL_DEVICE_ADD*/

        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);       /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);         /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                            /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                           /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */

            if(*((CM_UPPER_CL_DEVICE_ADD_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL)         /* => pointer "dev_add" on shared-mem */
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.dev_add)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.dev_add));
                if (HIF_IS_NULL(new_rqb->args.cl.dev_add))
                    return HIF_ERR_RESOURCE;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.dev_add = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.dev_add!=LSA_NULL)
            {
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.dev_add->device_nr),(LSA_UINT32**)&help_ptr);             /* device_nr */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.cl.dev_add->planned_mode),(LSA_UINT32**)&help_ptr);             /* planned_mode */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.cl.dev_add->run_mode),(LSA_UINT32**)&help_ptr);             /* run_mode */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.dev_add->cmi_activity_timeout100ms),(LSA_UINT32**)&help_ptr);             /* cmi_activity_timeout100ms */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.dev_add->dev_addr.properties),(LSA_UINT32**)&help_ptr);             /* properties */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.dev_add->dev_addr.device_name_length),(LSA_UINT32**)&help_ptr);             /* device_name_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.cl.dev_add->dev_addr.device_name),new_rqb->args.cl.dev_add->dev_addr.device_name_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%x) pRQB(0x%x)",new_rqb->args.cl.dev_add->dev_addr.device_name_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.dev_add->dev_addr.device_name))
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.cl.dev_add->dev_addr.device_name),(LSA_UINT32**)&help_ptr,new_rqb->args.cl.dev_add->dev_addr.device_name_length);             /* device_name */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.cl.dev_add->dev_addr.device_name = LSA_NULL; /* delete device_name*/
                    help_ptr+=4;          /* skip buffer-pointer */
                }

                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.cl.dev_add->dev_addr.device_ip_addr),(LSA_UINT32**)&help_ptr);             /* device_ip_addr */
                /* initialize list  */
                CmListInitialize (&new_rqb->args.cl.dev_add->dev_addr.device_alias_list);
                /* insert list: "device_alias_list" */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "device_alias_list.Flink" pointer on shared mem
                {
                    help_ptr+=HIF_SER_SIZEOF(4);   // skip device_alias_list" pointer
                    /* deserialize list: "device_alias_list" */
                    help_ptr = hif_cm_deser_device_alias_list(&new_rqb->args.cl.dev_add->dev_addr.device_alias_list,(LSA_UINT8*)help_ptr);
                }
                else
                {
                    new_rqb->args.cl.dev_add->dev_addr.device_alias_list.Flink = LSA_NULL;
                }

                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.dev_add->dev_rpc.vendor_id),(LSA_UINT32**)&help_ptr);             /* vendor_id */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.dev_add->dev_rpc.device_id),(LSA_UINT32**)&help_ptr);             /* device_id */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.dev_add->dev_rpc.instance),(LSA_UINT32**)&help_ptr);              /* instance */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.dev_add->dev_rpc.appl_timeout1sec),(LSA_UINT32**)&help_ptr);             /* appl_timeout1sec */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.cl.dev_add->dev_rpc.max_supported_record_length),(LSA_UINT32**)&help_ptr);             /* max_supported_record_length */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&(new_rqb->args.cl.dev_add->dev_rpc.write_multiple_is_supported),(LSA_UINT32**)&help_ptr);             /* write_multiple_is_supported */
                /* initialize list  */
                CmListInitialize (&new_rqb->args.cl.dev_add->ar_list);
                /* insert list: "ar_list" */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "ar_list.Flink" pointer on shared mem
                {
                    help_ptr+=HIF_SER_SIZEOF(4);   // skip ar_list" pointer
                    /* deserialize list: "ar_list" */
                    help_ptr = hif_cm_deser_ar_list(&new_rqb->args.cl.dev_add->ar_list,(LSA_UINT8*)help_ptr, LSA_TRUE);
                }
                else
                {
                    new_rqb->args.cl.dev_add->ar_list.Flink = LSA_NULL;
                }
            }
        }
        
    }
    else if (opcode==CM_OPC_CL_DEVICE_REMOVE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_remove" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.dev_remove)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.dev_remove));
                if (HIF_IS_NULL(new_rqb->args.cl.dev_remove))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.dev_remove = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.dev_remove!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.dev_remove->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
            }
        }
    }
    else if (opcode==CM_OPC_CL_DEVICE_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_control" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.dev_control)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.dev_control));
                if (HIF_IS_NULL(new_rqb->args.cl.dev_control))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.dev_control = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.dev_control!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.dev_control->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.dev_control->control_tag,(LSA_UINT32**)&help_ptr);                /* control_tag */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.dev_control->apdu_status,(LSA_UINT32**)&help_ptr);                /* apdu_status */
            }
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_READ)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "read" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.read)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.read));
                if (HIF_IS_NULL(new_rqb->args.cl.read))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.read = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.read!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read->rec.api,(LSA_UINT32**)&help_ptr);                /* api */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.record_index,(LSA_UINT32**)&help_ptr);                /* record_index */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.sequence_nr,(LSA_UINT32**)&help_ptr);                /* sequence_nr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read->rec.data_length,(LSA_UINT32**)&help_ptr);                /* data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.cl.read->rec.data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.cl.read->rec.data),new_rqb->args.cl.read->rec.data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.cl.read->rec.data_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.read->rec.data)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.cl.read->rec.data),(LSA_UINT32**)&help_ptr,new_rqb->args.cl.read->rec.data_length);                /* data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.cl.read->rec.data = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read->rec.readquery_length,(LSA_UINT32**)&help_ptr);                /* readquery_length */
            }
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_READ_QUERY)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "read" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.read)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.read));
                if (HIF_IS_NULL(new_rqb->args.cl.read))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.read = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.read!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read->rec.api,(LSA_UINT32**)&help_ptr);                /* api */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.record_index,(LSA_UINT32**)&help_ptr);                /* record_index */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read->rec.sequence_nr,(LSA_UINT32**)&help_ptr);                /* sequence_nr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read->rec.data_length,(LSA_UINT32**)&help_ptr);                /* data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.cl.read->rec.data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.cl.read->rec.data),new_rqb->args.cl.read->rec.data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.cl.read->rec.data_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.read->rec.data)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.cl.read->rec.data),(LSA_UINT32**)&help_ptr,new_rqb->args.cl.read->rec.data_length);                /* data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.cl.read->rec.data = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
            }
        }
    }
    else if  ((opcode==CM_OPC_CL_RECORD_READ_IMPLICIT)
            ||(opcode==CM_OPC_CL_RECORD_READ_IMPLICIT_QUERY))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "read_implicit" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.read_implicit)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.read_implicit));
                if (HIF_IS_NULL(new_rqb->args.cl.read_implicit))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.read_implicit = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.read_implicit!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->dev_addr.properties,(LSA_UINT32**)&help_ptr);                /* properties */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->dev_addr.device_name_length,(LSA_UINT32**)&help_ptr);                /* device_name_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.cl.read_implicit->dev_addr.device_name_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.cl.read_implicit->dev_addr.device_name),new_rqb->args.cl.read_implicit->dev_addr.device_name_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.cl.read_implicit->dev_addr.device_name_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.read_implicit->dev_addr.device_name)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.cl.read_implicit->dev_addr.device_name),(LSA_UINT32**)&help_ptr,new_rqb->args.cl.read_implicit->dev_addr.device_name_length);                /* device_name */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.cl.read_implicit->dev_addr.device_name = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read_implicit->dev_addr.device_ip_addr,(LSA_UINT32**)&help_ptr);                /* device_ip_addr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->dev_rpc.vendor_id,(LSA_UINT32**)&help_ptr);                /* vendor_id */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->dev_rpc.device_id,(LSA_UINT32**)&help_ptr);                /* device_id */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->dev_rpc.instance,(LSA_UINT32**)&help_ptr);                /* instance */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->dev_rpc.appl_timeout1sec,(LSA_UINT32**)&help_ptr);                /* appl_timeout1sec */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read_implicit->target_uuid.time_low,(LSA_UINT32**)&help_ptr);                /* time_low */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->target_uuid.time_mid,(LSA_UINT32**)&help_ptr);                /* time_mid */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->target_uuid.time_hi_and_version,(LSA_UINT32**)&help_ptr);                /* time_hi_and_version */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.cl.read_implicit->target_uuid.clock_seq_hi_and_reserved,(LSA_UINT32**)&help_ptr);                /* clock_seq_hi_and_reserved */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.cl.read_implicit->target_uuid.clock_seq_low,(LSA_UINT32**)&help_ptr);                /* clock_seq_low */
                for(i=0;i<6;i++)                                                /* node*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.cl.read_implicit->target_uuid.node[i],(LSA_UINT32**)&help_ptr);                /* node */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read_implicit->rec.api,(LSA_UINT32**)&help_ptr);                /* api */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->rec.slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->rec.subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.read_implicit->rec.record_index,(LSA_UINT32**)&help_ptr);                /* record_index */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.read_implicit->rec.data_length,(LSA_UINT32**)&help_ptr);                /* data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.cl.read_implicit->rec.data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.cl.read_implicit->rec.data),new_rqb->args.cl.read_implicit->rec.data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.cl.read_implicit->rec.data_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.read_implicit->rec.data)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.cl.read_implicit->rec.data),(LSA_UINT32**)&help_ptr,new_rqb->args.cl.read_implicit->rec.data_length);                /* data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.cl.read_implicit->rec.data = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
            }
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_WRITE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "write" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.write)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.write));
                if (HIF_IS_NULL(new_rqb->args.cl.write))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.write = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.write!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.write->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.write->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.write->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.write->rec.api,(LSA_UINT32**)&help_ptr);                /* api */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.write->rec.slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.write->rec.subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.write->rec.record_index,(LSA_UINT32**)&help_ptr);                /* record_index */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.write->rec.sequence_nr,(LSA_UINT32**)&help_ptr);                /* sequence_nr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.write->rec.data_length,(LSA_UINT32**)&help_ptr);                /* data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.cl.write->rec.data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.cl.write->rec.data),new_rqb->args.cl.write->rec.data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.cl.write->rec.data_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.write->rec.data)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.cl.write->rec.data),(LSA_UINT32**)&help_ptr,new_rqb->args.cl.write->rec.data_length);                /* data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.cl.write->rec.data = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
            }
        }
    }
    else if (opcode==CM_OPC_CL_RECORD_WRITE_MULTIPLE)
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_CL_RECORD_WRITE_MULTIPLE_PTR_TYPE_CM_OPC_CL_RECORD_WRITE_MULTIPLE*/

        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);       /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
            return HIF_ERR_RESOURCE;
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);         /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                            /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                           /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */

            if(*((CM_UPPER_CL_RECORD_WRITE_MULTIPLE_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL)         /* => pointer "write_multiple" on shared-mem */
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.write_multiple)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.write_multiple));
                if (HIF_IS_NULL(new_rqb->args.cl.write_multiple))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.write_multiple = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.write_multiple!=LSA_NULL)
            {
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.write_multiple->device_nr),(LSA_UINT32**)&help_ptr);             /* device_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.write_multiple->ar_nr),(LSA_UINT32**)&help_ptr);             /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.write_multiple->session_key),(LSA_UINT32**)&help_ptr);             /* session_key */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.cl.write_multiple->data_length),(LSA_UINT32**)&help_ptr);             /* data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.cl.write_multiple->data),new_rqb->args.cl.write_multiple->data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%x) pRQB(0x%x)",new_rqb->args.cl.write_multiple->data_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.write_multiple->data))
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.cl.write_multiple->data),(LSA_UINT32**)&help_ptr,new_rqb->args.cl.write_multiple->data_length);             /* data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.cl.write_multiple->data = LSA_NULL; /* delete data*/
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                /* initialize list  */
                CmListInitialize (&new_rqb->args.cl.write_multiple->rec_list);
                /* insert list: "rec_list" */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "rec_list.Flink" pointer on shared mem
                {
                    help_ptr+=HIF_SER_SIZEOF(4);   // skip rec_list" pointer
                    /* deserialize list: "rec_list" */
                    help_ptr = hif_cm_deser_rec_list(&new_rqb->args.cl.write_multiple->rec_list,(LSA_UINT8*)help_ptr,LSA_FALSE);
                }
                else
                {
                    new_rqb->args.cl.write_multiple->rec_list.Flink = LSA_NULL;
                }
            }
        }
        
    }
    else if (opcode==CM_OPC_CL_ALARM_SEND)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "alarm_send" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.alarm_send)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.alarm_send));
                if (HIF_IS_NULL(new_rqb->args.cl.alarm_send))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.alarm_send = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.alarm_send!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_send->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_send->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_send->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.alarm_send->api,(LSA_UINT32**)&help_ptr);                /* api */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_send->slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_send->subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_send->alarm_type,(LSA_UINT32**)&help_ptr);                /* alarm_type */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_send->alarm_tag,(LSA_UINT32**)&help_ptr);                /* alarm_tag */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_send->alarm_data_length,(LSA_UINT32**)&help_ptr);                /* alarm_data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.cl.alarm_send->alarm_data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.cl.alarm_send->alarm_data),new_rqb->args.cl.alarm_send->alarm_data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.cl.alarm_send->alarm_data_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.cl.alarm_send->alarm_data)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.cl.alarm_send->alarm_data),(LSA_UINT32**)&help_ptr,new_rqb->args.cl.alarm_send->alarm_data_length);                /* alarm_data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.cl.alarm_send->alarm_data = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
            }
        }
    }
    else if (opcode==CM_OPC_CL_ALARM_ACK_SEND)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "alarm_ack_send" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.alarm_ack_send)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.alarm_ack_send));
                if (HIF_IS_NULL(new_rqb->args.cl.alarm_ack_send))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.alarm_ack_send = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.alarm_ack_send!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_ack_send->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_ack_send->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_ack_send->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_ack_send->alarm_priority,(LSA_UINT32**)&help_ptr);                /* alarm_priority */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.alarm_ack_send->api,(LSA_UINT32**)&help_ptr);                /* api */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_ack_send->slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_ack_send->subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_ack_send->alarm_type,(LSA_UINT32**)&help_ptr);                /* alarm_type */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.alarm_ack_send->alarm_sequence,(LSA_UINT32**)&help_ptr);                /* alarm_sequence */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.cl.alarm_ack_send->diag_channel_available,(LSA_UINT32**)&help_ptr);                /* diag_channel_available */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.cl.alarm_ack_send->diag_generic_available,(LSA_UINT32**)&help_ptr);                /* diag_generic_available */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.cl.alarm_ack_send->diag_submod_available,(LSA_UINT32**)&help_ptr);                /* diag_submod_available */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.cl.alarm_ack_send->reserved,(LSA_UINT32**)&help_ptr);                /* reserved */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.cl.alarm_ack_send->ar_diagnosis_state,(LSA_UINT32**)&help_ptr);                /* ar_diagnosis_state */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.cl.alarm_ack_send->cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
            }
        }
    }
    else if (opcode==CM_OPC_CL_LOGBOOK_READ)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "logbook_read" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.logbook_read)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.logbook_read)+ (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+4)))-1)*sizeof(CM_UPPER_CL_LOGBOOK_ENTRY_PTR_TYPE));
                if (HIF_IS_NULL(new_rqb->args.cl.logbook_read))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.logbook_read = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.logbook_read!=LSA_NULL) /*#if1*/
            {
                /* INFO: deserialize the array size from right after the pointer */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.logbook_read->entry_count,(LSA_UINT32**)&help_ptr);                /* entry_count */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.logbook_read->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.cl.logbook_read->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
            }
        }
    }
    else if (opcode==CM_OPC_CL_PRM_UPDATE)
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_CL_PRM_UPDATE_PTR_TYPE_CM_OPC_CL_PRM_UPDATE*/

        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);       /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);         /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                            /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                           /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */

            if(*((CM_UPPER_CL_PRM_UPDATE_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL)         /* => pointer "prm_update" on shared-mem */
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.cl.prm_update)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.cl.prm_update));
                if (HIF_IS_NULL(new_rqb->args.cl.prm_update))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.cl.prm_update = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.cl.prm_update!=LSA_NULL)
            {
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.prm_update->device_nr),(LSA_UINT32**)&help_ptr);             /* device_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.prm_update->ar_nr),(LSA_UINT32**)&help_ptr);             /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.prm_update->prm_mode),(LSA_UINT32**)&help_ptr);             /* prm_mode */
                HIF_SER_COPY_SHMTH_32(&(new_rqb->args.cl.prm_update->prm_submod.api),(LSA_UINT32**)&help_ptr);             /* api */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.prm_update->prm_submod.slot_nr),(LSA_UINT32**)&help_ptr);             /* slot_nr */
                HIF_SER_COPY_SHMTH_16(&(new_rqb->args.cl.prm_update->prm_submod.subslot_nr),(LSA_UINT32**)&help_ptr);             /* subslot_nr */
                /* initialize list  */
                CmListInitialize (&new_rqb->args.cl.prm_update->prm_submod.prm_record_list);
                /* insert list: "prm_record_list" */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "prm_record_list.Flink" pointer on shared mem
                {
                    help_ptr+=HIF_SER_SIZEOF(4);   // skip prm_record_list" pointer
                    /* deserialize list: "prm_record_list" */
                    help_ptr = hif_cm_deser_prm_record_list(&new_rqb->args.cl.prm_update->prm_submod.prm_record_list,(LSA_UINT8*)help_ptr, LSA_NULL);
                }
                else
                {
                    new_rqb->args.cl.prm_update->prm_submod.prm_record_list.Flink = LSA_NULL;
                }
            }
        }
        
    }
    else if (opcode==CM_OPC_SV_CREATE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "create" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.create)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.create));
                if (HIF_IS_NULL(new_rqb->args.sv.create))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.create = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.create!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.create->rpc_remote_application_timeout1sec,(LSA_UINT32**)&help_ptr);                /* rpc_remote_application_timeout1sec */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.create->alarm_priority,(LSA_UINT32**)&help_ptr);                /* alarm_priority */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.create->can_RecordDataReadQuery,(LSA_UINT32**)&help_ptr);                /* can_RecordDataReadQuery */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.create->can_ARFSUDataAdjust,(LSA_UINT32**)&help_ptr);                /* can_ARFSUDataAdjust */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.create->enable_AlarmResponder,(LSA_UINT32**)&help_ptr);                /* enable_AlarmResponder */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.create->enable_DataStatusIndication,(LSA_UINT32**)&help_ptr);                /* enable_DataStatusIndication */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.create->IOXS_Required,(LSA_UINT32**)&help_ptr);                /* IOXS_Required */
            }
        }
    }
    else if (opcode==CM_OPC_SV_DELETE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
        }
    }
    else if (opcode==CM_OPC_SV_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "control" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.control)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.control));
                if (HIF_IS_NULL(new_rqb->args.sv.control))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.control = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.control!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.control->cmd,(LSA_UINT32**)&help_ptr);                /* cmd */
            }
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_ADD)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_add" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.dev_add)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.dev_add));
                if (HIF_IS_NULL(new_rqb->args.sv.dev_add))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.dev_add = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.dev_add!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->vendor_id,(LSA_UINT32**)&help_ptr);                /* vendor_id */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->device_id,(LSA_UINT32**)&help_ptr);                /* device_id */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->instance,(LSA_UINT32**)&help_ptr);                /* instance */
                for(i=0;i<64;i++)                                                /* annotation*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.sv.dev_add->annotation[i],(LSA_UINT32**)&help_ptr);                /* annotation */
                }
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->max_ars_IOC,(LSA_UINT32**)&help_ptr);                /* max_ars_IOC */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->max_ars_IOS,(LSA_UINT32**)&help_ptr);                /* max_ars_IOS */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->max_ars_DAC,(LSA_UINT32**)&help_ptr);                /* max_ars_DAC */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->max_slot_nr,(LSA_UINT32**)&help_ptr);                /* max_slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->max_subslot_nr,(LSA_UINT32**)&help_ptr);                /* max_subslot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->max_nr_of_subslots,(LSA_UINT32**)&help_ptr);                /* max_nr_of_subslots */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->alarm_send_max_length,(LSA_UINT32**)&help_ptr);                /* alarm_send_max_length */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.dev_add->contains_pdev,(LSA_UINT32**)&help_ptr);                /* contains_pdev */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.dev_add->central_pdev,(LSA_UINT32**)&help_ptr);                /* central_pdev */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.dev_add->parking_mode,(LSA_UINT32**)&help_ptr);                /* parking_mode */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->write_multiple_parallelism,(LSA_UINT32**)&help_ptr);                /* write_multiple_parallelism */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.dev_add->SRD_enabled,(LSA_UINT32**)&help_ptr);                /* SRD_enabled */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.dev_add->CIR_enabled,(LSA_UINT32**)&help_ptr);                /* CIR_enabled */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.dev_add->PDevPrmInd_enabled,(LSA_UINT32**)&help_ptr);                /* PDevPrmInd_enabled */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_add->min_device_interval_31250ns,(LSA_UINT32**)&help_ptr);                /* min_device_interval_31250ns */
            }
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_REMOVE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_remove" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.dev_remove)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.dev_remove));
                if (HIF_IS_NULL(new_rqb->args.sv.dev_remove))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.dev_remove = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.dev_remove!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_remove->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
            }
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_READ)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_read" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.dev_read)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.dev_read));
                if (HIF_IS_NULL(new_rqb->args.sv.dev_read))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.dev_read = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.dev_read!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_read->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.dev_read->data_length,(LSA_UINT32**)&help_ptr);                /* data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.sv.dev_read->data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.sv.dev_read->data),new_rqb->args.sv.dev_read->data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.sv.dev_read->data_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.sv.dev_read->data)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.dev_read->data),(LSA_UINT32**)&help_ptr,new_rqb->args.sv.dev_read->data_length);                /* data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.sv.dev_read->data = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.dev_read->api,(LSA_UINT32**)&help_ptr);                /* api */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_read->slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_read->subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.dev_read->record_index,(LSA_UINT32**)&help_ptr);                /* record_index */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.dev_read->target_ar_uuid.time_low,(LSA_UINT32**)&help_ptr);                /* time_low */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_read->target_ar_uuid.time_mid,(LSA_UINT32**)&help_ptr);                /* time_mid */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_read->target_ar_uuid.time_hi_and_version,(LSA_UINT32**)&help_ptr);                /* time_hi_and_version */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.dev_read->target_ar_uuid.clock_seq_hi_and_reserved,(LSA_UINT32**)&help_ptr);                /* clock_seq_hi_and_reserved */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.dev_read->target_ar_uuid.clock_seq_low,(LSA_UINT32**)&help_ptr);                /* clock_seq_low */
                for(i=0;i<6;i++)                                                /* node*/
                {
                    HIF_SER_COPY_SHMTH_8((LSA_UINT8*)&new_rqb->args.sv.dev_read->target_ar_uuid.node[i],(LSA_UINT32**)&help_ptr);                /* node */
                }
            }
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_control" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.dev_control)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.dev_control));
                if (HIF_IS_NULL(new_rqb->args.sv.dev_control))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.dev_control = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.dev_control!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_control->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_control->cmd,(LSA_UINT32**)&help_ptr);                /* cmd */
            }
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_LED_INFO)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_led_info" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.dev_led_info)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.dev_led_info));
                if (HIF_IS_NULL(new_rqb->args.sv.dev_led_info))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.dev_led_info = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.dev_led_info!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_led_info->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.dev_led_info->led_info,(LSA_UINT32**)&help_ptr);                /* led_info */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.dev_led_info->maint_info,(LSA_UINT32**)&help_ptr);                /* maint_info */
            }
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_PROVIDE_EVENT)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_provide_event" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.dev_provide_event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.dev_provide_event));
                if (HIF_IS_NULL(new_rqb->args.sv.dev_provide_event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.dev_provide_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.dev_provide_event!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_provide_event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
            }
        }
    }
    else if (opcode==CM_OPC_SV_DEVICE_PROVIDE_ALARM)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_provide_alarm" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.dev_provide_alarm)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.dev_provide_alarm));
                if (HIF_IS_NULL(new_rqb->args.sv.dev_provide_alarm))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.dev_provide_alarm = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.dev_provide_alarm!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_provide_alarm->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_provide_alarm->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.dev_provide_alarm->alarm_priority,(LSA_UINT32**)&help_ptr);                /* alarm_priority */
            }
        }
    }
    else if (opcode==CM_OPC_SV_SUBMODULE_ADD)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "submod_add" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.submod_add)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.submod_add)+ (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+4)))-1)*sizeof(CM_SV_SUBMODULE_ADD_ELEMENT_TYPE));
                if (HIF_IS_NULL(new_rqb->args.sv.submod_add))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.submod_add = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.submod_add!=LSA_NULL) /*#if1*/
            {
                /* INFO: deserialize the array size from right after the pointer */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.submod_add->nr_of_elems,(LSA_UINT32**)&help_ptr);                /* nr_of_elems */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.submod_add->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                for(i=0;i<new_rqb->args.sv.submod_add->nr_of_elems;i++)                                                /* elem*/
                {
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.submod_add->elem[i].api,(LSA_UINT32**)&help_ptr);                    /* api */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.submod_add->elem[i].slot_nr,(LSA_UINT32**)&help_ptr);                    /* slot_nr */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.submod_add->elem[i].subslot_nr,(LSA_UINT32**)&help_ptr);                    /* subslot_nr */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.submod_add->elem[i].mod_ident,(LSA_UINT32**)&help_ptr);                    /* mod_ident */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.submod_add->elem[i].sub_ident,(LSA_UINT32**)&help_ptr);                    /* sub_ident */
                    HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.submod_add->elem[i].im0_bits,(LSA_UINT32**)&help_ptr);                    /* im0_bits */
                }
            }
        }
    }
    else if (opcode==CM_OPC_SV_SUBMODULE_REMOVE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "submod_remove" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.submod_remove)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.submod_remove)+ (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+4)))-1)*sizeof(CM_SV_SUBMODULE_REMOVE_ELEMENT_TYPE));
                if (HIF_IS_NULL(new_rqb->args.sv.submod_remove))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.submod_remove = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.submod_remove!=LSA_NULL) /*#if1*/
            {
                /* INFO: deserialize the array size from right after the pointer */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.submod_remove->nr_of_elems,(LSA_UINT32**)&help_ptr);                /* nr_of_elems */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.submod_remove->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                for(i=0;i<new_rqb->args.sv.submod_remove->nr_of_elems;i++)                                                /* elem*/
                {
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.submod_remove->elem[i].api,(LSA_UINT32**)&help_ptr);                    /* api */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.submod_remove->elem[i].slot_nr,(LSA_UINT32**)&help_ptr);                    /* slot_nr */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.submod_remove->elem[i].subslot_nr,(LSA_UINT32**)&help_ptr);                    /* subslot_nr */
                }
            }
        }
    }
    else if  ((opcode==CM_OPC_SV_DIAG_ADD)
            ||(opcode==CM_OPC_SV_DIAG_ADD2)
            ||(opcode==CM_OPC_SV_DIAG_REMOVE2))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_SV_DIAG_ADD_PTR_TYPE_CM_OPC_SV_DIAG_ADD_CM_OPC_SV_DIAG_ADD2_CM_OPC_SV_DIAG_REMOVE2*/

        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);       /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);         /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                            /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                           /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))         /* check pointer "diag_add" on shared-mem */
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.diag_add)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.diag_add)+ (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+4)))-1)*sizeof(CM_SV_DIAG_ADD_ELEMENT_TYPE));
                if (HIF_IS_NULL(new_rqb->args.sv.diag_add))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.diag_add = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.diag_add!=LSA_NULL)
            {
                /* INFO: deserialize the array size from right after the pointer */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->nr_of_elems,(LSA_UINT32**)&help_ptr);             /* nr_of_elems */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->device_nr,(LSA_UINT32**)&help_ptr);             /* device_nr */
                for(i=0;i<new_rqb->args.sv.diag_add->nr_of_elems;i++)                                                /* elem*/
                {
                    HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.diag_add->elem[i].api,(LSA_UINT32**)&help_ptr);                  /* api */
                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].slot_nr,(LSA_UINT32**)&help_ptr);                  /* slot_nr */
                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].subslot_nr,(LSA_UINT32**)&help_ptr);                  /* subslot_nr */
                    HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.diag_add->elem[i].diag_tag,(LSA_UINT32**)&help_ptr);                  /* diag_tag */
                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].diag_type,(LSA_UINT32**)&help_ptr);                  /* diag_type */
                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].channel_number,(LSA_UINT32**)&help_ptr);                  /* channel_number */
                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].channel_properties,(LSA_UINT32**)&help_ptr);                  /* channel_properties */

                    if (new_rqb->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_CHANNEL)
                    {
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].u.ch.channel_error_type,(LSA_UINT32**)&help_ptr);                  /* channel_error_type */
                    }
                    else if (new_rqb->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_EXT_CHANNEL)
                    {
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].u.ext.channel_error_type,(LSA_UINT32**)&help_ptr);                  /* channel_error_type */
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].u.ext.ext_channel_error_type,(LSA_UINT32**)&help_ptr);                  /* ext_channel_error_type */
                        HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.diag_add->elem[i].u.ext.ext_channel_add_value,(LSA_UINT32**)&help_ptr);                  /* ext_channel_add_value */
                    }
                    else if (new_rqb->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_QUALIFIED)
                    {
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].u.qua.channel_error_type,(LSA_UINT32**)&help_ptr);                  /* channel_error_type */
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].u.qua.ext_channel_error_type,(LSA_UINT32**)&help_ptr);                  /* ext_channel_error_type */
                        HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.diag_add->elem[i].u.qua.ext_channel_add_value,(LSA_UINT32**)&help_ptr);                  /* ext_channel_add_value */
                        HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.diag_add->elem[i].u.qua.qualified_channel_qualifier,(LSA_UINT32**)&help_ptr);                  /* qualified_channel_qualifier */
                    }
                    else if (new_rqb->args.sv.diag_add->elem[i].diag_type == CM_SV_DIAG_TYPE_GENERIC)
                    {
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].u.gen.info_tag,(LSA_UINT32**)&help_ptr);                  /* info_tag */
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.diag_add->elem[i].u.gen.info_length,(LSA_UINT32**)&help_ptr);                  /* info_length */
                        if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.sv.diag_add->elem[i].u.gen.info_length > 0)
                        {
                            help_ptr+=4;          /* skip buffer pointer */
                            HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.sv.diag_add->elem[i].u.gen.info_data),new_rqb->args.sv.diag_add->elem[i].u.gen.info_length);
                            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%x) pRQB(0x%x)",new_rqb->args.sv.diag_add->elem[i].u.gen.info_length,opcode,help_ptr,new_rqb+4);
                            if (HIF_IS_NOT_NULL(new_rqb->args.sv.diag_add->elem[i].u.gen.info_data))
                            {
                                HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.diag_add->elem[i].u.gen.info_data),(LSA_UINT32**)&help_ptr,new_rqb->args.sv.diag_add->elem[i].u.gen.info_length);                  /* info_data */
                            }
                            else
                            {
                                return HIF_ERR_RESOURCE;
                            }
                        }
                        else
                        {
                            new_rqb->args.sv.diag_add->elem[i].u.gen.info_data = LSA_NULL;
                            help_ptr+=4;          /* skip buffer-pointer */
                        }
                    }
                }
            }
        }
        
    }
    else if (opcode==CM_OPC_SV_DIAG_REMOVE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "diag_remove" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.diag_remove)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.diag_remove)+ (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+4)))-1)*sizeof(CM_SV_DIAG_REMOVE_ELEMENT_TYPE));
                if (HIF_IS_NULL(new_rqb->args.sv.diag_remove))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.diag_remove = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.diag_remove!=LSA_NULL) /*#if1*/
            {
                /* INFO: deserialize the array size from right after the pointer */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.diag_remove->nr_of_elems,(LSA_UINT32**)&help_ptr);                /* nr_of_elems */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.diag_remove->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                for(i=0;i<new_rqb->args.sv.diag_remove->nr_of_elems;i++)                                                /* elem*/
                {
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.diag_remove->elem[i].api,(LSA_UINT32**)&help_ptr);                    /* api */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.diag_remove->elem[i].slot_nr,(LSA_UINT32**)&help_ptr);                    /* slot_nr */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.diag_remove->elem[i].subslot_nr,(LSA_UINT32**)&help_ptr);                    /* subslot_nr */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.diag_remove->elem[i].diag_tag,(LSA_UINT32**)&help_ptr);                    /* diag_tag */
                }
            }
        }
    }
    else if (opcode==CM_OPC_SV_ARSET_TRIGGER)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "arset_trigger" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.arset_trigger)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.arset_trigger));
                if (HIF_IS_NULL(new_rqb->args.sv.arset_trigger))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.arset_trigger = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.arset_trigger!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.arset_trigger->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.arset_trigger->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.arset_trigger->is_primary,(LSA_UINT32**)&help_ptr);                /* is_primary */
            }
        }
    }
    else if (opcode==CM_OPC_SV_ARSET_ABORT)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "arset_abort" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.arset_abort)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.arset_abort));
                if (HIF_IS_NULL(new_rqb->args.sv.arset_abort))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.arset_abort = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.arset_abort!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.arset_abort->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.arset_abort->arset_nr,(LSA_UINT32**)&help_ptr);                /* arset_nr */
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_APPL_READY)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "ar_appl_ready" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.ar_appl_ready)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.ar_appl_ready)+ (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr+4)))-1)*sizeof(CM_SV_AR_APPL_READY_ELEMENT_TYPE));
                if (HIF_IS_NULL(new_rqb->args.sv.ar_appl_ready))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_appl_ready = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_appl_ready!=LSA_NULL) /*#if1*/
            {
                /* INFO: deserialize the array size from right after the pointer */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_appl_ready->nr_of_elems,(LSA_UINT32**)&help_ptr);                /* nr_of_elems */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_appl_ready->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                for(i=0;i<new_rqb->args.sv.ar_appl_ready->nr_of_elems;i++)                                                /* elem*/
                {
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_appl_ready->elem[i].session_key,(LSA_UINT32**)&help_ptr);                    /* session_key */
                    HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_appl_ready->elem[i].api,(LSA_UINT32**)&help_ptr);                    /* api */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_appl_ready->elem[i].slot_nr,(LSA_UINT32**)&help_ptr);                    /* slot_nr */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_appl_ready->elem[i].subslot_nr,(LSA_UINT32**)&help_ptr);                    /* subslot_nr */
                    HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_appl_ready->elem[i].appl_ready_pending,(LSA_UINT32**)&help_ptr);                    /* appl_ready_pending */
                }
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "ar_control" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.ar_control)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.ar_control));
                if (HIF_IS_NULL(new_rqb->args.sv.ar_control))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_control = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_control!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_control->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_control->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_control->cmd,(LSA_UINT32**)&help_ptr);                /* cmd */
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_ABORT)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "ar_abort" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.ar_abort)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.ar_abort));
                if (HIF_IS_NULL(new_rqb->args.sv.ar_abort))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_abort = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_abort!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_abort->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_abort->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_PDEVPRM_READ)
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_SV_AR_PDEVPRM_RDWR_PTR_TYPE_CM_OPC_SV_AR_PDEVPRM_READ*/

        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                  /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                                             /* _opcode */
            help_ptr+=4;                                                                    /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))                                  /* check pointer "ar_pdevprm_rdwr" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.ar_pdevprm_rdwr)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.ar_pdevprm_rdwr));
                if (HIF_IS_NULL(new_rqb->args.sv.ar_pdevprm_rdwr))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_pdevprm_rdwr = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_pdevprm_rdwr!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->device_nr,(LSA_UINT32**)&help_ptr);                   /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->session_key,(LSA_UINT32**)&help_ptr);                 /* session_key */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.slot_nr,(LSA_UINT32**)&help_ptr);                 /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.subslot_nr,(LSA_UINT32**)&help_ptr);              /* subslot_nr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_index,(LSA_UINT32**)&help_ptr);            /* record_index */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length,(LSA_UINT32**)&help_ptr);      /* record_data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data),new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%x) pRQB(0x%x)",new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length,opcode,help_ptr,new_rqb+4);
                    /* No need to serialize Buffer
                    if (HIF_IS_NOT_NULL(new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data)) // #23
                    {
                        //HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data),(LSA_UINT32**)&help_ptr,new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length);                // record_data
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                    */
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_pdevprm_rdwr->rec.mk_remanent,(LSA_UINT32**)&help_ptr);                /* mk_remanent */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_pdevprm_rdwr->rec.is_local,(LSA_UINT32**)&help_ptr);                /* is_local */
            }
        }
        
    }
    else if (opcode==CM_OPC_SV_AR_PDEVPRM_WRITE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "ar_pdevprm_rdwr" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.ar_pdevprm_rdwr)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.ar_pdevprm_rdwr));
                if (HIF_IS_NULL(new_rqb->args.sv.ar_pdevprm_rdwr))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_pdevprm_rdwr = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_pdevprm_rdwr!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_index,(LSA_UINT32**)&help_ptr);                /* record_index */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length,(LSA_UINT32**)&help_ptr);                /* record_data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data),new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data),(LSA_UINT32**)&help_ptr,new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data_length);                /* record_data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.sv.ar_pdevprm_rdwr->rec.record_data = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_pdevprm_rdwr->rec.mk_remanent,(LSA_UINT32**)&help_ptr);                /* mk_remanent */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_pdevprm_rdwr->rec.is_local,(LSA_UINT32**)&help_ptr);                /* is_local */
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_RIR_ACK)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "ar_rir_ack" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.ar_rir_ack)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.ar_rir_ack));
                if (HIF_IS_NULL(new_rqb->args.sv.ar_rir_ack))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_rir_ack = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_rir_ack!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_rir_ack->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_rir_ack->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_SEND)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "ar_alarm_send" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.ar_alarm_send)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.ar_alarm_send));
                if (HIF_IS_NULL(new_rqb->args.sv.ar_alarm_send))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_alarm_send = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_alarm_send!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_send->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_send->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_send->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_alarm_send->api,(LSA_UINT32**)&help_ptr);                /* api */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_send->slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_send->subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_send->alarm_type,(LSA_UINT32**)&help_ptr);                /* alarm_type */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_send->alarm_tag,(LSA_UINT32**)&help_ptr);                /* alarm_tag */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_send->alarm_data_length,(LSA_UINT32**)&help_ptr);                /* alarm_data_length */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)) && new_rqb->args.sv.ar_alarm_send->alarm_data_length > 0 ) /*#22*/
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    HIF_ALLOC_LOCAL_MEM((LSA_VOID**)&(new_rqb->args.sv.ar_alarm_send->alarm_data),new_rqb->args.sv.ar_alarm_send->alarm_data_length);
                    HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() allocate buffer buffer_size(%d) opc(%d) shm_addr(0x%08x) pRQB(0x%08x)",new_rqb->args.sv.ar_alarm_send->alarm_data_length,opcode,help_ptr,new_rqb+4);
                    if (HIF_IS_NOT_NULL(new_rqb->args.sv.ar_alarm_send->alarm_data)) /*#23*/
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_alarm_send->alarm_data),(LSA_UINT32**)&help_ptr,new_rqb->args.sv.ar_alarm_send->alarm_data_length);                /* alarm_data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    new_rqb->args.sv.ar_alarm_send->alarm_data = LSA_NULL;  /* delete data buffer */
                    help_ptr+=4;          /* skip buffer-pointer */
                }
            }
        }
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_RSP)
    {
        /* !!!SPECIAL CASE!!! hif_cm_serialize_lower_CM_UPPER_ALARM_PTR_TYPE_CM_OPC_SV_AR_ALARM_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        // SPECIAL-CASE- get xRQB (new_rqb) manually
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);         /* xRQB pointer */
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,new_rqb+4);

        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            temp_ptr = (LSA_UINT32*)new_rqb;                         // remember new_rqb and store xRQB-ID later to here
            *ptr_ptr_rqb_dest = new_rqb;                            /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                    /*  finally save xRQB pointer to the beginn (temp_ptr) */

            if((*((CM_UPPER_ALARM_PTR_TYPE*)help_ptr)!=LSA_NULL) && (new_rqb->args.sv.ar_alarm_send != LSA_NULL))        /* => pointer "ar_alarm_send" on shared-mem */
            {
                // keep the orig. alarm-pointer
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_alarm_send = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
        
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_IND)
    {
        /* !!!SPECIAL CASE!!! hif_cm_NOT_EXISTS*/

        /* BU added, didn't exist - just copied from codegen - not checked if working*/
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"### RQB-Opcode:0x%x is not valid or not serialized! shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,ptr_rqb_src+4);
        HIF_FATAL(0);
        
    }
    else if (opcode==CM_OPC_SV_AR_ALARM_ACK)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "ar_alarm_ack" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.ar_alarm_ack)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.ar_alarm_ack));
                if (HIF_IS_NULL(new_rqb->args.sv.ar_alarm_ack))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_alarm_ack = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_alarm_ack!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_ack->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_ack->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_ack->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_ack->alarm_priority,(LSA_UINT32**)&help_ptr);                /* alarm_priority */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_alarm_ack->api,(LSA_UINT32**)&help_ptr);                /* api */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_ack->slot_nr,(LSA_UINT32**)&help_ptr);                /* slot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_ack->subslot_nr,(LSA_UINT32**)&help_ptr);                /* subslot_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_ack->alarm_type,(LSA_UINT32**)&help_ptr);                /* alarm_type */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_alarm_ack->alarm_sequence,(LSA_UINT32**)&help_ptr);                /* alarm_sequence */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_alarm_ack->diag_channel_available,(LSA_UINT32**)&help_ptr);                /* diag_channel_available */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_alarm_ack->diag_generic_available,(LSA_UINT32**)&help_ptr);                /* diag_generic_available */
                HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_alarm_ack->diag_submod_available,(LSA_UINT32**)&help_ptr);                /* diag_submod_available */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.ar_alarm_ack->reserved,(LSA_UINT32**)&help_ptr);                /* reserved */
                HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb->args.sv.ar_alarm_ack->cm_pnio_err,(LSA_UINT32**)&help_ptr);                /* cm_pnio_err */
            }
        }
    }
    else if  ((opcode==CM_OPC_SV_AR_CONNECT_IND)
            ||(opcode==CM_OPC_SV_AR_CONNECT_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_CONNECT_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        LSA_RESPONSE_TYPE response = 0;

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        // SPECIAL-CASE- get xRQB (new_rqb) manually
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);         /* xRQB pointer */
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,new_rqb+4);

        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            temp_ptr = (LSA_UINT32*)new_rqb;                         // remember new_rqb and store xRQB-ID later to here
            *ptr_ptr_rqb_dest = new_rqb;                            /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */

            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);      /* _response */
            CM_RQB_SET_RESPONSE(new_rqb,response);                           /* _response */

            HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                  /*  finally save xRQB pointer to the begin (temp_ptr) */

            if(*((CM_UPPER_EVENT_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL )         /* => pointer "ar_event" on shared-mem */
            {
                // keep the orig. pointer
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(*((CM_UPPER_SV_AR_CONNECT_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL )           /* => pointer "ar_connect" on shared-mem */
            {
                // keep the orig. alarm-pointer
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_event->u.sv.ar_connect = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }

            if HIF_IS_NOT_NULL (new_rqb->args.sv.ar_event)
            {
                if HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event->u.sv.ar_connect)
                {
                    {
                        CM_UPPER_SV_AR_CONNECT_PTR_TYPE ar_connect = new_rqb->args.sv.ar_event->u.sv.ar_connect;
                        LSA_UINT32 tmp;
                        HIF_SER_COPY_SHMTH_32(&tmp,(LSA_UINT32**)&help_ptr);            /* ARVendorBlock_cnt */
                        HIF_ASSERT(tmp == ar_connect->ARVendorBlock_cnt);
                        if (ar_connect->ARVendorBlock_cnt != 0)
                        {
                            HIF_SER_COPY_SHMTH_32(&tmp,(LSA_UINT32**)&help_ptr);            /* size helper */
                            HIF_ASSERT(tmp == ar_connect->ARVendorBlock_ptr[ar_connect->ARVendorBlock_cnt]);
                            if (HIF_IS_NOT_NULL(ar_connect->ARVendorBlock_ptr))
                            {
                                HIF_SER_COPY_SHMTH_BUF(ar_connect->ARVendorBlock_ptr, (LSA_UINT32**)&help_ptr, tmp);
                            }
                            else
                            {
                                return HIF_ERR_RESOURCE;
                            }
                        }
                        else
                        {
                            HIF_ASSERT(ar_connect->ARVendorBlock_ptr == LSA_NULL);
                        }
                    }

                    HIF_ASSERT (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr))) == new_rqb->args.sv.ar_event->u.sv.ar_connect->nr_of_iocrs);   // compare nr_of_iocrs on shm and RQB
                    help_ptr+=HIF_SER_SIZEOF(4);   // skip nr_of_iocrs on shared mem
                    for(i=0;i<new_rqb->args.sv.ar_event->u.sv.ar_connect->nr_of_iocrs;i++)
                    {                                                      /* iocr*/
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].iocr_user_id.uvar32),(LSA_UINT32**)&help_ptr);                    /* iocr_user_id */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].cycle_phase),(LSA_UINT32**)&help_ptr);                    /* cycle_phase */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddx_data_offset),(LSA_UINT32**)&help_ptr);                    /* eddx_data_offset */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddi_buffer_properties  ),(LSA_UINT32**)&help_ptr);                    /* eddi_buffer_properties   */
                        HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddx_cr_number),(LSA_UINT32**)&help_ptr);                    /* eddx_cr_number */
                        HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddp_forward_mode  ),(LSA_UINT32**)&help_ptr);                    /* eddp_forward_mode   */
                        HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_connect->iocr[i].eddp_ct_outdatastart),(LSA_UINT32**)&help_ptr);                    /* eddp_ct_outdatastart */
                    }
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_DISCONNECT_IND)
            ||(opcode==CM_OPC_SV_AR_DISCONNECT_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_DISCONNECT_RSP*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        /* SPECIAL-CASE- get xRQB (new_rqb) manually */
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);	/* xRQB pointer */
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,new_rqb+4);
        
        if (HIF_IS_NULL(new_rqb))	/* Kein lower RQB vorhanden */
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            *ptr_ptr_rqb_dest = new_rqb;							  /* return real lower rqb src without orig. upper RQB pointer */
    
            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            help_ptr+=4;						/* Specialcase: skip original upper pointer on shared mem */
            if(*((CM_UPPER_EVENT_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL && (new_rqb->args.sv.ar_event != LSA_NULL))         /* => pointer "ar_event" on shared-mem */
            {
                // keep the orig. alarm-pointer
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(*((CM_UPPER_SV_AR_CONNECT_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL  && new_rqb->args.sv.ar_event->u.sv.ar_disconnect != LSA_NULL)           /* => pointer "ar_disconnect" on shared-mem */
            {
                // keep the orig. alarm-pointer
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_event->u.sv.ar_disconnect = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_event->u.sv.ar_disconnect!=LSA_NULL)
            {
                /* INFO: deserialize the array size from right after the pointer */
                HIF_ASSERT (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr))) == new_rqb->args.sv.ar_event->u.sv.ar_disconnect->nr_of_iocrs);   // compare nr_of_iocrs on shm and RQB
                help_ptr+=HIF_SER_SIZEOF(4);   // skip nr_of_iocrs on shared mem
                for(i=0;i<new_rqb->args.sv.ar_event->u.sv.ar_disconnect->nr_of_iocrs;i++)
                {                                                      /* iocr*/
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].iocr_user_id.uvar32),(LSA_UINT32**)&help_ptr);                    /* uvar32 */
                    HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].reduction_ratio,(LSA_UINT32**)&help_ptr);             /* reduction_ratio */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].cycle_phase),(LSA_UINT32**)&help_ptr);                    /* cycle_phase */
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddx_data_offset),(LSA_UINT32**)&help_ptr);                    /* eddx_data_offset */
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddi_buffer_properties  ),(LSA_UINT32**)&help_ptr);                    /* eddi_buffer_properties   */
                    HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddx_cr_number),(LSA_UINT32**)&help_ptr);                    /* eddx_cr_number */
                    HIF_SER_COPY_SHMTH_8(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddp_forward_mode  ),(LSA_UINT32**)&help_ptr);                    /* eddp_forward_mode   */
                    HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_disconnect->iocr[i].eddp_ct_outdatastart),(LSA_UINT32**)&help_ptr);                    /* eddp_ct_outdatastart */
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_OWNERSHIP_IND)
            ||(opcode==CM_OPC_SV_AR_OWNERSHIP_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_OWNERSHIP_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        LSA_UINT32 j=0;

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        // SPECIAL-CASE- get xRQB (new_rqb) manually
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);         /* xRQB pointer */
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,new_rqb+4);

        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            temp_ptr = (LSA_UINT32*)new_rqb;                         // remember new_rqb and store xRQB-ID later to here
            *ptr_ptr_rqb_dest = new_rqb;                            /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                  /*  finally save xRQB pointer to the begin (temp_ptr) */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))         /* check pointer "ar_event" on shared-mem */
            {
                // keep the orig. pointer
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if HIF_IS_NOT_NULL (new_rqb->args.sv.ar_event)
            {
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->device_nr,(LSA_UINT32**)&help_ptr);             /* device_nr */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->ar_nr,(LSA_UINT32**)&help_ptr);             /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->session_key,(LSA_UINT32**)&help_ptr);             /* session_key */

                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))             /* check pointer "ar_ownership" on shared-mem */
                {
                    // keep the orig. pointer
                    help_ptr+=HIF_SER_SIZEOF(4);
                }
                else
                {
                    new_rqb->args.sv.ar_event->u.sv.ar_ownership = LSA_NULL;
                    help_ptr+=HIF_SER_SIZEOF(4);
                }
                if(new_rqb->args.sv.ar_event->u.sv.ar_ownership!=LSA_NULL)
                {
                    HIF_ASSERT (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr))) == new_rqb->args.sv.ar_event->u.sv.ar_ownership->nr_of_elems);   // compare nr_of_elems on shm and RQB
                    help_ptr+=HIF_SER_SIZEOF(4);   // skip nr_of_elems on shared mem
                    HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->ar_context,(LSA_UINT32**)&help_ptr);                 /* ar_context */
                    HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->set_mrp_off,(LSA_UINT32**)&help_ptr);                 /* set_mrp_off */
                    for(i=0;i<new_rqb->args.sv.ar_event->u.sv.ar_ownership->nr_of_elems;i++)
                    {                                                            /* elem*/
                        HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].api,(LSA_UINT32**)&help_ptr);                      /* api */
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].slot_nr,(LSA_UINT32**)&help_ptr);                      /* slot_nr */
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].subslot_nr,(LSA_UINT32**)&help_ptr);                      /* subslot_nr */
                        HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].mod_ident,(LSA_UINT32**)&help_ptr);                      /* mod_ident */
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].mod_properties,(LSA_UINT32**)&help_ptr);                      /* mod_properties */
                        HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].sub_ident,(LSA_UINT32**)&help_ptr);                      /* sub_ident */
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].sub_properties,(LSA_UINT32**)&help_ptr);                      /* sub_properties */
                        for(j=0;j<2;j++)
                        {                                                                           /* descr*/
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_description,(LSA_UINT32**)&help_ptr);                           /* data_description */
                            HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_user_id.uvar32,(LSA_UINT32**)&help_ptr);                           /* uvar32 */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_offset,(LSA_UINT32**)&help_ptr);                           /* data_offset */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].data_length,(LSA_UINT32**)&help_ptr);                           /* data_length */
                            HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iops_length,(LSA_UINT32**)&help_ptr);                           /* iops_length */
                            HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_user_id.uvar32,(LSA_UINT32**)&help_ptr);                           /* uvar32 */
                            HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_offset,(LSA_UINT32**)&help_ptr);                           /* iocs_offset */
                            HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].descr[j].iocs_length,(LSA_UINT32**)&help_ptr);                           /* iocs_length */
                        }
                        HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].is_wrong,(LSA_UINT32**)&help_ptr);                      /* is_wrong */
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_ownership->elem[i].owner_session_key,(LSA_UINT32**)&help_ptr);                      /* owner_session_key */
                    }
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_PDEVPRM_IND)
            ||(opcode==CM_OPC_SV_AR_PDEVPRM_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_DATA_STATUS_RSP*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        // SPECIAL-CASE- get xRQB (new_rqb) manually
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);         /* xRQB pointer for orignal lower RQB*/
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            *ptr_ptr_rqb_dest = new_rqb;                            /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                      /* _opcode */
            help_ptr+=4;                                            /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))          /* check pointer "ar_event" on shared-mem */ /*#18*/
            {
                if (HIF_IS_NULL(new_rqb->args.sv.ar_event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);                        /* skip ar_eventpointer on shared mem */
            }
            else
            {
                new_rqb->args.sv.ar_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_event!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->device_nr,(LSA_UINT32**)&help_ptr);          /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->ar_nr,(LSA_UINT32**)&help_ptr);              /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->session_key,(LSA_UINT32**)&help_ptr);        /* session_key */
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_PRM_END_IND)
            ||(opcode==CM_OPC_SV_AR_PRM_END_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_PRM_END_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        // SPECIAL-CASE- get xRQB (new_rqb) manually
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);         /* xRQB pointer */
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,new_rqb+4);

        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            temp_ptr = (LSA_UINT32*)new_rqb;                         // remember new_rqb and store xRQB-ID later to here
            *ptr_ptr_rqb_dest = new_rqb;                            /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                  /*  finally save xRQB pointer to the begin (temp_ptr) */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))         /* check pointer "ar_event" on shared-mem */
            {
                // keep the orig. pointer
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_event!=LSA_NULL)
            {
                //HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->device_nr,(LSA_UINT32**)&help_ptr);             /* device_nr */
                //HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->ar_nr,(LSA_UINT32**)&help_ptr);             /* ar_nr */
                //HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->session_key,(LSA_UINT32**)&help_ptr);             /* session_key */

                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))             /* check pointer "ar_prm_end" on shared-mem */
                {
                    // keep the orig. pointer
                    help_ptr+=HIF_SER_SIZEOF(4);
                }
                else
                {
                    new_rqb->args.sv.ar_event->u.sv.ar_prm_end = LSA_NULL;
                    help_ptr+=HIF_SER_SIZEOF(4);
                }
                if(new_rqb->args.sv.ar_event->u.sv.ar_prm_end!=LSA_NULL)
                {
                    //HIF_ASSERT (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr))) == new_rqb->args.sv.ar_event->u.sv.ar_prm_end->nr_of_elems);   // compare nr_of_elems on shm and RQB
                    //help_ptr+=HIF_SER_SIZEOF(4);   // skip nr_of_elems on shared mem
                    //HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->ar_context,(LSA_UINT32**)&help_ptr);                 /* ar_context */
                    for(i=0;i<new_rqb->args.sv.ar_event->u.sv.ar_prm_end->nr_of_elems;i++)
                    {                                                            /* elem*/
                        //HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->elem[i].api,(LSA_UINT32**)&help_ptr);                      /* api */
                        //HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->elem[i].slot_nr,(LSA_UINT32**)&help_ptr);                      /* slot_nr */
                        //HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->elem[i].subslot_nr,(LSA_UINT32**)&help_ptr);                      /* subslot_nr */
                        HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->elem[i].appl_ready_follows,(LSA_UINT32**)&help_ptr);                      /* appl_ready_follows */
                        HIF_SER_COPY_SHMTH_LSA_BOOL(&new_rqb->args.sv.ar_event->u.sv.ar_prm_end->elem[i].appl_ready_pending,(LSA_UINT32**)&help_ptr);                      /* appl_ready_pending */
                    }
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_IN_DATA_IND)
            ||(opcode==CM_OPC_SV_AR_IN_DATA_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_IN_DATA_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        // SPECIAL-CASE- get xRQB (new_rqb) manually
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);         /* xRQB pointer */
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,new_rqb+4);

        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            temp_ptr = (LSA_UINT32*)new_rqb;                         // remember new_rqb and store xRQB-ID later to here
            *ptr_ptr_rqb_dest = new_rqb;                            /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */
            HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                  /*  finally save xRQB pointer to the begin (temp_ptr) */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))         /* check pointer "ar_event" on shared-mem */
            {
                // keep the orig. pointer
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }

            if(new_rqb->args.sv.ar_event!=LSA_NULL)
            {
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->device_nr,(LSA_UINT32**)&help_ptr);             /* device_nr */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->ar_nr,(LSA_UINT32**)&help_ptr);             /* ar_nr */
                HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->session_key,(LSA_UINT32**)&help_ptr);             /* session_key */

                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))             /* check pointer "ar_in_data" on shared-mem */
                {
                    // keep the orig. pointer
                    help_ptr+=HIF_SER_SIZEOF(4);
                }
                else
                {
                    new_rqb->args.sv.ar_event->u.sv.ar_in_data = LSA_NULL;
                    help_ptr+=HIF_SER_SIZEOF(4);
                }
                if(new_rqb->args.sv.ar_event->u.sv.ar_in_data!=LSA_NULL)
                {
                    HIF_ASSERT (HIF_SHMTOL_S(*((LSA_UINT16*)(help_ptr))) == new_rqb->args.sv.ar_event->u.sv.ar_in_data->nr_of_elems);   // compare nr_of_elems on shm and RQB
                    help_ptr+=HIF_SER_SIZEOF(4);   // skip nr_of_elems on shared mem
                    for(i=0;i<new_rqb->args.sv.ar_event->u.sv.ar_in_data->nr_of_elems;i++)
                    {                                                            /* elem*/
                        HIF_SER_COPY_SHMTH_32(&new_rqb->args.sv.ar_event->u.sv.ar_in_data->elem[i].api,(LSA_UINT32**)&help_ptr);                      /* api */
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_in_data->elem[i].slot_nr,(LSA_UINT32**)&help_ptr);                      /* slot_nr */
                        HIF_SER_COPY_SHMTH_16(&new_rqb->args.sv.ar_event->u.sv.ar_in_data->elem[i].subslot_nr,(LSA_UINT32**)&help_ptr);                      /* subslot_nr */
                    }
                }
            }
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_RIR_IND)
            ||(opcode==CM_OPC_SV_AR_RIR_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_RIR_RSP*/

        LSA_RESPONSE_TYPE response = 0;

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        /* SPECIAL-CASE- get xRQB (new_rqb) manually */
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);   /* xRQB pointer */
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE,"hif_cm_deserialize_lower() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,new_rqb+4);

        if (HIF_IS_NULL(new_rqb))   /* Kein lower RQB vorhanden */
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);  /* _response */
            HIF_RQB_SET_RESPONSE(new_rqb,response);                     /* _response */
            help_ptr+=4;                                                /* Specialcase: skip original upper pointer on shared mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "ar_event" on shared-mem */ /*#18*/
            {
                /*ar _event should exist - just check it*/
                //HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.ar_event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.ar_event));
                if (HIF_IS_NULL(new_rqb->args.sv.ar_event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
        }
            
    }
    else if  ((opcode==CM_OPC_SV_AR_READ_IND)
            ||(opcode==CM_OPC_SV_AR_READ_RSP)
            ||(opcode==CM_OPC_SV_AR_WRITE_IND)
            ||(opcode==CM_OPC_SV_AR_WRITE_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_EVENT_PTR_TYPE_CM_OPC_SV_AR_READ_RSP_CM_OPC_SV_AR_WRITE_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        // SPECIAL-CASE- get xRQB (new_rqb) manually
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);         /* xRQB pointer */
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,new_rqb+4);

        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            temp_ptr = (LSA_UINT32*)new_rqb;                         // remember new_rqb and store xRQB-ID later to here
            *ptr_ptr_rqb_dest = new_rqb;                            /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
            help_ptr+=4;                  /* skip opcode on shared-mem */

            if(*((CM_UPPER_EVENT_PTR_TYPE*)(HIF_SHMTOL_L((LSA_UINT32)help_ptr)))!=LSA_NULL && (new_rqb->args.sv.ar_event != LSA_NULL))         /* => pointer "ar_event" on shared-mem */
            {
                // keep the orig. event-pointer
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.data_length),(LSA_UINT32**)&help_ptr);           /* data_length */
            HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                    /*  finally save xRQB pointer to the beginn (temp_ptr) */

            if (opcode==CM_OPC_SV_AR_READ_RSP)
            {
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))
                {
                    help_ptr+=4;          /* skip buffer pointer */
                    if (HIF_IS_NOT_NULL(new_rqb->args.sv.ar_event->u.sv.ar_rec.data))
                    {
                        HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.sv.ar_event->u.sv.ar_rec.data),(LSA_UINT32**)&help_ptr,new_rqb->args.sv.ar_event->u.sv.ar_rec.data_length);           /* data */
                    }
                    else
                    {
                        return HIF_ERR_RESOURCE;
                    }
                }
                else
                {
                    help_ptr+=4;          /* skip buffer-pointer */
                    new_rqb->args.sv.ar_event->u.sv.ar_rec.data = LSA_NULL;
                }
            }

            HIF_SER_COPY_SHMTH_32(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.cm_pnio_err),(LSA_UINT32**)&help_ptr);           /* cm_pnio_err */
            HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.ret_val_1),(LSA_UINT32**)&help_ptr);           /* ret_val_1 */
            HIF_SER_COPY_SHMTH_16(&(new_rqb->args.sv.ar_event->u.sv.ar_rec.ret_val_2),(LSA_UINT32**)&help_ptr);           /* ret_val_2 */
        }
        
    }
    else if  ((opcode==CM_OPC_SV_AR_DATA_STATUS_IND)
            ||(opcode==CM_OPC_SV_AR_DATA_STATUS_RSP))
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "ar_event" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.sv.ar_event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.sv.ar_event));
                if (HIF_IS_NULL(new_rqb->args.sv.ar_event))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.sv.ar_event = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.sv.ar_event!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->ar_nr,(LSA_UINT32**)&help_ptr);                /* ar_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.sv.ar_event->session_key,(LSA_UINT32**)&help_ptr);                /* session_key */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.ar_event->u.sv.ar_data_status.curr,(LSA_UINT32**)&help_ptr);                /* curr */
                HIF_SER_COPY_SHMTH_8(&new_rqb->args.sv.ar_event->u.sv.ar_data_status.prev,(LSA_UINT32**)&help_ptr);                /* prev */
            }
        }
    }
    else if (opcode==CM_OPC_MC_CREATE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "create" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.mc.create)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.mc.create));
                if (HIF_IS_NULL(new_rqb->args.mc.create))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.mc.create = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.mc.create!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.mc.create->max_devices,(LSA_UINT32**)&help_ptr);                /* max_devices */
            }
        }
    }
    else if (opcode==CM_OPC_MC_DELETE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
        }
    }
    else if (opcode==CM_OPC_MC_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "control" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.mc.control)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.mc.control));
                if (HIF_IS_NULL(new_rqb->args.mc.control))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.mc.control = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.mc.control!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.mc.control->control_tag,(LSA_UINT32**)&help_ptr);                /* control_tag */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.mc.control->apdu_status,(LSA_UINT32**)&help_ptr);                /* apdu_status */
            }
        }
    }
    else if (opcode==CM_OPC_MC_DEVICE_ADD)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_add" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.mc.dev_add)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.mc.dev_add));
                if (HIF_IS_NULL(new_rqb->args.mc.dev_add))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.mc.dev_add = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.mc.dev_add!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.mc.dev_add->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                /* insert list: "ar_list" */
                if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))   //check "ar_list.Flink" pointer on shared mem /*#25*/
                {
                    help_ptr+=HIF_SER_SIZEOF(4);   // skip ar_list" pointer
                    /* initialize list  */
                    CmListInitialize (&new_rqb->args.mc.dev_add->ar_list);
                    /* deserialize list: "ar_list" */
                    help_ptr = hif_cm_deser_ar_list(&new_rqb->args.mc.dev_add->ar_list,(LSA_UINT8*)help_ptr,LSA_FALSE);
                }
                else
                {
                    new_rqb->args.mc.dev_add->ar_list.Flink = LSA_NULL;
                }
            }
        }
    }
    else if (opcode==CM_OPC_MC_DEVICE_REMOVE)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_remove" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.mc.dev_remove)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.mc.dev_remove));
                if (HIF_IS_NULL(new_rqb->args.mc.dev_remove))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.mc.dev_remove = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.mc.dev_remove!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.mc.dev_remove->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
            }
        }
    }
    else if (opcode==CM_OPC_MC_DEVICE_CONTROL)
    {
        /* calculate rqb-size */
        rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);        /* RQB-size + original upper RQB pointer */
        help_ptr = (LSA_UINT8*)ptr_rqb_src;

        HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
        HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() opc(%d) rqb_size(%d) shm_addr(0x%08x) pRQB(0x%08x)",opcode,rqb_size,help_ptr,new_rqb+4);
        if (HIF_IS_NULL(new_rqb))
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);            /* orig. upper RQB pointer */
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));                                     /* real lower rqb src without orig. upper RQB pointer */
            *ptr_ptr_rqb_dest = new_rqb;                                    /* return real lower rqb src without orig. upper RQB pointer */

            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */

            if (HIF_IS_NOT_NULL(*((LSA_UINT32*)help_ptr)))            /* check pointer "dev_control" on shared-mem */ /*#18*/
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.mc.dev_control)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.mc.dev_control));
                if (HIF_IS_NULL(new_rqb->args.mc.dev_control))
                {
                    return HIF_ERR_RESOURCE;
                }
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            else
            {
                new_rqb->args.mc.dev_control = LSA_NULL;
                help_ptr+=HIF_SER_SIZEOF(4);
            }
            if(new_rqb->args.mc.dev_control!=LSA_NULL) /*#if1*/
            {
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.mc.dev_control->device_nr,(LSA_UINT32**)&help_ptr);                /* device_nr */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.mc.dev_control->control_tag,(LSA_UINT32**)&help_ptr);                /* control_tag */
                HIF_SER_COPY_SHMTH_16((LSA_UINT16*)&new_rqb->args.mc.dev_control->apdu_status,(LSA_UINT32**)&help_ptr);                /* apdu_status */
            }
        }
    }
    else if (opcode==CM_OPC_PD_EVENT_APPL_READY_RSP)
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_OPC_PD_EVENT_xxx_CM_OPC_PD_EVENT_APPL_READY_RSP*/

        LSA_UINT32* temp_ptr = LSA_NULL;
        LSA_RESPONSE_TYPE response = 0;

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        // SPECIAL-CASE- get xRQB (new_rqb) manually
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);         /* xRQB pointer */
        if (new_rqb==LSA_NULL)  //kein Sonderfall
        {
            rqb_size=sizeof(CM_RQB_TYPE) + HIF_SER_SIZEOF(4);       /* RQB-size + original upper RQB pointer */
            HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)(&new_rqb)), rqb_size );
            HIF_PROGRAM_TRACE_04(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() (no additional buffers) opc(%d) Buffer rqb_size(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,rqb_size,help_ptr,new_rqb+4);
            if (HIF_IS_NULL(new_rqb))
            {
                return HIF_ERR_RESOURCE;
            }
            //HIF_SER_COPY_SHMTH_32((LSA_UINT32*)new_rqb,(LSA_UINT32**)&help_ptr);         /* orig. upper RQB pointer */
            temp_ptr = (LSA_UINT32*)new_rqb;            // remember new_rqb and store xRQB-ID later to here
            new_rqb=(CM_RQB_TYPE*)((LSA_UINT8*)new_rqb+HIF_SER_SIZEOF(4));               /* real lower rqb src without orig. upper RQB pointer */

            new_rqb->args.channel.event=LSA_NULL; /* Init Arg Pointer */
        }
        else
        {
            HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() SPECIAL-CASE opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,new_rqb+4);
            if (HIF_IS_NOT_NULL(new_rqb))
            {
                temp_ptr = (LSA_UINT32*)new_rqb;            // remember new_rqb and store xRQB-ID later to here
            }
            else
            {
                return HIF_ERR_RESOURCE;
            }
        }
        *ptr_ptr_rqb_dest = new_rqb;                           /* return real lower rqb src without orig. upper RQB pointer */

        /* restore Lower RQB */
        CM_RQB_SET_OPCODE(new_rqb,opcode);                  /* _opcode */
        help_ptr+=4;                  /* skip opcode on shared-mem */
        HIF_SER_RESPONSE_SHMTH(&response,(LSA_UINT32**)&help_ptr);      /* _response */
        CM_RQB_SET_RESPONSE(new_rqb,response);                           /* _response */

        if(*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr)!=LSA_NULL)
        {
            if (new_rqb->args.channel.event==LSA_NULL) // it should be NO special case => not alloc
            {
                HIF_ALLOC_LOCAL_MEM(((LSA_VOID**)&(((CM_RQB_TYPE*)new_rqb)->args.channel.event)), sizeof(*((CM_RQB_TYPE*)new_rqb)->args.channel.event));
                if (HIF_IS_NULL(new_rqb->args.channel.event))
                {
                    return HIF_ERR_RESOURCE;
                }
            }

            /* INFO: no need to deserialize pointer: event */
            help_ptr+=HIF_SER_SIZEOF(4);
            /* insert mod_diff_block */
            HIF_SER_COPY_SHMTH_16(&(new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block_length),(LSA_UINT32**)&help_ptr);         /* mod_diff_block_length */
            HIF_SER_COPY_SHMTH_32(temp_ptr,(LSA_UINT32**)&help_ptr);                    /*  finally save xRQB pointer to the begin (temp_ptr) */
            if ((new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block_length > 0) && ((*((CM_COMMON_MEM_U8_PTR_TYPE*)help_ptr))!=LSA_NULL ))     //diff_block pointer
            {
                /* INFO: skip mod_diff_block pointer on shared mem */
                help_ptr+=HIF_SER_SIZEOF(4);
                HIF_SER_COPY_SHMTH_BUF((LSA_UINT32*)(new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block),(LSA_UINT32**)&help_ptr,new_rqb->args.channel.event->u.pd.appl_ready.mod_diff_block_length);         /* mod_diff_block */
                /* insert diff_list */
                if((*((CM_UPPER_EVENT_PTR_TYPE*)help_ptr))!=LSA_NULL)   // diff_list.Flink on shared-mem
                {
                    /* INFO: no need to deserialize pointer: diff_list.Flink */
                    help_ptr+=HIF_SER_SIZEOF(4);
                    if (new_rqb->args.channel.event->u.pd.appl_ready.diff_list.Flink != LSA_NULL)
                    {
                        //deserialize diff_list
                        help_ptr = hif_cm_deser_diff_list(&new_rqb->args.channel.event->u.pd.appl_ready.diff_list,(LSA_UINT8*)help_ptr,LSA_FALSE);
                    }
                    else
                    {
                        new_rqb->args.channel.event->u.pd.appl_ready.diff_list.Flink = LSA_NULL;
                    }
                }
                else
                {
                    new_rqb->args.channel.event->u.pd.appl_ready.diff_list.Flink = LSA_NULL;
                }
            }
            else
            {
                CmListInitialize (& new_rqb->args.channel.event->u.pd.appl_ready.diff_list);
            }
        }
        
    }
    else if  ((opcode==CM_OPC_PD_ALARM_RSP)
            ||(opcode==CM_OPC_CL_ALARM_RSP))
    {
        /* !!!SPECIAL CASE!!! hif_cm_deserialize_lower_CM_UPPER_ALARM_PTR_TYPE_CM_OPC_PD_ALARM_RSP_CM_OPC_CL_ALARM_RSP*/

        help_ptr = (LSA_UINT8*)ptr_rqb_src;
        /* SPECIAL-CASE- get xRQB (new_rqb) manually */
        HIF_SER_COPY_SHMTH_32((LSA_UINT32*)&new_rqb,(LSA_UINT32**)&help_ptr);	/* xRQB pointer */
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_NOTE_LOW,"hif_cm_deserialize_lower() special-case opc(%d) shm_addr(0x%x) pRQB(0x%x)",opcode,help_ptr,new_rqb+4);
        
        if (HIF_IS_NULL(new_rqb))	/* Kein lower RQB vorhanden */
        {
            return HIF_ERR_RESOURCE;
        }
        else
        {
            *ptr_ptr_rqb_dest = new_rqb;							  /* return real lower rqb src without orig. upper RQB pointer */
    
            /* restore Lower RQB */
            HIF_RQB_SET_OPCODE(new_rqb,opcode);                        /* _opcode */
            help_ptr+=4;                        /* skip opcode on shared-mem */
            help_ptr+=4;						/* Specialcase: skip original upper pointer on shared mem */
        }
        
    }
    else
    {
        HIF_PROGRAM_TRACE_03(0,LSA_TRACE_LEVEL_FATAL,"hif_cm_deserialize_lower(). RQB-Opcode:0x%x is not valid! shm_addr(0x%08x) pRQB(0x%08x)", opcode, ptr_rqb_src, new_rqb+4);
        HIF_FATAL(0);
    }
    HIF_ASSERT(HIF_IS_NOT_NULL(new_rqb)); /*#16*/
    HIF_RQB_SET_COMP_ID(new_rqb, LSA_COMP_ID_CM);            /* set comp id */
    *ptr_ptr_rqb_dest = new_rqb;

    /* Check for overwrite */
    HIF_SHM_CHECK_OVERWRITE_DESERIALIZE(ptr_rqb_src, opcode, help_ptr, "hif_cm_deserialize_lower");

    return HIF_OK;
}



#endif /* of HIF_CFG_USE_CM */
#if defined( TOOL_CHAIN_MICROSOFT ) /* Microsoft Visual C++ */
#pragma component(browser, on, references)
#endif
/*****************************************************************************/
/* End of File                                                               */
/*****************************************************************************/
